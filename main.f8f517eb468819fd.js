var Tbe=Object.defineProperty,Cbe=Object.defineProperties,Obe=Object.getOwnPropertyDescriptors,Ab=Object.getOwnPropertySymbols,B8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,k8=(ht,B,P)=>B in ht?Tbe(ht,B,{enumerable:!0,configurable:!0,writable:!0,value:P}):ht[B]=P,We=(ht,B)=>{for(var P in B||(B={}))B8.call(B,P)&&k8(ht,P,B[P]);if(Ab)for(var P of Ab(B))L8.call(B,P)&&k8(ht,P,B[P]);return ht},er=(ht,B)=>Cbe(ht,Obe(B)),U8=(ht,B)=>{var P={};for(var d in ht)B8.call(ht,d)&&B.indexOf(d)<0&&(P[d]=ht[d]);if(null!=ht&&Ab)for(var d of Ab(ht))B.indexOf(d)<0&&L8.call(ht,d)&&(P[d]=ht[d]);return P};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{7818:(ht,B,P)=>{"use strict";var d={};P.r(d),P.d(d,{BaseTextureCache:()=>Gs,CanvasRenderTarget:()=>cf,DATA_URI:()=>nF,EventEmitter:()=>lf(),ProgramCache:()=>_T,TextureCache:()=>$o,clearTextureCache:()=>gee,correctBlendMode:()=>hT,createIndicesForQuads:()=>Z2,decomposeDataUri:()=>mee,deprecation:()=>Ka,destroyTextureCache:()=>_ee,determineCrossOrigin:()=>rF,earcut:()=>iT(),getBufferType:()=>Gv,getResolutionOfUrl:()=>m_,hex2rgb:()=>Il,hex2string:()=>Lv,interleaveTypedArrays:()=>fee,isMobile:()=>ds,isPow2:()=>fT,isWebGLSupported:()=>J2,log2:()=>pT,nextPow2:()=>g_,premultiplyBlendMode:()=>cT,premultiplyRgba:()=>Q2,premultiplyTint:()=>Uv,premultiplyTintToRgba:()=>dT,removeItems:()=>Oc,rgb2hex:()=>uT,sayHello:()=>aT,sign:()=>Mc,skipHello:()=>K2,string2hex:()=>ko,trimCanvas:()=>tF,uid:()=>wu,url:()=>Cc});var O={};function E(n){return"function"==typeof n}function T(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}P.r(O),P.d(O,{ALPHA_MODES:()=>Xi,AbstractBatchRenderer:()=>XF,AbstractMultiResource:()=>qv,AbstractRenderer:()=>sC,AccessibilityManager:()=>ET,AnimatedSprite:()=>iB,AppLoaderPlugin:()=>ck,Application:()=>w_,ArrayResource:()=>PT,Attribute:()=>NT,BLEND_MODES:()=>xe,BUFFER_BITS:()=>Ou,BUFFER_TYPE:()=>Pi,BaseImageResource:()=>Ja,BasePrepare:()=>IC,BaseRenderTexture:()=>S_,BaseTexture:()=>Xn,BatchDrawCall:()=>sy,BatchGeometry:()=>lC,BatchPluginFactory:()=>QF,BatchRenderer:()=>ZF,BatchShaderGenerator:()=>qF,BatchSystem:()=>LT,BatchTextureArray:()=>ay,BitmapFont:()=>Bl,BitmapFontData:()=>k_,BitmapFontLoader:()=>Kk,BitmapText:()=>B_,BlobResource:()=>pk,Bounds:()=>hf,Buffer:()=>Ai,BufferResource:()=>df,CLEAR_MODES:()=>vo,CanvasExtract:()=>_L,CanvasGraphicsRenderer:()=>hL,CanvasMeshRenderer:()=>lL,CanvasPrepare:()=>mL,CanvasRenderer:()=>el,CanvasResource:()=>E_,CanvasSpriteRenderer:()=>fL,Circle:()=>sF,CompressedTextureLoader:()=>_k,CompressedTextureResource:()=>hy,Container:()=>Ur,ContextSystem:()=>UT,CountLimiter:()=>kk,CubeResource:()=>AT,DDSLoader:()=>vk,DEG_TO_RAD:()=>oF,DRAW_MODES:()=>ro,DisplayObject:()=>zr,ENV:()=>$i,Ellipse:()=>aF,Extract:()=>ik,FORMATS:()=>Be,FORMATS_TO_COMPONENTS:()=>bk,FillStyle:()=>mC,Filter:()=>Fl,FilterState:()=>EF,FilterSystem:()=>BT,Framebuffer:()=>Jv,FramebufferSystem:()=>GT,GC_MODES:()=>uf,GLFramebuffer:()=>TF,GLProgram:()=>HF,GLTexture:()=>oy,GRAPHICS_CURVES:()=>gf,Geometry:()=>ff,GeometrySystem:()=>jT,Graphics:()=>fs,GraphicsData:()=>OC,GraphicsGeometry:()=>Ik,IGLUniformData:()=>rte,INSTALLED:()=>b_,INTERNAL_FORMATS:()=>fn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>P_,ImageBitmapResource:()=>xT,ImageResource:()=>Kv,InteractionData:()=>TT,InteractionEvent:()=>pF,InteractionManager:()=>OT,InteractionTrackingData:()=>Wv,KTXLoader:()=>Sk,LINE_CAP:()=>Za,LINE_JOIN:()=>Qa,LineStyle:()=>Nk,Loader:()=>yo,LoaderResource:()=>$r,MASK_TYPES:()=>rr,MIPMAP_MODES:()=>Fo,MSAA_QUALITY:()=>Tn,MaskData:()=>CF,MaskSystem:()=>KT,Matrix:()=>cr,Mesh:()=>Hs,MeshBatchUvs:()=>Wk,MeshGeometry:()=>F_,MeshMaterial:()=>Gc,NineSlicePlane:()=>L_,ObjectRenderer:()=>T_,ObservablePoint:()=>wc,PI_2:()=>v_,PRECISION:()=>wi,ParticleContainer:()=>Ck,ParticleRenderer:()=>Mk,PlaneGeometry:()=>Zk,Point:()=>wr,Polygon:()=>y_,Prepare:()=>Lk,Program:()=>pf,ProjectionSystem:()=>ZT,Quad:()=>bF,QuadUv:()=>FT,RAD_TO_DEG:()=>iF,RENDERER_TYPE:()=>Ca,Rectangle:()=>Un,RenderTexture:()=>Vs,RenderTexturePool:()=>vF,RenderTextureSystem:()=>eC,Renderer:()=>Ma,Resource:()=>xc,RopeGeometry:()=>eB,RoundedRectangle:()=>lF,Runner:()=>io,SAMPLER_TYPES:()=>Mu,SCALE_MODES:()=>Mi,SHAPES:()=>Qn,SVGResource:()=>RT,ScissorSystem:()=>JT,Shader:()=>Nl,ShaderSystem:()=>tC,SimpleMesh:()=>rB,SimplePlane:()=>nB,SimpleRope:()=>tB,Sprite:()=>Bo,SpriteMaskFilter:()=>kF,Spritesheet:()=>Uk,SpritesheetLoader:()=>Gk,State:()=>Au,StateSystem:()=>nC,StencilSystem:()=>QT,System:()=>yte,TARGETS:()=>zo,TEXT_GRADIENT:()=>Lc,TYPES:()=>_t,TYPES_TO_BYTES_PER_COMPONENT:()=>_C,TYPES_TO_BYTES_PER_PIXEL:()=>Ek,TemporaryDisplayObject:()=>bT,Text:()=>I_,TextMetrics:()=>ps,TextStyle:()=>Uc,Texture:()=>Bt,TextureGCSystem:()=>rC,TextureLoader:()=>hk,TextureMatrix:()=>ry,TextureSystem:()=>iC,TextureUvs:()=>IT,Ticker:()=>qi,TickerPlugin:()=>fF,TilingSprite:()=>jk,TilingSpriteRenderer:()=>Yk,TimeLimiter:()=>Cne,Transform:()=>mT,UPDATE_PRIORITY:()=>Oa,UniformGroup:()=>Pu,VERSION:()=>hre,VideoResource:()=>DT,ViewableBuffer:()=>ly,WRAP_MODES:()=>Us,accessibleTarget:()=>cF,autoDetectRenderer:()=>zF,autoDetectResource:()=>Xv,canvasUtils:()=>yi,checkMaxIfStatementsInShader:()=>NF,createUBOElements:()=>GF,defaultFilterVertex:()=>aC,defaultVertex:()=>$F,filters:()=>dre,generateProgram:()=>YF,generateUniformBufferSync:()=>jF,getTestContext:()=>AF,getUBOData:()=>VF,graphicsUtils:()=>ane,groupD8:()=>kr,interactiveTarget:()=>_F,isMobile:()=>ds,resources:()=>ek,settings:()=>rt,systems:()=>tk,uniformParsers:()=>Ic,utils:()=>d});const v=T(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function m(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class _{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(o){t=o instanceof v?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{b(o)}catch(s){t=null!=t?t:[],s instanceof v?t=[...t,...s.errors]:t.push(s)}}if(t)throw new v(t)}}add(t){var e;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof _){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&m(e,t)}remove(t){const{_finalizers:e}=this;e&&m(e,t),t instanceof _&&t._removeParent(this)}}_.EMPTY=(()=>{const n=new _;return n.closed=!0,n})();const p=_.EMPTY;function f(n){return n instanceof _||n&&"closed"in n&&E(n.remove)&&E(n.add)&&E(n.unsubscribe)}function b(n){E(n)?n():n.unsubscribe()}const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(n,t,...e){const{delegate:r}=h;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=h;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function g(n){h.setTimeout(()=>{const{onUnhandledError:t}=C;if(!t)throw n;t(n)})}function S(){}const R=H("C",void 0,void 0);function H(n,t,e){return{kind:n,value:t,error:e}}let L=null;function U(n){if(C.useDeprecatedSynchronousErrorHandling){const t=!L;if(t&&(L={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=L;if(L=null,e)throw r}}else n()}class X extends _{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,f(t)&&t.add(this)):this.destination=Le}static create(t,e,r){return new K(t,e,r)}next(t){this.isStopped?be(function k(n){return H("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?be(function N(n){return H("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?be(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const te=Function.prototype.bind;function z(n,t){return te.call(n,t)}class le{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){he(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){he(r)}else he(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){he(e)}}}class K extends X{constructor(t,e,r){let i;if(super(),E(t)||!t)i={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let o;this&&C.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&z(t.next,o),error:t.error&&z(t.error,o),complete:t.complete&&z(t.complete,o)}):i=t}this.destination=new le(i)}}function he(n){C.useDeprecatedSynchronousErrorHandling?function G(n){C.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=n)}(n):g(n)}function be(n,t){const{onStoppedNotification:e}=C;e&&h.setTimeout(()=>e(n,t))}const Le={closed:!0,next:S,error:function Te(n){throw n},complete:S},Y="function"==typeof Symbol&&Symbol.observable||"@@observable";function oe(n){return n}let ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const o=function Re(n){return n&&n instanceof X||function ue(n){return n&&E(n.next)&&E(n.error)&&E(n.complete)}(n)&&f(n)}(e)?e:new K(e,r,i);return U(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=se(r))((i,o)=>{const s=new K({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Y](){return this}pipe(...e){return function me(n){return 0===n.length?oe:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=se(e))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=t=>new n(t),n})();function se(n){var t;return null!==(t=null!=n?n:C.Promise)&&void 0!==t?t:Promise}const Xe=T(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let De=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Et(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new Xe}next(e){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){U(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:o}=this;return r||i?p:(this.currentObservers=null,o.push(e),new _(()=>{this.currentObservers=null,m(o,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:o}=this;r?e.error(i):o&&e.complete()}asObservable(){const e=new ie;return e.source=this,e}}return n.create=(t,e)=>new Et(t,e),n})();class Et extends De{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:p}}function $e(n){return E(null==n?void 0:n.lift)}function Ne(n){return t=>{if($e(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ne(n,t,e,r,i){return new ce(n,t,e,r,i)}class ce extends X{constructor(t,e,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fe(n,t){return Ne((e,r)=>{let i=0;e.subscribe(ne(r,o=>{r.next(n.call(t,o,i++))}))})}function Ue(n,t,e,r){var s,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}function Ae(n){return this instanceof Ae?(this.v=n,this):new Ae(n)}function nt(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(M){r[M]&&(i[M]=function(w){return new Promise(function(A,D){o.push([M,w,A,D])>1||a(M,w)})})}function a(M,w){try{!function l(M){M.value instanceof Ae?Promise.resolve(M.value.v).then(u,c):y(o[0][2],M)}(r[M](w))}catch(A){y(o[0][3],A)}}function u(M){a("next",M)}function c(M){a("throw",M)}function y(M,w){M(w),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ft(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function _e(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Ft=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function En(n){return E(null==n?void 0:n.then)}function ei(n){return E(n[Y])}function ti(n){return Symbol.asyncIterator&&E(null==n?void 0:n[Symbol.asyncIterator])}function xn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hr=function Xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Yt(n){return E(null==n?void 0:n[hr])}function Dr(n){return nt(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Ae(e.read());if(i)return yield Ae(void 0);yield yield Ae(r)}}finally{e.releaseLock()}})}function ni(n){return E(null==n?void 0:n.getReader)}function lt(n){if(n instanceof ie)return n;if(null!=n){if(ei(n))return function ri(n){return new ie(t=>{const e=n[Y]();if(E(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ft(n))return function Di(n){return new ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(En(n))return function Ms(n){return new ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,g)})}(n);if(ti(n))return ws(n);if(Yt(n))return function Zu(n){return new ie(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ni(n))return function ml(n){return ws(Dr(n))}(n)}throw xn(n)}function ws(n){return new ie(t=>{(function ii(n,t){var e,r,i,o;return function $t(n,t,e,r){return new(e||(e=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(y){s(y)}}function l(c){try{u(r.throw(c))}catch(y){s(y)}}function u(c){c.done?o(c.value):function i(o){return o instanceof e?o:new e(function(s){s(o)})}(c.value).then(a,l)}u((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ft(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=e.return)&&(yield o.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Oo(n,t,e,r=0,i=!1){const o=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xr(n,t,e=1/0){return E(t)?xr((r,i)=>fe((o,s)=>t(r,o,i,s))(lt(n(r,i))),e):("number"==typeof t&&(e=t),Ne((r,i)=>function ji(n,t,e,r,i,o,s,a){const l=[];let u=0,c=0,y=!1;const M=()=>{y&&!l.length&&!u&&t.complete()},w=D=>u<r?A(D):l.push(D),A=D=>{o&&t.next(D),u++;let I=!1;lt(e(D,c++)).subscribe(ne(t,j=>{null==i||i(j),o?w(j):t.next(j)},()=>{I=!0},void 0,()=>{if(I)try{for(u--;l.length&&u<r;){const j=l.shift();s?Oo(t,s,()=>A(j)):A(j)}M()}catch(j){t.error(j)}}))};return n.subscribe(ne(t,w,()=>{y=!0,M()})),()=>{null==a||a()}}(r,i,n,e)))}function xi(n=1/0){return xr(oe,n)}const qe=new ie(n=>n.complete());function or(n){return n&&E(n.schedule)}function en(n){return n[n.length-1]}function Sr(n){return E(en(n))?n.pop():void 0}function ts(n){return or(en(n))?n.pop():void 0}function Tr(n,t=0){return Ne((e,r)=>{e.subscribe(ne(r,i=>Oo(r,n,()=>r.next(i),t),()=>Oo(r,n,()=>r.complete(),t),i=>Oo(r,n,()=>r.error(i),t)))})}function oi(n,t=0){return Ne((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function sa(n,t){if(!n)throw new Error("Iterable cannot be null");return new ie(e=>{Oo(e,t,()=>{const r=n[Symbol.asyncIterator]();Oo(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function kn(n,t){return t?function ec(n,t){if(null!=n){if(ei(n))return function lo(n,t){return lt(n).pipe(oi(t),Tr(t))}(n,t);if(Ft(n))return function di(n,t){return new ie(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(En(n))return function Hi(n,t){return lt(n).pipe(oi(t),Tr(t))}(n,t);if(ti(n))return sa(n,t);if(Yt(n))return function vl(n,t){return new ie(e=>{let r;return Oo(e,t,()=>{r=n[hr](),Oo(e,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void e.error(s)}o?e.complete():e.next(i)},0,!0)}),()=>E(null==r?void 0:r.return)&&r.return()})}(n,t);if(ni(n))return function iu(n,t){return sa(Dr(n),t)}(n,t)}throw xn(n)}(n,t):lt(n)}function Kn(n){return n<=0?()=>qe:Ne((t,e)=>{let r=0;t.subscribe(ne(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function Mo(n={}){const{connector:t=(()=>new De),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s=null,a=null,l=null,u=0,c=!1,y=!1;const M=()=>{null==a||a.unsubscribe(),a=null},w=()=>{M(),s=l=null,c=y=!1},A=()=>{const D=s;w(),null==D||D.unsubscribe()};return Ne((D,I)=>{u++,!y&&!c&&M();const j=l=null!=l?l:t();I.add(()=>{u--,0===u&&!y&&!c&&(a=uo(A,i))}),j.subscribe(I),s||(s=new K({next:W=>j.next(W),error:W=>{y=!0,M(),a=uo(w,e,W),j.error(W)},complete:()=>{c=!0,M(),a=uo(w,r),j.complete()}}),kn(D).subscribe(s))})(o)}}function uo(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Kn(1)).subscribe(()=>n())}function Sn(n){for(let t in n)if(n[t]===Sn)return t;throw Error("Could not find renamed property on target object.")}function Ps(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function tr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(tr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Jh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Qh=Sn({__forward_ref__:Sn});function gn(n){return n.__forward_ref__=gn,n.toString=function(){return tr(this())},n}function mn(n){return _P(n)?n():n}function _P(n){return"function"==typeof n&&n.hasOwnProperty(Qh)&&n.__forward_ref__===gn}class It extends Error{constructor(t,e){super(function Rb(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function an(n){return"string"==typeof n?n:null==n?"":String(n)}function wo(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():an(n)}function qg(n,t){const e=t?` in ${t}`:"";throw new It(-201,`No provider for ${wo(n)} found${e}`)}function rs(n,t){null==n&&function Ir(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Db(n){return gP(n,Kg)||gP(n,vP)}function gP(n,t){return n.hasOwnProperty(t)?n[t]:null}function mP(n){return n&&(n.hasOwnProperty(xb)||n.hasOwnProperty(z8))?n[xb]:null}const Kg=Sn({\u0275prov:Sn}),xb=Sn({\u0275inj:Sn}),vP=Sn({ngInjectableDef:Sn}),z8=Sn({ngInjectorDef:Sn});var rn=(()=>((rn=rn||{})[rn.Default=0]="Default",rn[rn.Host=1]="Host",rn[rn.Self=2]="Self",rn[rn.SkipSelf=4]="SkipSelf",rn[rn.Optional=8]="Optional",rn))();let Ib;function ou(n){const t=Ib;return Ib=n,t}function yP(n,t,e){const r=Db(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&rn.Optional?null:void 0!==t?t:void qg(tr(n),"Injector")}function su(n){return{toString:n}.toString()}var aa=(()=>((aa=aa||{})[aa.OnPush=0]="OnPush",aa[aa.Default=1]="Default",aa))(),la=(()=>{return(n=la||(la={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",la;var n})();const X8="undefined"!=typeof globalThis&&globalThis,q8="undefined"!=typeof window&&window,K8="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dr=X8||"undefined"!=typeof global&&global||q8||K8,Zh={},vr=[],Jg=Sn({\u0275cmp:Sn}),Nb=Sn({\u0275dir:Sn}),Qg=Sn({\u0275pipe:Sn}),bP=Sn({\u0275mod:Sn}),bl=Sn({\u0275fac:Sn}),lp=Sn({__NG_ELEMENT_ID__:Sn});let J8=0;function Pt(n){return su(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===aa.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||vr,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||la.Emulated,id:"c",styles:n.styles||vr,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,o=n.features,s=n.pipes;return r.id+=J8++,r.inputs=CP(n.inputs,e),r.outputs=CP(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(EP):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(SP):null,r})}function EP(n){return co(n)||function au(n){return n[Nb]||null}(n)}function SP(n){return function tc(n){return n[Qg]||null}(n)}const TP={};function vt(n){return su(()=>{const t={type:n.type,bootstrap:n.bootstrap||vr,declarations:n.declarations||vr,imports:n.imports||vr,exports:n.exports||vr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(TP[n.id]=n.type),t})}function CP(n,t){if(null==n)return Zh;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),e[i]=r,t&&(t[i]=o)}return e}const pt=Pt;function Po(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function co(n){return n[Jg]||null}function As(n,t){const e=n[bP]||null;if(!e&&!0===t)throw new Error(`Type ${tr(n)} does not have '\u0275mod' property.`);return e}function ka(n){return Array.isArray(n)&&"object"==typeof n[1]}function ca(n){return Array.isArray(n)&&!0===n[1]}function Bb(n){return 0!=(8&n.flags)}function nm(n){return 2==(2&n.flags)}function rm(n){return 1==(1&n.flags)}function ha(n){return null!==n.template}function r6(n){return 0!=(512&n[2])}function oc(n,t){return n.hasOwnProperty(bl)?n[bl]:null}class s6{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function to(){return MP}function MP(n){return n.type.prototype.ngOnChanges&&(n.setInput=l6),a6}function a6(){const n=PP(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Zh)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function l6(n,t,e,r){const i=PP(n)||function u6(n,t){return n[wP]=t}(n,{previous:Zh,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[e],l=s[a];o[a]=new s6(l&&l.currentValue,t,s===Zh),n[r]=t}to.ngInherit=!0;const wP="__ngSimpleChanges__";function PP(n){return n[wP]||null}let jb;function si(n){return!!n.listen}const AP={createRenderer:(n,t)=>function Hb(){return void 0!==jb?jb:"undefined"!=typeof document?document:void 0}()};function Ei(n){for(;Array.isArray(n);)n=n[0];return n}function im(n,t){return Ei(t[n])}function xs(n,t){return Ei(t[n.index])}function Yb(n,t){return n.data[t]}function id(n,t){return n[t]}function os(n,t){const e=t[n];return ka(e)?e:e[0]}function RP(n){return 4==(4&n[2])}function Wb(n){return 128==(128&n[2])}function lu(n,t){return null==t?null:n[t]}function DP(n){n[18]=0}function zb(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const nn={lFrame:UP(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xP(){return nn.bindingsEnabled}function tt(){return nn.lFrame.lView}function Wn(){return nn.lFrame.tView}function dt(n){return nn.lFrame.contextLView=n,n[8]}function Ii(){let n=IP();for(;null!==n&&64===n.type;)n=n.parent;return n}function IP(){return nn.lFrame.currentTNode}function Ba(n,t){const e=nn.lFrame;e.currentTNode=n,e.isParent=t}function $b(){return nn.lFrame.isParent}function Xb(){nn.lFrame.isParent=!1}function om(){return nn.isInCheckNoChangesMode}function sm(n){nn.isInCheckNoChangesMode=n}function Ao(){const n=nn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function El(){return nn.lFrame.bindingIndex}function od(){return nn.lFrame.bindingIndex++}function Sl(n){const t=nn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function M6(n,t){const e=nn.lFrame;e.bindingIndex=e.bindingRootIndex=n,qb(t)}function qb(n){nn.lFrame.currentDirectiveIndex=n}function kP(){return nn.lFrame.currentQueryIndex}function Jb(n){nn.lFrame.currentQueryIndex=n}function P6(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function BP(n,t,e){if(e&rn.SkipSelf){let i=t,o=n;for(;!(i=i.parent,null!==i||e&rn.Host||(i=P6(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;t=i,n=o}const r=nn.lFrame=LP();return r.currentTNode=t,r.lView=n,!0}function am(n){const t=LP(),e=n[1];nn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function LP(){const n=nn.lFrame,t=null===n?null:n.child;return null===t?UP(n):t}function UP(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function GP(){const n=nn.lFrame;return nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const VP=GP;function lm(){const n=GP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ro(){return nn.lFrame.selectedIndex}function uu(n){nn.lFrame.selectedIndex=n}function ai(){const n=nn.lFrame;return Yb(n.tView,n.selectedIndex)}function um(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=c&&(n.destroyHooks||(n.destroyHooks=[])).push(e,c)}}function cm(n,t,e){jP(n,t,3,e)}function hm(n,t,e,r){(3&n[2])===e&&jP(n,t,e,r)}function Qb(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function jP(n,t,e,r){const o=null!=r?r:-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(B6(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function B6(n,t,e,r){const i=e[r]<0,o=e[r+1],a=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class fp{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function dm(n,t,e){const r=si(n);let i=0;for(;i<e.length;){const o=e[i];if("number"==typeof o){if(0!==o)break;i++;const s=e[i++],a=e[i++],l=e[i++];r?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++i];e1(s)?r&&n.setProperty(t,s,a):r?n.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function HP(n){return 3===n||4===n||6===n}function e1(n){return 64===n.charCodeAt(0)}function fm(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||YP(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function YP(n,t,e,r,i){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}function WP(n){return-1!==n}function sd(n){return 32767&n}function ad(n,t){let e=function j6(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let t1=!0;function pm(n){const t=t1;return t1=n,t}let H6=0;function _p(n,t){const e=r1(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,n1(r.data,n),n1(t,null),n1(r.blueprint,null));const i=_m(n,t),o=n.injectorIndex;if(WP(i)){const s=sd(i),a=ad(i,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=i,o}function n1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function r1(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function _m(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function gm(n,t,e){!function Y6(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(lp)&&(r=e[lp]),null==r&&(r=e[lp]=H6++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function XP(n,t,e){if(e&rn.Optional)return n;qg(t,"NodeInjector")}function qP(n,t,e,r){if(e&rn.Optional&&void 0===r&&(r=null),0==(e&(rn.Self|rn.Host))){const i=n[9],o=ou(void 0);try{return i?i.get(t,r,e&rn.Optional):yP(t,r,e&rn.Optional)}finally{ou(o)}}return XP(r,t,e)}function KP(n,t,e,r=rn.Default,i){if(null!==n){const o=function X6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(lp)?n[lp]:void 0;return"number"==typeof t?t>=0?255&t:z6:t}(e);if("function"==typeof o){if(!BP(t,n,r))return r&rn.Host?XP(i,e,r):qP(t,e,r,i);try{const s=o(r);if(null!=s||r&rn.Optional)return s;qg(e)}finally{VP()}}else if("number"==typeof o){let s=null,a=r1(n,t),l=-1,u=r&rn.Host?t[16][6]:null;for((-1===a||r&rn.SkipSelf)&&(l=-1===a?_m(n,t):t[a+8],-1!==l&&ZP(r,!1)?(s=t[1],a=sd(l),t=ad(l,t)):a=-1);-1!==a;){const c=t[1];if(QP(o,a,c.data)){const y=$6(a,t,e,s,r,u);if(y!==JP)return y}l=t[a+8],-1!==l&&ZP(r,t[1].data[a+8]===u)&&QP(o,a,t)?(s=c,a=sd(l),t=ad(l,t)):a=-1}}}return qP(t,e,r,i)}const JP={};function z6(){return new ld(Ii(),tt())}function $6(n,t,e,r,i,o){const s=t[1],a=s.data[n+8],c=mm(a,s,e,null==r?nm(a)&&t1:r!=s&&0!=(3&a.type),i&rn.Host&&o===a);return null!==c?gp(t,s,c,a):JP}function mm(n,t,e,r,i){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,c=o>>20,M=i?a+c:n.directiveEnd;for(let w=r?a:a+c;w<M;w++){const A=s[w];if(w<l&&e===A||w>=l&&A.type===e)return w}if(i){const w=s[l];if(w&&ha(w)&&w.type===e)return l}return null}function gp(n,t,e,r){let i=n[e];const o=t.data;if(function L6(n){return n instanceof fp}(i)){const s=i;s.resolving&&function G8(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new It(-200,`Circular dependency in DI detected for ${n}${e}`)}(wo(o[e]));const a=pm(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ou(s.injectImpl):null;BP(n,r,rn.Default);try{i=n[e]=s.factory(void 0,o,n,r),t.firstCreatePass&&e>=r.directiveStart&&function k6(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=MP(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&ou(l),pm(a),s.resolving=!1,VP()}}return i}function QP(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function ZP(n,t){return!(n&rn.Self||n&rn.Host&&t)}class ld{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return KP(this._tNode,this._lView,t,r,e)}}function Ni(n){return su(()=>{const t=n.prototype.constructor,e=t[bl]||o1(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[bl]||o1(i);if(o&&o!==e)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function o1(n){return _P(n)?()=>{const t=o1(mn(n));return t&&t()}:oc(n)}const cd="__parameters__";function dd(n,t,e){return su(()=>{const r=function s1(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,c){const y=l.hasOwnProperty(cd)?l[cd]:Object.defineProperty(l,cd,{value:[]})[cd];for(;y.length<=c;)y.push(null);return(y[c]=y[c]||[]).push(s),l}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class qt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ot({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const K6=new qt("AnalyzeForEntryComponents");function Is(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),Is(r,t)):t!==n&&t.push(r)}return t}function La(n,t){n.forEach(e=>Array.isArray(e)?La(e,t):t(e))}function tA(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function vm(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function yp(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function ss(n,t,e){let r=fd(n,t);return r>=0?n[1|r]=e:(r=~r,function Z6(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function l1(n,t){const e=fd(n,t);if(e>=0)return n[1|e]}function fd(n,t){return function iA(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<e];if(t===s)return o<<e;s>t?i=o:r=o+1}return~(i<<e)}(n,t,1)}const bp={},c1="__NG_DI_FLAG__",bm="ngTempTokenPath",sV=/\n/gm,sA="__source",lV=Sn({provide:String,useValue:Sn});let Ep;function aA(n){const t=Ep;return Ep=n,t}function uV(n,t=rn.Default){if(void 0===Ep)throw new It(203,"");return null===Ep?yP(n,void 0,t):Ep.get(n,t&rn.Optional?null:void 0,t)}function ke(n,t=rn.Default){return(function $8(){return Ib}()||uV)(mn(n),t)}const uA=ke;function h1(n){const t=[];for(let e=0;e<n.length;e++){const r=mn(n[e]);if(Array.isArray(r)){if(0===r.length)throw new It(900,"");let i,o=rn.Default;for(let s=0;s<r.length;s++){const a=r[s],l=cV(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(ke(i,o))}else t.push(ke(r))}return t}function Sp(n,t){return n[c1]=t,n.prototype[c1]=t,n}function cV(n){return n[c1]}const Em=Sp(dd("Inject",n=>({token:n})),-1),hu=Sp(dd("Optional"),8),Tp=Sp(dd("SkipSelf"),4);let Tm,Cm;function _d(n){var t;return(null===(t=function f1(){if(void 0===Tm&&(Tm=null,dr.trustedTypes))try{Tm=dr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Tm}())||void 0===t?void 0:t.createHTML(n))||n}function gA(n){var t;return(null===(t=function p1(){if(void 0===Cm&&(Cm=null,dr.trustedTypes))try{Cm=dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Cm}())||void 0===t?void 0:t.createScriptURL(n))||n}class ac{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class TV extends ac{getTypeName(){return"HTML"}}class CV extends ac{getTypeName(){return"Style"}}class OV extends ac{getTypeName(){return"Script"}}class MV extends ac{getTypeName(){return"URL"}}class wV extends ac{getTypeName(){return"ResourceURL"}}function as(n){return n instanceof ac?n.changingThisBreaksApplicationSecurity:n}function Ua(n,t){const e=mA(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function mA(n){return n instanceof ac&&n.getTypeName()||null}class IV{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_d(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class NV{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_d(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=_d(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const s=e.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const kV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,BV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Op(n){return(n=String(n)).match(kV)||n.match(BV)?n:"unsafe:"+n}function yA(n){return(n=String(n)).split(",").map(t=>Op(t.trim())).join(", ")}function Ga(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Mp(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const bA=Ga("area,br,col,hr,img,wbr"),EA=Ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),SA=Ga("rp,rt"),_1=Mp(bA,Mp(EA,Ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Mp(SA,Ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Mp(SA,EA)),g1=Ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m1=Ga("srcset"),TA=Mp(g1,m1,Ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LV=Ga("script,style,template");class UV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!_1.hasOwnProperty(e))return this.sanitizedSomething=!0,!LV.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!TA.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;g1[a]&&(l=Op(l)),m1[a]&&(l=yA(l)),this.buf.push(" ",s,'="',CA(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();_1.hasOwnProperty(e)&&!bA.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(CA(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const GV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VV=/([^\#-~ |!])/g;function CA(n){return n.replace(/&/g,"&amp;").replace(GV,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(VV,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Om;function OA(n,t){let e=null;try{Om=Om||function vA(n){const t=new NV(n);return function FV(){try{return!!(new window.DOMParser).parseFromString(_d(""),"text/html")}catch(n){return!1}}()?new IV(t):t}(n);let r=t?String(t):"";e=Om.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=e.innerHTML,e=Om.getInertBodyElement(r)}while(r!==o);return _d((new UV).sanitizeChildren(v1(e)||e))}finally{if(e){const r=v1(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function v1(n){return"content"in n&&function jV(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function fo(n){const t=wp();return t?t.sanitize(Or.URL,n)||"":Ua(n,"URL")?as(n):Op(an(n))}function Mm(n){const t=wp();if(t)return gA(t.sanitize(Or.RESOURCE_URL,n)||"");if(Ua(n,"ResourceURL"))return gA(as(n));throw new It(904,"")}function wp(){const n=tt();return n&&n[12]}const wA="__ngContext__";function po(n,t){n[wA]=t}function b1(n){const t=function Pp(n){return n[wA]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function S1(n){return n.ngOriginalError}function oj(n,...t){n.error(...t)}class gd{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function ij(n){return n&&n.ngErrorLogger||oj}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&S1(t);for(;e&&S1(e);)e=S1(e);return e||null}}const _j=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dr))();function Va(n){return n instanceof Function?n():n}var ls=(()=>((ls=ls||{})[ls.Important=1]="Important",ls[ls.DashCase=2]="DashCase",ls))();function C1(n,t){return undefined(n,t)}function Ap(n){const t=n[3];return ca(t)?t[3]:t}function O1(n){return kA(n[13])}function M1(n){return kA(n[4])}function kA(n){for(;null!==n&&!ca(n);)n=n[4];return n}function vd(n,t,e,r,i){if(null!=r){let o,s=!1;ca(r)?o=r:ka(r)&&(s=!0,r=r[0]);const a=Ei(r);0===n&&null!==e?null==i?jA(t,e,a):lc(t,e,a,i||null,!0):1===n&&null!==e?lc(t,e,a,i||null,!0):2===n?function qA(n,t,e){const r=wm(n,t);r&&function Aj(n,t,e,r){si(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function xj(n,t,e,r,i){const o=e[7];o!==Ei(e)&&vd(t,n,r,o,i);for(let a=10;a<e.length;a++){const l=e[a];Rp(l[1],l,n,t,r,o)}}(t,n,o,e,i)}}function P1(n,t,e){if(si(n))return n.createElement(t,e);{const r=null!==e?function f6(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function LA(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,zb(i,-1)),e.splice(r,1)}function A1(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&LA(i,r),t>0&&(n[e-1][4]=r[4]);const o=vm(n,10+t);!function Ej(n,t){Rp(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function UA(n,t){if(!(256&t[2])){const e=t[11];si(e)&&e.destroyNode&&Rp(n,t,e,3,null,null),function Cj(n){let t=n[13];if(!t)return R1(n[1],n);for(;t;){let e=null;if(ka(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)ka(t)&&R1(t[1],t),t=t[3];null===t&&(t=n),ka(t)&&R1(t[1],t),e=t&&t[4]}t=e}}(t)}}function R1(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function Pj(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof fp)){const o=e[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(n,t),function wj(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Ei(t[s]),l=r[i=e[o+2]],u=e[o+3];"boolean"==typeof u?a.removeEventListener(e[o],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const s=r[i=e[o+1]];e[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();t[7]=null}}(n,t),1===t[1].type&&si(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ca(t[3])){e!==t[3]&&LA(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function GA(n,t,e){return function VA(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===la.None||i===la.Emulated)return null}return xs(r,e)}(n,t.parent,e)}function lc(n,t,e,r,i){si(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function jA(n,t,e){si(n)?n.appendChild(t,e):t.appendChild(e)}function HA(n,t,e,r,i){null!==r?lc(n,t,e,r,i):jA(n,t,e)}function wm(n,t){return si(n)?n.parentNode(t):t.parentNode}function YA(n,t,e){return zA(n,t,e)}let zA=function WA(n,t,e){return 40&n.type?xs(n,e):null};function Pm(n,t,e,r){const i=GA(n,r,t),o=t[11],a=YA(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let l=0;l<e.length;l++)HA(o,i,e[l],a,!1);else HA(o,i,e,a,!1)}function Am(n,t){if(null!==t){const e=t.type;if(3&e)return xs(t,n);if(4&e)return x1(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return Am(n,r);{const i=n[t.index];return ca(i)?x1(-1,i):Ei(i)}}if(32&e)return C1(t,n)()||Ei(n[t.index]);{const r=XA(n,t);return null!==r?Array.isArray(r)?r[0]:Am(Ap(n[16]),r):Am(n,t.next)}}return null}function XA(n,t){return null!==t?n[16][6].projection[t.projection]:null}function x1(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return Am(r,i)}return t[7]}function I1(n,t,e,r,i,o,s){for(;null!=e;){const a=r[e.index],l=e.type;if(s&&0===t&&(a&&po(Ei(a),r),e.flags|=4),64!=(64&e.flags))if(8&l)I1(n,t,e.child,r,i,o,!1),vd(t,n,i,a,o);else if(32&l){const u=C1(e,r);let c;for(;c=u();)vd(t,n,i,c,o);vd(t,n,i,a,o)}else 16&l?KA(n,t,r,e,i,o):vd(t,n,i,a,o);e=s?e.projectionNext:e.next}}function Rp(n,t,e,r,i,o){I1(e,r,n.firstChild,t,i,o,!1)}function KA(n,t,e,r,i,o){const s=e[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)vd(t,n,i,l[u],o);else I1(n,t,l,s[3],i,o,!0)}function JA(n,t,e){si(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function N1(n,t,e){si(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function QA(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}e=i+1}}const ZA="ng-template";function Nj(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==QA(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function eR(n){return 4===n.type&&n.value!==ZA}function Fj(n,t,e){return t===(4!==n.type||e?n.value:ZA)}function kj(n,t,e){let r=4;const i=n.attrs||[],o=function Uj(n){for(let t=0;t<n.length;t++)if(HP(n[t]))return t;return n.length}(i);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Fj(n,l,e)||""===l&&1===t.length){if(da(r))return!1;s=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==n.attrs){if(!Nj(n.attrs,u,e)){if(da(r))return!1;s=!0}continue}const y=Bj(8&r?"class":l,i,eR(n),e);if(-1===y){if(da(r))return!1;s=!0;continue}if(""!==u){let M;M=y>o?"":i[y+1].toLowerCase();const w=8&r?M:null;if(w&&-1!==QA(w,u,0)||2&r&&u!==M){if(da(r))return!1;s=!0}}}}else{if(!s&&!da(r)&&!da(l))return!1;if(s&&da(l))continue;s=!1,r=l|1&r}}return da(r)||s}function da(n){return 0==(1&n)}function Bj(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let o=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Gj(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function tR(n,t,e=!1){for(let r=0;r<t.length;r++)if(kj(n,t[r],e))return!0;return!1}function Vj(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function nR(n,t){return n?":not("+t.trim()+")":t}function jj(n){let t=n[0],e=1,r=2,i="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const a=n[++e];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!da(s)&&(t+=nR(o,i),i=""),r=s,o=o||!da(r);e++}return""!==i&&(t+=nR(o,i)),t}const ln={};function V(n){rR(Wn(),tt(),Ro()+n,om())}function rR(n,t,e,r){if(!r)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&cm(t,o,e)}else{const o=n.preOrderHooks;null!==o&&hm(t,o,0,e)}uu(e)}function Rm(n,t){return n<<17|t<<2}function fa(n){return n>>17&32767}function F1(n){return 2|n}function Tl(n){return(131068&n)>>2}function k1(n,t){return-131069&n|t<<2}function B1(n){return 1|n}function pR(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];if(-1!==o){const s=n.data[o];Jb(i),s.contentQueries(2,t[o],o)}}}function Dp(n,t,e,r,i,o,s,a,l,u){const c=t.blueprint.slice();return c[0]=i,c[2]=140|r,DP(c),c[3]=c[15]=n,c[8]=e,c[10]=s||n&&n[10],c[11]=a||n&&n[11],c[12]=l||n&&n[12]||null,c[9]=u||n&&n[9]||null,c[6]=o,c[16]=2==t.type?n[16]:c,c}function yd(n,t,e,r,i){let o=n.data[t];if(null===o)o=function z1(n,t,e,r,i){const o=IP(),s=$b(),l=n.data[t]=function sH(n,t,e,r,i,o){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,r,i),function O6(){return nn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=r,o.attrs=i;const s=function dp(){const n=nn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ba(o,!0),o}function bd(n,t,e,r){if(0===e)return-1;const i=t.length;for(let o=0;o<e;o++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function xp(n,t,e){am(t);try{const r=n.viewQuery;null!==r&&tE(1,r,e);const i=n.template;null!==i&&_R(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&pR(n,t),n.staticViewQueries&&tE(2,n.viewQuery,e);const o=n.components;null!==o&&function rH(n,t){for(let e=0;e<t.length;e++)CH(n,t[e])}(t,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,lm()}}function Ed(n,t,e,r){const i=t[2];if(256==(256&i))return;am(t);const o=om();try{DP(t),function NP(n){return nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&_R(n,t,e,2,r);const s=3==(3&i);if(!o)if(s){const u=n.preOrderCheckHooks;null!==u&&cm(t,u,null)}else{const u=n.preOrderHooks;null!==u&&hm(t,u,0,null),Qb(t,0)}if(function SH(n){for(let t=O1(n);null!==t;t=M1(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],o=i[3];0==(1024&i[2])&&zb(o,1),i[2]|=1024}}}(t),function EH(n){for(let t=O1(n);null!==t;t=M1(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];Wb(r)&&Ed(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&pR(n,t),!o)if(s){const u=n.contentCheckHooks;null!==u&&cm(t,u)}else{const u=n.contentHooks;null!==u&&hm(t,u,1),Qb(t,1)}!function tH(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)uu(~i);else{const o=i,s=e[++r],a=e[++r];M6(s,o),a(2,t[o])}}}finally{uu(-1)}}(n,t);const a=n.components;null!==a&&function nH(n,t){for(let e=0;e<t.length;e++)TH(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&tE(2,l,r),!o)if(s){const u=n.viewCheckHooks;null!==u&&cm(t,u)}else{const u=n.viewHooks;null!==u&&hm(t,u,2),Qb(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,zb(t[3],-1))}finally{lm()}}function iH(n,t,e,r){const i=t[10],o=!om(),s=RP(t);try{o&&!s&&i.begin&&i.begin(),s&&xp(n,t,r),Ed(n,t,e,r)}finally{o&&!s&&i.end&&i.end()}}function _R(n,t,e,r,i){const o=Ro(),s=2&r;try{uu(-1),s&&t.length>20&&rR(n,t,20,om()),e(r,i)}finally{uu(o)}}function gR(n,t,e){if(Bb(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function $1(n,t,e){!xP()||(function fH(n,t,e,r){const i=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||_p(e,t),po(r,t);const s=e.initialInputs;for(let a=i;a<o;a++){const l=n.data[a],u=ha(l);u&&vH(t,e,l);const c=gp(t,n,a,e);po(c,t),null!==s&&yH(0,a-i,c,l,0,s),u&&(os(e.index,t)[8]=c)}}(n,t,e,xs(e,t)),128==(128&e.flags)&&function pH(n,t,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,a=function w6(){return nn.lFrame.currentDirectiveIndex}();try{uu(s);for(let l=r;l<i;l++){const u=n.data[l],c=t[l];qb(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&CR(u,c)}}finally{uu(-1),qb(a)}}(n,t,e))}function X1(n,t,e=xs){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?e(t,n):n[s];n[i++]=a}}}function mR(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Im(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Im(n,t,e,r,i,o,s,a,l,u){const c=20+r,y=c+i,M=function oH(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:ln);return e}(c,y),w="function"==typeof u?u():u;return M[1]={type:n,blueprint:M,template:e,queries:null,viewQuery:a,declTNode:t,data:M.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:w,incompleteFirstPass:!1}}function bR(n,t,e,r){const i=RR(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&DR(n).push(r,i.length-1))}function ER(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function us(n,t,e,r,i,o,s,a){const l=xs(t,e);let c,u=t.inputs;!a&&null!=u&&(c=u[r])?(NR(n,e,c,r,i),nm(t)&&function uH(n,t){const e=os(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function lH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,si(o)?o.setProperty(l,r,i):e1(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function q1(n,t,e,r){let i=!1;if(xP()){const o=function _H(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];tR(e,s.selectors,!1)&&(i||(i=[]),gm(_p(e,t),n,s.type),ha(s)?(OR(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==o){i=!0,MR(e,n.data.length,o.length);for(let c=0;c<o.length;c++){const y=o[c];y.providersResolver&&y.providersResolver(y)}let a=!1,l=!1,u=bd(n,t,o.length,null);for(let c=0;c<o.length;c++){const y=o[c];e.mergedAttrs=fm(e.mergedAttrs,y.hostAttrs),wR(n,e,t,u,y),mH(u,y,s),null!==y.contentQueries&&(e.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(e.flags|=128);const M=y.type.prototype;!a&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function aH(n,t){const r=t.directiveEnd,i=n.data,o=t.attrs,s=[];let a=null,l=null;for(let u=t.directiveStart;u<r;u++){const c=i[u],y=c.inputs,M=null===o||eR(t)?null:bH(y,o);s.push(M),a=ER(y,u,a),l=ER(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function gH(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const o=e[t[i+1]];if(null==o)throw new It(-301,!1);r.push(t[i],o)}}}(e,r,s)}return e.mergedAttrs=fm(e.mergedAttrs,e.attrs),i}function TR(n,t,e,r,i,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function dH(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function CR(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function OR(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function mH(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;ha(t)&&(e[""]=n)}}function MR(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function wR(n,t,e,r,i){n.data[r]=i;const o=i.factory||(i.factory=oc(i.type)),s=new fp(o,ha(i),null);n.blueprint[r]=s,e[r]=s,TR(n,t,0,r,bd(n,e,i.hostVars,ln),i)}function vH(n,t,e){const r=xs(t,n),i=mR(e),o=n[10],s=Nm(n,Dp(n,i,null,e.onPush?64:16,r,t,o,o.createRenderer(r,e),null,null));n[t.index]=s}function ja(n,t,e,r,i,o){const s=xs(n,t);!function K1(n,t,e,r,i,o,s){if(null==o)si(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const a=null==s?an(o):s(o,r||"",i);si(n)?n.setAttribute(t,i,a,e):e?t.setAttributeNS(e,i,a):t.setAttribute(i,a)}}(t[11],s,o,n.value,e,r,i)}function yH(n,t,e,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const u=s[l++],c=s[l++],y=s[l++];null!==a?r.setInput(e,y,u,c):e[c]=y}}}function bH(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function PR(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function TH(n,t){const e=os(t,n);if(Wb(e)){const r=e[1];80&e[2]?Ed(r,e,r.template,e[8]):e[5]>0&&J1(e)}}function J1(n){for(let r=O1(n);null!==r;r=M1(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];Ed(s,o,s.template,o[8])}else o[5]>0&&J1(o)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=os(e[r],n);Wb(i)&&i[5]>0&&J1(i)}}function CH(n,t){const e=os(t,n),r=e[1];(function OH(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),xp(r,e,e[8])}function Nm(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Q1(n){for(;n;){n[2]|=64;const t=Ap(n);if(r6(n)&&!t)return n;n=t}return null}function eE(n,t,e){const r=t[10];r.begin&&r.begin();try{Ed(n,t,n.template,e)}catch(i){throw IR(t,i),i}finally{r.end&&r.end()}}function AR(n){!function Z1(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=b1(e),i=r[1];iH(i,r,i.template,e)}}(n[8])}function tE(n,t,e){Jb(0),t(n,e)}const AH=(()=>Promise.resolve(null))();function RR(n){return n[7]||(n[7]=[])}function DR(n){return n.cleanup||(n.cleanup=[])}function IR(n,t){const e=n[9],r=e?e.get(gd,null):null;r&&r.handleError(t)}function NR(n,t,e,r,i){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],u=n.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Cl(n,t,e){const r=im(t,n);!function BA(n,t,e){si(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function Fm(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Jh(i,a):2==o&&(r=Jh(r,a+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const nE=new qt("INJECTOR",-1);class FR{get(t,e=bp){if(e===bp){const r=new Error(`NullInjectorError: No provider for ${tr(t)}!`);throw r.name="NullInjectorError",r}return e}}const rE=new qt("Set Injector scope."),Ip={},xH={};let iE;function kR(){return void 0===iE&&(iE=new FR),iE}function BR(n,t=null,e=null,r){const i=LR(n,t,e,r);return i._resolveInjectorDefTypes(),i}function LR(n,t=null,e=null,r){return new IH(n,e,t||kR(),r)}class IH{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&La(e,a=>this.processProvider(a,t,e)),La([t],a=>this.processInjectorType(a,[],o)),this.records.set(nE,Sd(void 0,this));const s=this.records.get(rE);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:tr(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bp,r=rn.Default){this.assertNotDestroyed();const i=aA(this),o=ou(void 0);try{if(!(r&rn.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function VH(n){return"function"==typeof n||"object"==typeof n&&n instanceof qt}(t)&&Db(t);a=l&&this.injectableDefInScope(l)?Sd(oE(t),Ip):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&rn.Self?kR():this.parent).get(t,e=r&rn.Optional&&e===bp?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[bm]=s[bm]||[]).unshift(tr(t)),i)throw s;return function hV(n,t,e,r){const i=n[bm];throw t[sA]&&i.unshift(t[sA]),n.message=function dV(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=tr(t);if(Array.isArray(t))i=t.map(tr).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tr(a)))}i=`{${o.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(sV,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[bm]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{ou(o),aA(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(tr(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new It(205,!1)}processInjectorType(t,e,r){if(!(t=mn(t)))return!1;let i=mP(t);const o=null==i&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=mP(o)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(s);try{La(i.imports,y=>{this.processInjectorType(y,e,r)&&(void 0===c&&(c=[]),c.push(y))})}finally{}if(void 0!==c)for(let y=0;y<c.length;y++){const{ngModule:M,providers:w}=c[y];La(w,A=>this.processProvider(A,M,w||vr))}}this.injectorDefTypes.add(s);const l=oc(s)||(()=>new s);this.records.set(s,Sd(l,Ip));const u=i.providers;if(null!=u&&!a){const c=t;La(u,y=>this.processProvider(y,c,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,r){let i=Td(t=mn(t))?t:mn(t&&t.provide);const o=function FH(n,t,e){return GR(n)?Sd(void 0,n.useValue):Sd(UR(n),Ip)}(t);if(Td(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=Sd(void 0,Ip,!0),s.factory=()=>h1(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,o)}hydrate(t,e){return e.value===Ip&&(e.value=xH,e.value=e.factory()),"object"==typeof e.value&&e.value&&function GH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=mn(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function oE(n){const t=Db(n),e=null!==t?t.factory:oc(n);if(null!==e)return e;if(n instanceof qt)throw new It(204,!1);if(n instanceof Function)return function NH(n){const t=n.length;if(t>0)throw yp(t,"?"),new It(204,!1);const e=function Y8(n){const t=n&&(n[Kg]||n[vP]);if(t){const e=function W8(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new It(204,!1)}function UR(n,t,e){let r;if(Td(n)){const i=mn(n);return oc(i)||oE(i)}if(GR(n))r=()=>mn(n.useValue);else if(function BH(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...h1(n.deps||[]));else if(function kH(n){return!(!n||!n.useExisting)}(n))r=()=>ke(mn(n.useExisting));else{const i=mn(n&&(n.useClass||n.provide));if(!function UH(n){return!!n.deps}(n))return oc(i)||oE(i);r=()=>new i(...h1(n.deps))}return r}function Sd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function GR(n){return null!==n&&"object"==typeof n&&lV in n}function Td(n){return"function"==typeof n}let Si=(()=>{class n{static create(e,r){var i;if(Array.isArray(e))return BR({name:""},r,e,"");{const o=null!==(i=e.name)&&void 0!==i?i:"";return BR({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=bp,n.NULL=new FR,n.\u0275prov=ot({token:n,providedIn:"any",factory:()=>ke(nE)}),n.__NG_ELEMENT_ID__=-1,n})();function qH(n,t){um(b1(n)[1],Ii())}function sr(n){let t=function QR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(ha(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new It(903,"");i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=lE(n.inputs),s.declaredInputs=lE(n.declaredInputs),s.outputs=lE(n.outputs);const a=i.hostBindings;a&&ZH(n,a);const l=i.viewQuery,u=i.contentQueries;if(l&&JH(n,l),u&&QH(n,u),Ps(n.inputs,i.inputs),Ps(n.declaredInputs,i.declaredInputs),Ps(n.outputs,i.outputs),ha(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===sr&&(e=!1)}}t=Object.getPrototypeOf(t)}!function KH(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=fm(i.hostAttrs,e=fm(e,i.hostAttrs))}}(r)}function lE(n){return n===Zh?{}:n===vr?[]:n}function JH(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function QH(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,o)=>{t(r,i,o),e(r,i,o)}:t}function ZH(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let km=null;function Cd(){if(!km){const n=dr.Symbol;if(n&&n.iterator)km=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(km=r)}}}return km}function Np(n){return!!uE(n)&&(Array.isArray(n)||!(n instanceof Map)&&Cd()in n)}function uE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ha(n,t,e){return n[t]=e}function _o(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function uc(n,t,e,r){const i=_o(n,t,e);return _o(n,t+1,r)||i}function Bm(n,t,e,r,i){const o=uc(n,t,e,r);return _o(n,t+2,i)||o}function nr(n,t,e,r){const i=tt();return _o(i,od(),t)&&(Wn(),ja(ai(),i,n,t,e,r)),nr}function Md(n,t,e,r){return _o(n,od(),e)?t+an(e)+r:ln}function pe(n,t,e,r,i,o,s,a){const l=tt(),u=Wn(),c=n+20,y=u.firstCreatePass?function s7(n,t,e,r,i,o,s,a,l){const u=t.consts,c=yd(t,n,4,s||null,lu(u,a));q1(t,e,c,lu(u,l)),um(t,c);const y=c.tViews=Im(2,c,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),y.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,e,r,i,o,s):u.data[c];Ba(y,!1);const M=l[11].createComment("");Pm(u,l,M,y),po(M,l),Nm(l,l[c]=PR(M,l,M,y)),rm(y)&&$1(u,l,y),null!=s&&X1(l,y,a)}function Fs(n){return id(function C6(){return nn.lFrame.contextLView}(),20+n)}function q(n,t=rn.Default){const e=tt();return null===e?ke(n,t):KP(Ii(),e,mn(n),t)}function pE(){throw new Error("invalid")}function Q(n,t,e){const r=tt();return _o(r,od(),t)&&us(Wn(),ai(),r,n,t,r[11],e,!1),Q}function _E(n,t,e,r,i){const s=i?"class":"style";NR(n,e,t.inputs[s],s,r)}function x(n,t,e,r){const i=tt(),o=Wn(),s=20+n,a=i[11],l=i[s]=P1(a,t,function F6(){return nn.lFrame.currentNamespace}()),u=o.firstCreatePass?function w7(n,t,e,r,i,o,s){const a=t.consts,u=yd(t,n,2,i,lu(a,o));return q1(t,e,u,lu(a,s)),null!==u.attrs&&Fm(u,u.attrs,!1),null!==u.mergedAttrs&&Fm(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,i,0,t,e,r):o.data[s];Ba(u,!0);const c=u.mergedAttrs;null!==c&&dm(a,l,c);const y=u.classes;null!==y&&N1(a,l,y);const M=u.styles;return null!==M&&JA(a,l,M),64!=(64&u.flags)&&Pm(o,i,l,u),0===function y6(){return nn.lFrame.elementDepthCount}()&&po(l,i),function b6(){nn.lFrame.elementDepthCount++}(),rm(u)&&($1(o,i,u),gR(o,u,i)),null!==r&&X1(i,u),x}function F(){let n=Ii();$b()?Xb():(n=n.parent,Ba(n,!1));const t=n;!function E6(){nn.lFrame.elementDepthCount--}();const e=Wn();return e.firstCreatePass&&(um(e,n),Bb(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function G6(n){return 0!=(16&n.flags)}(t)&&_E(e,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function V6(n){return 0!=(32&n.flags)}(t)&&_E(e,t,tt(),t.stylesWithoutHost,!1),F}function Ge(n,t,e,r){return x(n,t,e,r),F(),Ge}function un(n,t,e){const r=tt(),i=Wn(),o=n+20,s=i.firstCreatePass?function P7(n,t,e,r,i){const o=t.consts,s=lu(o,r),a=yd(t,n,8,"ng-container",s);return null!==s&&Fm(a,s,!0),q1(t,e,a,lu(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,e):i.data[o];Ba(s,!0);const a=r[o]=r[11].createComment("");return Pm(i,r,a,s),po(a,r),rm(s)&&($1(i,r,s),gR(i,s,r)),null!=e&&X1(r,s),un}function cn(){let n=Ii();const t=Wn();return $b()?Xb():(n=n.parent,Ba(n,!1)),t.firstCreatePass&&(um(t,n),Bb(n)&&t.queries.elementEnd(n)),cn}function Ct(){return tt()}function kp(n){return!!n&&"function"==typeof n.then}const gE=function yD(n){return!!n&&"function"==typeof n.subscribe};function Oe(n,t,e,r){const i=tt(),o=Wn(),s=Ii();return function ED(n,t,e,r,i,o,s,a){const l=rm(r),c=n.firstCreatePass&&DR(n),y=t[8],M=RR(t);let w=!0;if(3&r.type||a){const I=xs(r,t),j=a?a(I):I,W=M.length,re=a?ae=>a(Ei(ae[r.index])):r.index;if(si(e)){let ae=null;if(!a&&l&&(ae=function A7(n,t,e,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===e&&i[o+1]===r){const a=t[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,i,r.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,w=!1;else{o=mE(r,t,y,o,!1);const Z=e.listen(j,i,o);M.push(o,Z),c&&c.push(i,re,W,W+1)}}else o=mE(r,t,y,o,!0),j.addEventListener(i,o,s),M.push(o),c&&c.push(i,re,W,s)}else o=mE(r,t,y,o,!1);const A=r.outputs;let D;if(w&&null!==A&&(D=A[i])){const I=D.length;if(I)for(let j=0;j<I;j+=2){const ee=t[D[j]][D[j+1]].subscribe(o),Ee=M.length;M.push(o,ee),c&&c.push(i,r.index,Ee,-(Ee+1))}}}(o,i,i[11],s,n,t,!!e,r),Oe}function SD(n,t,e,r){try{return!1!==e(r)}catch(i){return IR(n,i),!1}}function mE(n,t,e,r,i){return function o(s){if(s===Function)return r;const a=2&n.flags?os(n.index,t):t;0==(32&t[2])&&Q1(a);let l=SD(t,0,r,s),u=o.__ngNextListenerFn__;for(;u;)l=SD(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function ve(n=1){return function A6(n){return(nn.lFrame.contextLView=function R6(n,t){for(;n>0;)t=t[15],n--;return t}(n,nn.lFrame.contextLView))[8]}(n)}function R7(n,t){let e=null;const r=function Lj(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?tR(n,o,!0):Vj(r,o))return i}else e=i}return e}function Um(n){const t=tt()[16][6];if(!t.projection){const r=t.projection=yp(n?n.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=n?R7(o,n):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Gm(n,t=0,e){const r=tt(),i=Wn(),o=yd(i,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Xb(),64!=(64&o.flags)&&function Dj(n,t,e){KA(t[11],0,t,e,GA(n,e,t),YA(e.parent||t[6],e,t))}(i,r,o)}function Fd(n,t,e){return Vm(n,"",t,"",e),Fd}function Vm(n,t,e,r,i){const o=tt(),s=Md(o,t,e,r);return s!==ln&&us(Wn(),ai(),o,n,s,o[11],i,!1),Vm}function DD(n,t,e,r,i){const o=n[e+1],s=null===t;let a=r?fa(o):Tl(o),l=!1;for(;0!==a&&(!1===l||s);){const c=n[a+1];I7(n[a],t)&&(l=!0,n[a+1]=r?B1(c):F1(c)),a=r?fa(c):Tl(c)}l&&(n[e+1]=r?F1(o):B1(o))}function I7(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&fd(n,t)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xD(n){return n.substring(ki.key,ki.keyEnd)}function ID(n,t){const e=ki.textEnd;return e===t?-1:(t=ki.keyEnd=function B7(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ki.key=t,e),kd(n,t,e))}function kd(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Bp(n,t,e){return _a(n,t,e,!1),Bp}function ut(n,t){return _a(n,t,null,!0),ut}function cc(n){!function ga(n,t,e,r){const i=Wn(),o=Sl(2);i.firstUpdatePass&&UD(i,null,o,r);const s=tt();if(e!==ln&&_o(s,o,e)){const a=i.data[Ro()];if(HD(a,r)&&!LD(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Jh(l,e||"")),_E(i,a,s,e,r)}else!function z7(n,t,e,r,i,o,s,a){i===ln&&(i=vr);let l=0,u=0,c=0<i.length?i[0]:null,y=0<o.length?o[0]:null;for(;null!==c||null!==y;){const M=l<i.length?i[l+1]:void 0,w=u<o.length?o[u+1]:void 0;let D,A=null;c===y?(l+=2,u+=2,M!==w&&(A=y,D=w)):null===y||null!==c&&c<y?(l+=2,A=c):(u+=2,A=y,D=w),null!==A&&VD(n,t,e,r,A,D,s,a),c=l<i.length?i[l]:null,y=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function W7(n,t,e){if(null==e||""===e)return vr;const r=[],i=as(e);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,o)}}(ss,Wa,n,!0)}function Wa(n,t){for(let e=function F7(n){return function FD(n){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=n.length}(n),ID(n,kd(n,0,ki.textEnd))}(t);e>=0;e=ID(t,e))ss(n,xD(t),!0)}function _a(n,t,e,r){const i=tt(),o=Wn(),s=Sl(2);o.firstUpdatePass&&UD(o,n,s,r),t!==ln&&_o(i,s,t)&&VD(o,o.data[Ro()],i,i[11],n,i[s+1]=function $7(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=tr(as(n)))),n}(t,e),r,s)}function LD(n,t){return t>=n.expandoStartIndex}function UD(n,t,e,r){const i=n.data;if(null===i[e+1]){const o=i[Ro()],s=LD(n,e);HD(o,r)&&null===t&&!s&&(t=!1),t=function V7(n,t,e,r){const i=function Kb(n){const t=nn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Lp(e=vE(null,n,t,e,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=vE(i,n,t,e,r),null===o){let l=function j7(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==Tl(r))return n[fa(r)]}(n,t,r);void 0!==l&&Array.isArray(l)&&(l=vE(null,n,t,l[1],r),l=Lp(l,t.attrs,r),function H7(n,t,e,r){n[fa(e?t.classBindings:t.styleBindings)]=r}(n,t,r,l))}else o=function Y7(n,t,e){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Lp(r,n[o].hostAttrs,e);return Lp(r,t.attrs,e)}(n,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),e}(i,o,t,r),function D7(n,t,e,r,i,o){let s=o?t.classBindings:t.styleBindings,a=fa(s),l=Tl(s);n[r]=e;let c,u=!1;if(Array.isArray(e)){const y=e;c=y[1],(null===c||fd(y,c)>0)&&(u=!0)}else c=e;if(i)if(0!==l){const M=fa(n[a+1]);n[r+1]=Rm(M,a),0!==M&&(n[M+1]=k1(n[M+1],r)),n[a+1]=function Wj(n,t){return 131071&n|t<<17}(n[a+1],r)}else n[r+1]=Rm(a,0),0!==a&&(n[a+1]=k1(n[a+1],r)),a=r;else n[r+1]=Rm(l,0),0===a?a=r:n[l+1]=k1(n[l+1],r),l=r;u&&(n[r+1]=F1(n[r+1])),DD(n,c,r,!0),DD(n,c,r,!1),function x7(n,t,e,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&fd(o,t)>=0&&(e[r+1]=B1(e[r+1]))}(t,c,n,r,o),s=Rm(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,e,s,r)}}function vE(n,t,e,r,i){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],r=Lp(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),r}function Lp(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ss(n,s,!!e||t[++o]))}return void 0===n?null:n}function VD(n,t,e,r,i,o,s,a){if(!(3&t.type))return;const l=n.data,u=l[a+1];jm(function sR(n){return 1==(1&n)}(u)?jD(l,t,e,i,Tl(u),s):void 0)||(jm(o)||function oR(n){return 2==(2&n)}(u)&&(o=jD(l,null,e,i,a,s)),function Ij(n,t,e,r,i){const o=si(n);if(t)i?o?n.addClass(e,r):e.classList.add(r):o?n.removeClass(e,r):e.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:ls.DashCase;if(null==i)o?n.removeStyle(e,r,s):e.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),s|=ls.Important),o?n.setStyle(e,r,i,s):e.style.setProperty(r,i,a?"important":"")}}}(r,s,im(Ro(),e),i,o))}function jD(n,t,e,r,i,o){const s=null===t;let a;for(;i>0;){const l=n[i],u=Array.isArray(l),c=u?l[1]:l,y=null===c;let M=e[i+1];M===ln&&(M=y?vr:void 0);let w=y?l1(M,r):c===r?M:void 0;if(u&&!jm(w)&&(w=l1(l,r)),jm(w)&&(a=w,s))return a;const A=n[i+1];i=s?fa(A):Tl(A)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=l1(l,r))}return a}function jm(n){return void 0!==n}function HD(n,t){return 0!=(n.flags&(t?16:32))}function $(n,t=""){const e=tt(),r=Wn(),i=n+20,o=r.firstCreatePass?yd(r,i,1,t,null):r.data[i],s=e[i]=function w1(n,t){return si(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Pm(r,e,s,o),Ba(o,!1)}function jt(n){return He("",n,""),jt}function He(n,t,e){const r=tt(),i=Md(r,n,t,e);return i!==ln&&Cl(r,Ro(),i),He}function Wi(n,t,e,r,i){const o=tt(),s=function wd(n,t,e,r,i,o){const a=uc(n,El(),e,i);return Sl(2),a?t+an(e)+r+an(i)+o:ln}(o,n,t,e,r,i);return s!==ln&&Cl(o,Ro(),s),Wi}function yE(n,t,e,r,i,o,s){const a=tt(),l=function Pd(n,t,e,r,i,o,s,a){const u=Bm(n,El(),e,i,s);return Sl(3),u?t+an(e)+r+an(i)+o+an(s)+a:ln}(a,n,t,e,r,i,o,s);return l!==ln&&Cl(a,Ro(),l),yE}const dc=void 0;var f9=["en",[["a","p"],["AM","PM"],dc],[["AM","PM"],dc,dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dc,"{1} 'at' {0}",dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function d9(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Bd={};function xo(n){const t=function p9(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ax(t);if(e)return e;const r=t.split("-")[0];if(e=ax(r),e)return e;if("en"===r)return f9;throw new Error(`Missing locale data for the locale "${n}".`)}function ax(n){return n in Bd||(Bd[n]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[n]),Bd[n]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const Hm="en-US";let lx=Hm;function TE(n,t,e,r,i){if(n=mn(n),Array.isArray(n))for(let o=0;o<n.length;o++)TE(n[o],t,e,r,i);else{const o=Wn(),s=tt();let a=Td(n)?n:mn(n.provide),l=UR(n);const u=Ii(),c=1048575&u.providerIndexes,y=u.directiveStart,M=u.providerIndexes>>20;if(Td(n)||!n.multi){const w=new fp(l,i,q),A=OE(a,t,i?c:c+M,y);-1===A?(gm(_p(u,s),o,a),CE(o,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(w),s.push(w)):(e[A]=w,s[A]=w)}else{const w=OE(a,t,c+M,y),A=OE(a,t,c,c+M),D=w>=0&&e[w],I=A>=0&&e[A];if(i&&!I||!i&&!D){gm(_p(u,s),o,a);const j=function cY(n,t,e,r,i){const o=new fp(n,e,q);return o.multi=[],o.index=t,o.componentProviders=0,xx(o,i,r&&!e),o}(i?uY:lY,e.length,i,r,l);!i&&I&&(e[A].providerFactory=j),CE(o,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(j),s.push(j)}else CE(o,n,w>-1?w:A,xx(e[i?A:w],l,!i&&r));!i&&r&&I&&e[A].componentProviders++}}}function CE(n,t,e,r){const i=Td(t),o=function LH(n){return!!n.useClass}(t);if(i||o){const l=(o?mn(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const c=u.indexOf(e);-1===c?u.push(e,[r,l]):u[c+1].push(r,l)}else u.push(e,l)}}}function xx(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function OE(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function lY(n,t,e,r){return ME(this.multi,[])}function uY(n,t,e,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=gp(e,e[1],this.providerFactory.index,r);o=a.slice(0,s),ME(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],ME(i,o);return o}function ME(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Jn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function aY(n,t,e){const r=Wn();if(r.firstCreatePass){const i=ha(n);TE(e,r.data,r.blueprint,i,!0),TE(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class Ix{}class fY{resolveComponentFactory(t){throw function dY(n){const t=Error(`No component factory found for ${tr(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ud=(()=>{class n{}return n.NULL=new fY,n})();function pY(){return Gd(Ii(),tt())}function Gd(n,t){return new ar(xs(n,t))}let ar=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=pY,n})();function _Y(n){return n instanceof ar?n.nativeElement:n}class Vd{}let Io=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function mY(){const n=tt(),e=os(Ii().index,n);return function gY(n){return n[11]}(ka(e)?e:n)}(),n})(),vY=(()=>{class n{}return n.\u0275prov=ot({token:n,providedIn:"root",factory:()=>null}),n})();class Hp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Xm=new Hp("13.2.6"),wE={};function qm(n,t,e,r,i=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&r.push(Ei(o)),ca(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&qm(l[1],l,u,r)}const s=e.type;if(8&s)qm(n,t,e.child,r);else if(32&s){const a=C1(e,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=XA(t,e);if(Array.isArray(a))r.push(...a);else{const l=Ap(t[16]);qm(l[1],l,a,r,!0)}}e=i?e.projectionNext:e.next}return r}class Yp{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return qm(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ca(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(A1(t,r),vm(e,r))}this._attachedToViewContainer=!1}UA(this._lView[1],this._lView)}onDestroy(t){bR(this._lView[1],this._lView,null,t)}markForCheck(){Q1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){eE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function wH(n,t,e){sm(!0);try{eE(n,t,e)}finally{sm(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new It(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Tj(n,t){Rp(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new It(902,"");this._appRef=t}}class yY extends Yp{constructor(t){super(t),this._view=t}detectChanges(){AR(this._view)}checkNoChanges(){!function PH(n){sm(!0);try{AR(n)}finally{sm(!1)}}(this._view)}get context(){return null}}class Fx extends Ud{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=co(t);return new PE(e,this.ngModule)}}function kx(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class PE extends Ix{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Hj(n){return n.map(jj).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return kx(this.componentDef.inputs)}get outputs(){return kx(this.componentDef.outputs)}create(t,e,r,i){const o=(i=i||this.ngModule)?function EY(n,t){return{get:(e,r,i)=>{const o=n.get(e,wE,i);return o!==wE||r===wE?o:t.get(e,r,i)}}}(t,i.injector):t,s=o.get(Vd,AP),a=o.get(vY,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function yR(n,t,e){if(si(n))return n.selectRootElement(t,e===la.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(l,r,this.componentDef.encapsulation):P1(s.createRenderer(null,this.componentDef),u,function bY(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),y=this.componentDef.onPush?576:528,M=function JR(n,t){return{components:[],scheduler:n||_j,clean:AH,playerHandler:t||null,flags:0}}(),w=Im(0,null,null,1,0,null,null,null,null,null),A=Dp(null,w,M,y,null,null,s,l,a,o);let D,I;am(A);try{const j=function qR(n,t,e,r,i,o){const s=e[1];e[20]=n;const l=yd(s,20,2,"#host",null),u=l.mergedAttrs=t.hostAttrs;null!==u&&(Fm(l,u,!0),null!==n&&(dm(i,n,u),null!==l.classes&&N1(i,n,l.classes),null!==l.styles&&JA(i,n,l.styles)));const c=r.createRenderer(n,t),y=Dp(e,mR(t),null,t.onPush?64:16,e[20],l,r,c,o||null,null);return s.firstCreatePass&&(gm(_p(l,e),s,t.type),OR(s,l),MR(l,e.length,1)),Nm(e,y),e[20]=y}(c,this.componentDef,A,s,l);if(c)if(r)dm(l,c,["ng-version",Xm.full]);else{const{attrs:W,classes:re}=function Yj(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&t.push(o,n[++r]):8===i&&e.push(o);else{if(!da(i))break;i=o}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);W&&dm(l,c,W),re&&re.length>0&&N1(l,c,re.join(" "))}if(I=Yb(w,20),void 0!==e){const W=I.projection=[];for(let re=0;re<this.ngContentSelectors.length;re++){const ae=e[re];W.push(null!=ae?Array.from(ae):null)}}D=function KR(n,t,e,r,i){const o=e[1],s=function hH(n,t,e){const r=Ii();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),wR(n,r,t,bd(n,t,1,null),e));const i=gp(t,n,r.directiveStart,r);po(i,t);const o=xs(r,t);return o&&po(o,t),i}(o,e,t);if(r.components.push(s),n[8]=s,i&&i.forEach(l=>l(s,t)),t.contentQueries){const l=Ii();t.contentQueries(1,s,l.directiveStart)}const a=Ii();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(uu(a.index),TR(e[1],a,0,a.directiveStart,a.directiveEnd,t),CR(t,s)),s}(j,this.componentDef,A,M,[qH]),xp(w,A,null)}finally{lm()}return new TY(this.componentType,D,Gd(I,A),A,I)}}class TY extends class hY{}{constructor(t,e,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new yY(i),this.componentType=t}get injector(){return new ld(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Ol{}class Bx{}const jd=new Map;class Gx extends Ol{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fx(this);const r=As(t);this._bootstrapComponents=Va(r.bootstrap),this._r3Injector=LR(t,e,[{provide:Ol,useValue:this},{provide:Ud,useValue:this.componentFactoryResolver}],tr(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Si.THROW_IF_NOT_FOUND,r=rn.Default){return t===Si||t===Ol||t===nE?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class AE extends Bx{constructor(t){super(),this.moduleType=t,null!==As(t)&&function OY(n){const t=new Set;!function e(r){const i=As(r,!0),o=i.id;null!==o&&(function Lx(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${tr(t)} vs ${tr(t.name)}`)}(o,jd.get(o),r),jd.set(o,r));const s=Va(i.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Gx(this.moduleType,t)}}function ma(n,t,e,r){return Vx(tt(),Ao(),n,t,e,r)}function va(n,t,e,r,i){return jx(tt(),Ao(),n,t,e,r,i)}function Km(n,t,e,r,i,o){return function Hx(n,t,e,r,i,o,s,a){const l=t+e;return Bm(n,l,i,o,s)?Ha(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):Wp(n,l+3)}(tt(),Ao(),n,t,e,r,i,o)}function Wp(n,t){const e=n[t];return e===ln?void 0:e}function Vx(n,t,e,r,i,o){const s=t+e;return _o(n,s,i)?Ha(n,s+1,o?r.call(o,i):r(i)):Wp(n,s+1)}function jx(n,t,e,r,i,o,s){const a=t+e;return uc(n,a,i,o)?Ha(n,a+2,s?r.call(s,i,o):r(i,o)):Wp(n,a+2)}function it(n,t){const e=Wn();let r;const i=n+20;e.firstCreatePass?(r=function IY(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const o=r.factory||(r.factory=oc(r.type)),s=ou(q);try{const a=pm(!1),l=o();return pm(a),function a7(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,tt(),i,l),l}finally{ou(s)}}function yt(n,t,e){const r=n+20,i=tt(),o=id(i,r);return zp(i,r)?Vx(i,Ao(),t,o.transform,e,o):o.transform(e)}function Bi(n,t,e,r){const i=n+20,o=tt(),s=id(o,i);return zp(o,i)?jx(o,Ao(),t,s.transform,e,r,s):s.transform(e,r)}function zp(n,t){return n[1].data[t].pure}function RE(n){return t=>{setTimeout(n,void 0,t)}}const Lt=class BY extends De{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,o,s;let a=t,l=e||(()=>null),u=r;if(t&&"object"==typeof t){const y=t;a=null===(i=y.next)||void 0===i?void 0:i.bind(y),l=null===(o=y.error)||void 0===o?void 0:o.bind(y),u=null===(s=y.complete)||void 0===s?void 0:s.bind(y)}this.__isAsync&&(l=RE(l),a&&(a=RE(a)),u&&(u=RE(u)));const c=super.subscribe({next:a,error:l,complete:u});return t instanceof _&&t.add(c),c}};function LY(){return this._results[Cd()]()}class DE{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Cd(),r=DE.prototype;r[e]||(r[e]=LY)}get changes(){return this._changes||(this._changes=new Lt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=Is(t);(this._changesDetected=!function J6(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=t[r];if(e&&(i=e(i),o=e(o)),o!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=VY,n})();const UY=Vr,GY=class extends UY{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=Dp(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(e)),xp(e,r,t),new Yp(r)}};function VY(){return Jm(Ii(),tt())}function Jm(n,t){return 4&n.type?new GY(t,n,Gd(n,t)):null}let ks=(()=>{class n{}return n.__NG_ELEMENT_ID__=jY,n})();function jY(){return Xx(Ii(),tt())}const HY=ks,zx=class extends HY{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return Gd(this._hostTNode,this._hostLView)}get injector(){return new ld(this._hostTNode,this._hostLView)}get parentInjector(){const t=_m(this._hostTNode,this._hostLView);if(WP(t)){const e=ad(t,this._hostLView),r=sd(t);return new ld(e[1].data[r+8],e)}return new ld(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=$x(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,o){const s=t&&!function vp(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const y=e||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.ngModuleRef}const l=s?t:new PE(co(t)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const M=(s?u:this.parentInjector).get(Ol,null);M&&(o=M)}const c=l.create(u,i,void 0,o);return this.insert(c.hostView,a),c}insert(t,e){const r=t._lView,i=r[1];if(function v6(n){return ca(n[3])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const y=r[3],M=new zx(y,y[6],y[3]);M.detach(M.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function Oj(n,t,e,r){const i=10+r,o=e.length;r>0&&(e[i-1][4]=t),r<o-10?(t[4]=e[i],tA(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function Mj(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(i,r,s,o);const a=x1(o,s),l=r[11],u=wm(l,s[7]);return null!==u&&function Sj(n,t,e,r,i,o){r[0]=i,r[6]=t,Rp(n,r,e,1,i,o)}(i,s[6],l,r,u,a),t.attachToViewContainerRef(),tA(xE(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=$x(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=A1(this._lContainer,e);r&&(vm(xE(this._lContainer),e),UA(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=A1(this._lContainer,e);return r&&null!=vm(xE(this._lContainer),e)?new Yp(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function $x(n){return n[8]}function xE(n){return n[8]||(n[8]=[])}function Xx(n,t){let e;const r=t[n.index];if(ca(r))e=r;else{let i;if(8&n.type)i=Ei(r);else{const o=t[11];i=o.createComment("");const s=xs(n,t);lc(o,wm(o,s),i,function Rj(n,t){return si(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=PR(r,t,i,n),Nm(t,e)}return new zx(e,n,t)}class IE{constructor(t){this.queryList=t,this.matches=null}clone(){return new IE(this.queryList)}setDirty(){this.queryList.setDirty()}}class NE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let o=0;o<r;o++){const s=e.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new NE(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zx(t,e).matches&&this.queries[e].setDirty()}}class qx{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class FE{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==e?e.push(o):e=[o])}return null!==e?new FE(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class kE{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new kE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,e,zY(e,o)),this.matchTNodeWithReadOption(t,e,mm(e,t,o,!1,!1))}else r===Vr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mm(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ar||i===ks||i===Vr&&4&e.type)this.addMatch(e.index,-2);else{const o=mm(e,t,i,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function zY(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function XY(n,t,e,r){return-1===e?function $Y(n,t){return 11&n.type?Gd(n,t):4&n.type?Jm(n,t):null}(t,n):-2===e?function qY(n,t,e){return e===ar?Gd(t,n):e===Vr?Jm(t,n):e===ks?Xx(t,n):void 0}(n,t,r):gp(n,n[1],e,t)}function Kx(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:XY(t,o[u],s[l+1],e.metadata.read))}i.matches=a}return i.matches}function BE(n,t,e,r){const i=n.queries.getByIndex(e),o=i.matches;if(null!==o){const s=Kx(n,t,i,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],c=t[-l];for(let y=10;y<c.length;y++){const M=c[y];M[17]===M[3]&&BE(M[1],M,u,r)}if(null!==c[9]){const y=c[9];for(let M=0;M<y.length;M++){const w=y[M];BE(w[1],w,u,r)}}}}}return r}function zn(n){const t=tt(),e=Wn(),r=kP();Jb(r+1);const i=Zx(e,r);if(n.dirty&&RP(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?BE(e,t,r,[]):Kx(e,t,i,r);n.reset(o,_Y),n.notifyOnChanges()}return!0}return!1}function Yo(n,t,e){const r=Wn();r.firstCreatePass&&(Qx(r,new qx(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),Jx(r,tt(),t)}function pi(n,t,e,r){const i=Wn();if(i.firstCreatePass){const o=Ii();Qx(i,new qx(t,e,r),o.index),function JY(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}Jx(i,tt(),e)}function $n(){return function KY(n,t){return n[19].queries[t].queryList}(tt(),kP())}function Jx(n,t,e){const r=new DE(4==(4&e));bR(n,t,r,r.destroy),null===t[19]&&(t[19]=new NE),t[19].queries.push(new IE(r))}function Qx(n,t,e){null===n.queries&&(n.queries=new FE),n.queries.track(new kE(t,e))}function Zx(n,t){return n.queries.getByIndex(t)}function za(n,t){return Jm(n,t)}function ev(...n){}const tv=new qt("Application Initializer");let HE=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ev,this.reject=ev,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(kp(o))e.push(o);else if(gE(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(ke(tv,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xp=new qt("AppId",{providedIn:"root",factory:function gI(){return`${YE()}${YE()}${YE()}`}});function YE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const mI=new qt("Platform Initializer"),fc=new qt("Platform ID"),vI=new qt("appBootstrapListener");let yI=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const _u=new qt("LocaleId",{providedIn:"root",factory:()=>uA(_u,rn.Optional|rn.SkipSelf)||function pW(){return"undefined"!=typeof $localize&&$localize.locale||Hm}()});class gW{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let bI=(()=>{class n{compileModuleSync(e){return new AE(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),o=Va(As(e).declarations).reduce((s,a)=>{const l=co(a);return l&&s.push(new PE(l)),s},[]);return new gW(r,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vW=(()=>Promise.resolve(0))();function WE(n){"undefined"==typeof Zone?vW.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Pn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lt(!1),this.onMicrotaskEmpty=new Lt(!1),this.onStable=new Lt(!1),this.onError=new Lt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function yW(){let n=dr.requestAnimationFrame,t=dr.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function SW(n){const t=()=>{!function EW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$E(n),n.isCheckStableRunning=!0,zE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$E(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,o,s,a)=>{try{return EI(n),e.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),SI(n)}},onInvoke:(e,r,i,o,s,a,l)=>{try{return EI(n),e.invoke(i,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),SI(n)}},onHasTask:(e,r,i,o)=>{e.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,$E(n),zE(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,r,i,o)=>(e.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,bW,ev,ev);try{return o.runTask(s,e,r)}finally{o.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const bW={};function zE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $E(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function EI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function SI(n){n._nesting--,zE(n)}class TW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lt,this.onMicrotaskEmpty=new Lt,this.onStable=new Lt,this.onError=new Lt}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let XE=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),WE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())WE(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),TI=(()=>{class n{constructor(){this._applications=new Map,qE.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return qE.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class CW{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let ya,qE=new CW;const CI=new qt("AllowMultipleToken");class OI{constructor(t,e){this.name=t,this.token=e}}function MI(n,t,e=[]){const r=`Platform: ${t}`,i=new qt(r);return(o=[])=>{let s=wI();if(!s||s.injector.get(CI,!1))if(n)n(e.concat(o).concat({provide:i,useValue:!0}));else{const a=e.concat(o).concat({provide:i,useValue:!0},{provide:rE,useValue:"platform"});!function PW(n){if(ya&&!ya.destroyed&&!ya.injector.get(CI,!1))throw new It(400,"");ya=n.get(PI);const t=n.get(mI,null);t&&t.forEach(e=>e())}(Si.create({providers:a,name:r}))}return function AW(n){const t=wI();if(!t)throw new It(401,"");return t}()}}function wI(){return ya&&!ya.destroyed?ya:null}let PI=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const a=function RW(n,t){let e;return e="noop"===n?new TW:("zone.js"===n?void 0:n)||new Pn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Pn,useValue:a}];return a.run(()=>{const u=Si.create({providers:l,parent:this.injector,name:e.moduleType.name}),c=e.create(u),y=c.injector.get(gd,null);if(!y)throw new It(402,"");return a.runOutsideAngular(()=>{const M=a.onError.subscribe({next:w=>{y.handleError(w)}});c.onDestroy(()=>{KE(this._modules,c),M.unsubscribe()})}),function DW(n,t,e){try{const r=e();return kp(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(y,a,()=>{const M=c.injector.get(HE);return M.runInitializers(),M.donePromise.then(()=>(function v9(n){rs(n,"Expected localeId to be defined"),"string"==typeof n&&(lx=n.toLowerCase().replace(/_/g,"-"))}(c.injector.get(_u,Hm)||Hm),this._moduleDoBootstrap(c),c))})})}bootstrapModule(e,r=[]){const i=AI({},r);return function MW(n,t,e){const r=new AE(e);return Promise.resolve(r)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(e){const r=e.injector.get(nv);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new It(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new It(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(ke(Si))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function AI(n,t){return Array.isArray(t)?t.reduce(AI,n):Object.assign(Object.assign({},n),t)}let nv=(()=>{class n{constructor(e,r,i,o,s){this._zone=e,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ie(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new ie(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),WE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const y=this._zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),y.unsubscribe()}});this.isStable=function ur(...n){const t=ts(n),e=function tn(n,t){return"number"==typeof en(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?lt(r[0]):xi(e)(kn(r,t)):qe}(a,l.pipe(Mo()))}bootstrap(e,r){if(!this._initStatus.done)throw new It(405,"");let i;i=e instanceof Ix?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const o=function wW(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Ol),a=i.create(Si.NULL,[],r||i.selector,o),l=a.location.nativeElement,u=a.injector.get(XE,null),c=u&&a.injector.get(TI);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),KE(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new It(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;KE(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(vI,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn),ke(Si),ke(gd),ke(Ud),ke(HE))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let DI=!0,Bn=(()=>{class n{}return n.__NG_ELEMENT_ID__=NW,n})();function NW(n){return function FW(n,t,e){if(nm(n)&&!e){const r=os(n.index,t);return new Yp(r,r)}return 47&n.type?new Yp(t[16],t):null}(Ii(),tt(),16==(16&n))}class kI{constructor(){}supports(t){return Np(t)}create(t){return new VW(t)}}const GW=(n,t)=>t;class VW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||GW}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,o=null;for(;e||r;){const s=!r||e&&e.currentIndex<LI(r,i,o)?e:r,a=LI(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,c=l-i;if(u!=c){for(let M=0;M<u;M++){const w=M<o.length?o[M]:o[M]=0,A=w+M;c<=A&&A<u&&(o[M]=w+1)}o[s.previousIndex]=c-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Np(t))throw new It(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),r=!0),e=e._next}else i=0,function o7(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Cd()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,i)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,i)):t=this._addAfter(new jW(e,r),o,i),t}_verifyReinsertion(t,e,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new BI),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jW{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class BI{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new HW,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LI(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class UI{constructor(){}supports(t){return t instanceof Map||uE(t)}create(){return new YW}}class YW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||uE(t)))throw new It(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new WW(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class WW{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GI(){return new qp([new kI])}let qp=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||GI()),deps:[[n,new Tp,new hu]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new It(901,"")}}return n.\u0275prov=ot({token:n,providedIn:"root",factory:GI}),n})();function VI(){return new Kp([new UI])}let Kp=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||VI()),deps:[[n,new Tp,new hu]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(r)return r;throw new It(901,"")}}return n.\u0275prov=ot({token:n,providedIn:"root",factory:VI}),n})();const XW=MI(null,"core",[{provide:fc,useValue:"unknown"},{provide:PI,deps:[Si]},{provide:TI,deps:[]},{provide:yI,deps:[]}]);let qW=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(ke(nv))},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})(),ov=null;function $a(){return ov}const Nr=new qt("DocumentToken");let _c=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(){return function ZW(){return ke(jI)}()},providedIn:"platform"}),n})();const ez=new qt("Location Initialized");let jI=(()=>{class n extends _c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $a().getBaseHref(this._doc)}onPopState(e){const r=$a().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=$a().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){HI()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){HI()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:function(){return function tz(){return new jI(ke(Nr))}()},providedIn:"platform"}),n})();function HI(){return!!window.history.pushState}function tS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function YI(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ml(n){return n&&"?"!==n[0]?"?"+n:n}let Yd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(){return function nz(n){const t=ke(Nr).location;return new WI(ke(_c),t&&t.origin||"")}()},providedIn:"root"}),n})();const nS=new qt("appBaseHref");let WI=(()=>{class n extends Yd{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return tS(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ml(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,o){const s=this.prepareExternalUrl(i+Ml(o));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){const s=this.prepareExternalUrl(i+Ml(o));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(ke(_c),ke(nS,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),rz=(()=>{class n extends Yd{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=tS(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,o){let s=this.prepareExternalUrl(i+Ml(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,o){let s=this.prepareExternalUrl(i+Ml(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(ke(_c),ke(nS,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),rS=(()=>{class n{constructor(e,r){this._subject=new Lt,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=YI(zI(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ml(r))}normalize(e){return n.stripTrailingSlash(function oz(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,zI(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ml(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ml(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Ml,n.joinWithSlash=tS,n.stripTrailingSlash=YI,n.\u0275fac=function(e){return new(e||n)(ke(Yd),ke(_c))},n.\u0275prov=ot({token:n,factory:function(){return function iz(){return new rS(ke(Yd),ke(_c))}()},providedIn:"root"}),n})();function zI(n){return n.replace(/\/index.html$/,"")}var Wo=(()=>((Wo=Wo||{})[Wo.Decimal=0]="Decimal",Wo[Wo.Percent=1]="Percent",Wo[Wo.Currency=2]="Currency",Wo[Wo.Scientific=3]="Scientific",Wo))(),_i=(()=>((_i=_i||{})[_i.Format=0]="Format",_i[_i.Standalone=1]="Standalone",_i))(),Rn=(()=>((Rn=Rn||{})[Rn.Narrow=0]="Narrow",Rn[Rn.Abbreviated=1]="Abbreviated",Rn[Rn.Wide=2]="Wide",Rn[Rn.Short=3]="Short",Rn))(),jr=(()=>((jr=jr||{})[jr.Short=0]="Short",jr[jr.Medium=1]="Medium",jr[jr.Long=2]="Long",jr[jr.Full=3]="Full",jr))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function sv(n,t){return Ls(xo(n)[Ot.DateFormat],t)}function av(n,t){return Ls(xo(n)[Ot.TimeFormat],t)}function lv(n,t){return Ls(xo(n)[Ot.DateTimeFormat],t)}function Bs(n,t){const e=xo(n),r=e[Ot.NumberSymbols][t];if(void 0===r){if(t===zt.CurrencyDecimal)return e[Ot.NumberSymbols][zt.Decimal];if(t===zt.CurrencyGroup)return e[Ot.NumberSymbols][zt.Group]}return r}function XI(n){if(!n[Ot.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ot.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ls(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function oS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const vz=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Jp={},yz=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Li=(()=>((Li=Li||{})[Li.Short=0]="Short",Li[Li.ShortGMT=1]="ShortGMT",Li[Li.Long=2]="Long",Li[Li.Extended=3]="Extended",Li))(),Kt=(()=>((Kt=Kt||{})[Kt.FullYear=0]="FullYear",Kt[Kt.Month=1]="Month",Kt[Kt.Date=2]="Date",Kt[Kt.Hours=3]="Hours",Kt[Kt.Minutes=4]="Minutes",Kt[Kt.Seconds=5]="Seconds",Kt[Kt.FractionalSeconds=6]="FractionalSeconds",Kt[Kt.Day=7]="Day",Kt))(),yn=(()=>((yn=yn||{})[yn.DayPeriods=0]="DayPeriods",yn[yn.Days=1]="Days",yn[yn.Months=2]="Months",yn[yn.Eras=3]="Eras",yn))();function bz(n,t,e,r){let i=function Az(n){if(JI(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,s=1]=n.split("-").map(a=>+a);return uv(i,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(vz))return function Rz(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,u),t}(r)}const t=new Date(n);if(!JI(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=wl(e,t)||t;let a,s=[];for(;t;){if(a=yz.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const c=s.pop();if(!c)break;t=c}}let l=i.getTimezoneOffset();r&&(l=KI(r,l),i=function Pz(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function wz(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(KI(t,i)-i))}(i,r,!0));let u="";return s.forEach(c=>{const y=function Mz(n){if(aS[n])return aS[n];let t;switch(n){case"G":case"GG":case"GGG":t=Mr(yn.Eras,Rn.Abbreviated);break;case"GGGG":t=Mr(yn.Eras,Rn.Wide);break;case"GGGGG":t=Mr(yn.Eras,Rn.Narrow);break;case"y":t=Ci(Kt.FullYear,1,0,!1,!0);break;case"yy":t=Ci(Kt.FullYear,2,0,!0,!0);break;case"yyy":t=Ci(Kt.FullYear,3,0,!1,!0);break;case"yyyy":t=Ci(Kt.FullYear,4,0,!1,!0);break;case"Y":t=fv(1);break;case"YY":t=fv(2,!0);break;case"YYY":t=fv(3);break;case"YYYY":t=fv(4);break;case"M":case"L":t=Ci(Kt.Month,1,1);break;case"MM":case"LL":t=Ci(Kt.Month,2,1);break;case"MMM":t=Mr(yn.Months,Rn.Abbreviated);break;case"MMMM":t=Mr(yn.Months,Rn.Wide);break;case"MMMMM":t=Mr(yn.Months,Rn.Narrow);break;case"LLL":t=Mr(yn.Months,Rn.Abbreviated,_i.Standalone);break;case"LLLL":t=Mr(yn.Months,Rn.Wide,_i.Standalone);break;case"LLLLL":t=Mr(yn.Months,Rn.Narrow,_i.Standalone);break;case"w":t=sS(1);break;case"ww":t=sS(2);break;case"W":t=sS(1,!0);break;case"d":t=Ci(Kt.Date,1);break;case"dd":t=Ci(Kt.Date,2);break;case"c":case"cc":t=Ci(Kt.Day,1);break;case"ccc":t=Mr(yn.Days,Rn.Abbreviated,_i.Standalone);break;case"cccc":t=Mr(yn.Days,Rn.Wide,_i.Standalone);break;case"ccccc":t=Mr(yn.Days,Rn.Narrow,_i.Standalone);break;case"cccccc":t=Mr(yn.Days,Rn.Short,_i.Standalone);break;case"E":case"EE":case"EEE":t=Mr(yn.Days,Rn.Abbreviated);break;case"EEEE":t=Mr(yn.Days,Rn.Wide);break;case"EEEEE":t=Mr(yn.Days,Rn.Narrow);break;case"EEEEEE":t=Mr(yn.Days,Rn.Short);break;case"a":case"aa":case"aaa":t=Mr(yn.DayPeriods,Rn.Abbreviated);break;case"aaaa":t=Mr(yn.DayPeriods,Rn.Wide);break;case"aaaaa":t=Mr(yn.DayPeriods,Rn.Narrow);break;case"b":case"bb":case"bbb":t=Mr(yn.DayPeriods,Rn.Abbreviated,_i.Standalone,!0);break;case"bbbb":t=Mr(yn.DayPeriods,Rn.Wide,_i.Standalone,!0);break;case"bbbbb":t=Mr(yn.DayPeriods,Rn.Narrow,_i.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mr(yn.DayPeriods,Rn.Abbreviated,_i.Format,!0);break;case"BBBB":t=Mr(yn.DayPeriods,Rn.Wide,_i.Format,!0);break;case"BBBBB":t=Mr(yn.DayPeriods,Rn.Narrow,_i.Format,!0);break;case"h":t=Ci(Kt.Hours,1,-12);break;case"hh":t=Ci(Kt.Hours,2,-12);break;case"H":t=Ci(Kt.Hours,1);break;case"HH":t=Ci(Kt.Hours,2);break;case"m":t=Ci(Kt.Minutes,1);break;case"mm":t=Ci(Kt.Minutes,2);break;case"s":t=Ci(Kt.Seconds,1);break;case"ss":t=Ci(Kt.Seconds,2);break;case"S":t=Ci(Kt.FractionalSeconds,1);break;case"SS":t=Ci(Kt.FractionalSeconds,2);break;case"SSS":t=Ci(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=hv(Li.Short);break;case"ZZZZZ":t=hv(Li.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=hv(Li.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=hv(Li.Long);break;default:return null}return aS[n]=t,t}(c);u+=y?y(i,e,l):"''"===c?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function uv(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function wl(n,t){const e=function sz(n){return xo(n)[Ot.LocaleId]}(n);if(Jp[e]=Jp[e]||{},Jp[e][t])return Jp[e][t];let r="";switch(t){case"shortDate":r=sv(n,jr.Short);break;case"mediumDate":r=sv(n,jr.Medium);break;case"longDate":r=sv(n,jr.Long);break;case"fullDate":r=sv(n,jr.Full);break;case"shortTime":r=av(n,jr.Short);break;case"mediumTime":r=av(n,jr.Medium);break;case"longTime":r=av(n,jr.Long);break;case"fullTime":r=av(n,jr.Full);break;case"short":const i=wl(n,"shortTime"),o=wl(n,"shortDate");r=cv(lv(n,jr.Short),[i,o]);break;case"medium":const s=wl(n,"mediumTime"),a=wl(n,"mediumDate");r=cv(lv(n,jr.Medium),[s,a]);break;case"long":const l=wl(n,"longTime"),u=wl(n,"longDate");r=cv(lv(n,jr.Long),[l,u]);break;case"full":const c=wl(n,"fullTime"),y=wl(n,"fullDate");r=cv(lv(n,jr.Full),[c,y])}return r&&(Jp[e][t]=r),r}function cv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function ba(n,t,e="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function Ci(n,t,e=0,r=!1,i=!1){return function(o,s){let a=function Sz(n,t){switch(n){case Kt.FullYear:return t.getFullYear();case Kt.Month:return t.getMonth();case Kt.Date:return t.getDate();case Kt.Hours:return t.getHours();case Kt.Minutes:return t.getMinutes();case Kt.Seconds:return t.getSeconds();case Kt.FractionalSeconds:return t.getMilliseconds();case Kt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Kt.Hours)0===a&&-12===e&&(a=12);else if(n===Kt.FractionalSeconds)return function Ez(n,t){return ba(n,3).substr(0,t)}(a,t);const l=Bs(s,zt.MinusSign);return ba(a,t,l,r,i)}}function Mr(n,t,e=_i.Format,r=!1){return function(i,o){return function Tz(n,t,e,r,i,o){switch(e){case yn.Months:return function uz(n,t,e){const r=xo(n),o=Ls([r[Ot.MonthsFormat],r[Ot.MonthsStandalone]],t);return Ls(o,e)}(t,i,r)[n.getMonth()];case yn.Days:return function lz(n,t,e){const r=xo(n),o=Ls([r[Ot.DaysFormat],r[Ot.DaysStandalone]],t);return Ls(o,e)}(t,i,r)[n.getDay()];case yn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const u=function fz(n){const t=xo(n);return XI(t),(t[Ot.ExtraData][2]||[]).map(r=>"string"==typeof r?oS(r):[oS(r[0]),oS(r[1])])}(t),c=function pz(n,t,e){const r=xo(n);XI(r);const o=Ls([r[Ot.ExtraData][0],r[Ot.ExtraData][1]],t)||[];return Ls(o,e)||[]}(t,i,r),y=u.findIndex(M=>{if(Array.isArray(M)){const[w,A]=M,D=s>=w.hours&&a>=w.minutes,I=s<A.hours||s===A.hours&&a<A.minutes;if(w.hours<A.hours){if(D&&I)return!0}else if(D||I)return!0}else if(M.hours===s&&M.minutes===a)return!0;return!1});if(-1!==y)return c[y]}return function az(n,t,e){const r=xo(n),o=Ls([r[Ot.DayPeriodsFormat],r[Ot.DayPeriodsStandalone]],t);return Ls(o,e)}(t,i,r)[s<12?0:1];case yn.Eras:return function cz(n,t){return Ls(xo(n)[Ot.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,o,n,t,e,r)}}function hv(n){return function(t,e,r){const i=-1*r,o=Bs(e,zt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Li.Short:return(i>=0?"+":"")+ba(s,2,o)+ba(Math.abs(i%60),2,o);case Li.ShortGMT:return"GMT"+(i>=0?"+":"")+ba(s,1,o);case Li.Long:return"GMT"+(i>=0?"+":"")+ba(s,2,o)+":"+ba(Math.abs(i%60),2,o);case Li.Extended:return 0===r?"Z":(i>=0?"+":"")+ba(s,2,o)+":"+ba(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function qI(n){return uv(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function sS(n,t=!1){return function(e,r){let i;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{const o=qI(e),s=function Oz(n){const t=uv(n,0,1).getDay();return uv(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ba(i,n,Bs(r,zt.MinusSign))}}function fv(n,t=!1){return function(e,r){return ba(qI(e).getFullYear(),n,Bs(r,zt.MinusSign),t)}}const aS={};function KI(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function JI(n){return n instanceof Date&&!isNaN(n.valueOf())}const Dz=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function eN(n,t,e){return function uS(n,t,e,r,i,o,s=!1){let a="",l=!1;if(isFinite(n)){let u=function Lz(n){let r,i,o,s,a,t=Math.abs(n)+"",e=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;"0"===t.charAt(a);)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>22&&(r=r.splice(0,21),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(n);s&&(u=function Bz(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(u));let c=t.minInt,y=t.minFrac,M=t.maxFrac;if(o){const W=o.match(Dz);if(null===W)throw new Error(`${o} is not a valid digit info`);const re=W[1],ae=W[3],Z=W[5];null!=re&&(c=hS(re)),null!=ae&&(y=hS(ae)),null!=Z?M=hS(Z):null!=ae&&y>M&&(M=y)}!function Uz(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(t,i),e);let s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let y=s;y<r.length;y++)r[y]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let y=1;y<s;y++)r[y]=0}if(a>=5)if(s-1<0){for(let y=0;y>s;y--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let l=0!==o;const u=t+n.integerLen,c=r.reduceRight(function(y,M,w,A){return A[w]=(M+=y)<10?M:M-10,l&&(0===A[w]&&w>=u?A.pop():l=!1),M>=10?1:0},0);c&&(r.unshift(c),n.integerLen++)}(u,y,M);let w=u.digits,A=u.integerLen;const D=u.exponent;let I=[];for(l=w.every(W=>!W);A<c;A++)w.unshift(0);for(;A<0;A++)w.unshift(0);A>0?I=w.splice(A,w.length):(I=w,w=[0]);const j=[];for(w.length>=t.lgSize&&j.unshift(w.splice(-t.lgSize,w.length).join(""));w.length>t.gSize;)j.unshift(w.splice(-t.gSize,w.length).join(""));w.length&&j.unshift(w.join("")),a=j.join(Bs(e,r)),I.length&&(a+=Bs(e,i)+I.join("")),D&&(a+=Bs(e,zt.Exponential)+"+"+D)}else a=Bs(e,zt.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function cS(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let c=0;c<l.length;c++){const y=l.charAt(c);"0"===y?e.minFrac=e.maxFrac=c+1:"#"===y?e.maxFrac=c+1:e.posSuf+=y}const u=a.split(",");if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const c=i.length-e.posPre.length-e.posSuf.length,y=o.indexOf("#");e.negPre=o.substr(0,y).replace(/'/g,""),e.negSuf=o.substr(y+c).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function iS(n,t){return xo(n)[Ot.NumberFormats][t]}(t,Wo.Decimal),Bs(t,zt.MinusSign)),t,zt.Group,zt.Decimal,e)}function hS(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function nN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,o]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}let Zp=(()=>{class n{constructor(e,r,i,o){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Np(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${tr(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(q(qp),q(Kp),q(ar),q(Io))},n.\u0275dir=pt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class jz{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new jz(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),rN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{rN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(Vr),q(qp))},n.\u0275dir=pt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function rN(n,t){n.context.$implicit=t.item}let hn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Hz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){iN("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){iN("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(Vr))},n.\u0275dir=pt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Hz{constructor(){this.$implicit=null,this.ngIf=null}}function iN(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${tr(t)}'.`)}class fS{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Pl=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=pt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),gc=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new fS(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(Vr),q(Pl,9))},n.\u0275dir=pt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),e_=(()=>{class n{constructor(e,r,i){i._addDefault(new fS(e,r))}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(Vr),q(Pl,9))},n.\u0275dir=pt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),t_=(()=>{class n{constructor(e,r,i){this._ngEl=e,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[i,o]=e.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(q(ar),q(Kp),q(Io))},n.\u0275dir=pt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function Ea(n,t){return new It(2100,"")}const e$=new qt("DATE_PIPE_DEFAULT_TIMEZONE");let mc=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",i,o){var s;if(null==e||""===e||e!=e)return null;try{return bz(e,r,o||this.locale,null!==(s=null!=i?i:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw Ea()}}}return n.\u0275fac=function(e){return new(e||n)(q(_u,16),q(e$,24))},n.\u0275pipe=Po({name:"date",type:n,pure:!0}),n})(),aN=(()=>{class n{constructor(e){this._locale=e}transform(e,r,i){if(!function pS(n){return!(null==n||""===n||n!=n)}(e))return null;i=i||this._locale;try{return eN(function _S(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),i,r)}catch(o){throw Ea()}}}return n.\u0275fac=function(e){return new(e||n)(q(_u,16))},n.\u0275pipe=Po({name:"number",type:n,pure:!0}),n})();let lN=(()=>{class n{transform(e,r,i){if(null==e)return null;if(!this.supports(e))throw Ea();return e.slice(r,i)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Po({name:"slice",type:n,pure:!1}),n})(),Ut=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();const uN="browser";function r_(n){return n===uN}let d$=(()=>{class n{}return n.\u0275prov=ot({token:n,providedIn:"root",factory:()=>new f$(ke(Nr),window)}),n})();class f${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function p$(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=cN(this.window.history)||cN(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function cN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hN{}class gS extends class _$ extends class QW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function JW(n){ov||(ov=n)}(new gS)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function g$(){return i_=i_||document.querySelector("base"),i_?i_.getAttribute("href"):null}();return null==e?null:function m$(n){_v=_v||document.createElement("a"),_v.setAttribute("href",n);const t=_v.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){i_=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return nN(document.cookie,t)}}let _v,i_=null;const dN=new qt("TRANSITION_ID"),y$=[{provide:tv,useFactory:function v$(n,t,e){return()=>{e.get(HE).donePromise.then(()=>{const r=$a(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[dN,Nr,Si],multi:!0}];class mS{static init(){!function OW(n){qE=n}(new mS)}addToWindow(t){dr.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},dr.getAllAngularTestabilities=()=>t.getAllTestabilities(),dr.getAllAngularRootElements=()=>t.getAllRootElements(),dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(r=>{const i=dr.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?$a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let b$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const gv=new qt("EventManagerPlugins");let mv=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(ke(gv),ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class fN{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=$a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let pN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),o_=(()=>{class n extends pN{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(_N),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_N))}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function _N(n){$a().remove(n)}const vS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yS=/%COMP%/g;function vv(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?vv(n,i,e):(i=i.replace(yS,n),e.push(i))}return e}function vN(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let yv=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new bS(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case la.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new M$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case la.ShadowDom:return new w$(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=vv(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(ke(mv),ke(o_),ke(Xp))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class bS{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(vS[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const o=vS[i];o?t.setAttributeNS(o,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=vS[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(ls.DashCase|ls.Important)?t.style.setProperty(e,r,i&ls.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&ls.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vN(r)):this.eventManager.addEventListener(t,e,vN(r))}}class M$ extends bS{constructor(t,e,r,i){super(t),this.component=r;const o=vv(i+"-"+r.id,r.styles,[]);e.addStyles(o),this.contentAttr=function T$(n){return"_ngcontent-%COMP%".replace(yS,n)}(i+"-"+r.id),this.hostAttr=function C$(n){return"_nghost-%COMP%".replace(yS,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class w$ extends bS{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=vv(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let P$=(()=>{class n extends fN{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const bN=["alt","control","meta","shift"],R$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},D$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let x$=(()=>{class n extends fN{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$a().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="";if(bN.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(e){let r="",i=function I$(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&EN.hasOwnProperty(t)&&(t=EN[t]))}return R$[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),bN.forEach(o=>{o!=i&&D$[o](e)&&(r+=o+".")}),r+=i,r}static eventCallback(e,r,i){return o=>{n.getEventFullKey(o)===e&&i.runGuarded(()=>r(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const B$=MI(XW,"browser",[{provide:fc,useValue:uN},{provide:mI,useValue:function N$(){gS.makeCurrent(),mS.init()},multi:!0},{provide:Nr,useFactory:function k$(){return function p6(n){jb=n}(document),document},deps:[]}]),L$=[{provide:rE,useValue:"root"},{provide:gd,useFactory:function F$(){return new gd},deps:[]},{provide:gv,useClass:P$,multi:!0,deps:[Nr,Pn,fc]},{provide:gv,useClass:x$,multi:!0,deps:[Nr]},{provide:yv,useClass:yv,deps:[mv,o_,Xp]},{provide:Vd,useExisting:yv},{provide:pN,useExisting:o_},{provide:o_,useClass:o_,deps:[Nr]},{provide:XE,useClass:XE,deps:[Pn]},{provide:mv,useClass:mv,deps:[gv,Pn]},{provide:hN,useClass:b$,deps:[]}];let SN=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Xp,useValue:e.appId},{provide:dN,useExisting:Xp},y$]}}}return n.\u0275fac=function(e){return new(e||n)(ke(n,12))},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:L$,imports:[Ut,qW]}),n})();"undefined"!=typeof window&&window;let SS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(e){let r=null;return r=e?new(e||n):ke(ON),r},providedIn:"root"}),n})(),ON=(()=>{class n extends SS{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Or.NONE:return r;case Or.HTML:return Ua(r,"HTML")?as(r):OA(this._doc,String(r)).toString();case Or.STYLE:return Ua(r,"Style")?as(r):r;case Or.SCRIPT:if(Ua(r,"Script"))return as(r);throw new Error("unsafe value used in a script context");case Or.URL:return mA(r),Ua(r,"URL")?as(r):Op(String(r));case Or.RESOURCE_URL:if(Ua(r,"ResourceURL"))return as(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function PV(n){return new TV(n)}(e)}bypassSecurityTrustStyle(e){return function AV(n){return new CV(n)}(e)}bypassSecurityTrustScript(e){return function RV(n){return new OV(n)}(e)}bypassSecurityTrustUrl(e){return function DV(n){return new MV(n)}(e)}bypassSecurityTrustResourceUrl(e){return function xV(n){return new wV(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:function(e){let r=null;return r=e?new e:function X$(n){return new ON(n.get(Nr))}(ke(Si)),r},providedIn:"root"}),n})();var bv=P(383),gi=P(9248),Vt=P(1446),MN=[];function wN(n){return n.reduce((t,e)=>(t.every(r=>e.name!==r.name)&&t.push(e),t),[])}function q$(n){var t=n.defaultIntegrations&&[...n.defaultIntegrations]||[],e=n.integrations;let r=[...wN(t)];Array.isArray(e)?r=[...r.filter(s=>e.every(a=>a.name!==s.name)),...wN(e)]:"function"==typeof e&&(r=e(r),r=Array.isArray(r)?r:[r]);var i=r.map(s=>s.name),o="Debug";return-1!==i.indexOf(o)&&r.push(...r.splice(i.indexOf(o),1)),r}var no=P(7759);class go extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var Q$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ev(n,t=!1){const{host:e,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&i?`:${i}`:""}@${e}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function PN(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function AN(n){var t="string"==typeof n?function eX(n){var t=Q$.exec(n);if(!t)throw new go(`Invalid Sentry Dsn: ${n}`);const[e,r,i="",o,s="",a]=t.slice(1);let l="",u=a;var c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){var y=u.match(/^\d+/);y&&(u=y[0])}return PN({host:o,pass:i,path:l,projectId:u,port:s,protocol:e,publicKey:r})}(n):PN(n);return function tX(n){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:e,protocol:r}=n;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!n[o])throw new go(`Invalid Sentry Dsn: ${o} missing`)}),!e.match(/^\d+$/))throw new go(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!function Z$(n){return"http"===n||"https"===n}(r))throw new go(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new go(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}function RN(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function DN(n,t={}){var r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function rX(n){return`${RN(n)}${n.projectId}/envelope/`}(n)}?${function iX(n,t){return(0,no._j)(We({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,r)}`}var Ui=P(5535),Xa=P(1090),sX=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Wd{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Wd.id}constructor(t={}){this._options=t,Wd.prototype.__init.call(this)}setupOnce(t,e){var r=i=>{var o=e();if(o){var s=o.getIntegration(Wd);if(s){var a=o.getClient(),l=a?a.getOptions():{},u=function aX(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...sX],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(s._options,l);return function lX(n,t){return t.ignoreInternal&&function fX(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,Ui.jH)(n)}`),!0):function uX(n,t){return!(!t||!t.length)&&function dX(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:e=""}=n.exception.values&&n.exception.values[0]||{};return[`${e}`,`${t}: ${e}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error(`Cannot extract message for event ${(0,Ui.jH)(n)}`),[]}return[]}(n).some(e=>t.some(r=>(0,Xa.zC)(e,r)))}(n,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,Ui.jH)(n)}`),!0):function cX(n,t){if(!t||!t.length)return!1;var e=Sv(n);return!!e&&t.some(r=>(0,Xa.zC)(e,r))}(n,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,Ui.jH)(n)}.\nUrl: ${Sv(n)}`),!0):!function hX(n,t){if(!t||!t.length)return!0;var e=Sv(n);return!e||t.some(r=>(0,Xa.zC)(e,r))}(n,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,Ui.jH)(n)}.\nUrl: ${Sv(n)}`),!0)}(i,u)?null:i}}return i};r.id=this.name,t(r)}}function Sv(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function pX(n=[]){for(let e=n.length-1;e>=0;e--){var t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error(`Cannot extract url for event ${(0,Ui.jH)(n)}`),null}}let xN;Wd.__initStatic();class s_{constructor(){s_.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=s_.id}setupOnce(){xN=Function.prototype.toString,Function.prototype.toString=function(...t){var e=(0,no.HK)(this)||this;return xN.apply(e,t)}}}s_.__initStatic();var mo=P(7576),Al=P(9725),TS=P(8204),Sa=P(3343),IN=P(1539),mi=P(6412),cs=P(509);function Tv(n,t=[]){return[n,t]}function _X(n,t){const[e,r]=n;return[e,[...r,t]]}function NN(n,t){n[1].forEach(r=>{t(r,r[0].type)})}function CS(n,t){return(t||new TextEncoder).encode(n)}function FN(n,t){const[e,r]=n;let i=JSON.stringify(e);function o(a){"string"==typeof i?i="string"==typeof a?i+a:[CS(i,t),a]:i.push("string"==typeof a?CS(a,t):a)}for(var s of r){const[a,l]=s;o(`\n${JSON.stringify(a)}\n`),o("string"==typeof l||l instanceof Uint8Array?l:JSON.stringify(l))}return"string"==typeof i?i:function gX(n){var t=n.reduce((o,s)=>o+s.length,0),e=new Uint8Array(t);let r=0;for(var i of n)e.set(i,r),r+=i.length;return e}(i)}function mX(n,t){var e="string"==typeof n.data?CS(n.data,t):n.data;return[(0,no.Jr)({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}var vX={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function kN(n){return vX[n]}var vc=P(3967);function yc(n,t=1/0,e=1/0){try{return OS("",n,t,e)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function BN(n,t=3,e=102400){var r=yc(n,t);return function SX(n){return function EX(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(r)>e?BN(n,t-1,e):r}function OS(n,t,e=1/0,r=1/0,i=function yX(){var n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(i){if(n)return!!t.has(i)||(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1},function r(i){if(n)t.delete(i);else for(let o=0;o<t.length;o++)if(t[o]===i){t.splice(o,1);break}}]}()){const[o,s]=i;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,mi.i2)(t))return t;var a=function bX(n,t){try{return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,mi.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,Al.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(0===e)return a.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return OS("",l.toJSON(),e-1,r,i)}catch(D){}var c=Array.isArray(t)?[]:{};let y=0;var M=(0,no.Sh)(t);for(var w in M)if(Object.prototype.hasOwnProperty.call(M,w)){if(y>=r){c[w]="[MaxProperties ~]";break}c[w]=OS(w,M[w],e-1,r,i),y+=1}return s(t),c}var hs=P(9981);function LN(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}var UN="Not capturing exception because it's already been captured.";class zd{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(zd.prototype.__init.call(this),zd.prototype.__init2.call(this),zd.prototype.__init3.call(this),zd.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=AN(t.dsn);var e=DN(this._dsn,t);this._transport=t.transport(er(We({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,r){if((0,Ui.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(UN));let i=e&&e.event_id;return this._process(this.eventFromException(t,e).then(o=>this._captureEvent(o,e,r)).then(o=>{i=o})),i}captureMessage(t,e,r,i){let o=r&&r.event_id;var s=(0,mi.pt)(t)?this.eventFromMessage(String(t),e,r):this.eventFromException(t,r);return this._process(s.then(a=>this._captureEvent(a,r,i)).then(a=>{o=a})),o}captureEvent(t,e,r){if(e&&e.originalException&&(0,Ui.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(UN));let i=e&&e.event_id;return this._process(this._captureEvent(t,e,r).then(o=>{i=o})),i}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,IN.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var e=this._transport;return e?this._isClientDoneProcessing(t).then(r=>e.flush(t).then(i=>r&&i)):(0,cs.WD)(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function K$(n){var t={};return n.forEach(e=>{t[e.name]=e,-1===MN.indexOf(e.name)&&(e.setupOnce(bv.c,gi.Gd),MN.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`Integration installed: ${e.name}`))}),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let i=function OX(n,t,e,r){var i=LN(e),o=n.type||"event";const{transactionSampling:s}=n.sdkProcessingMetadata||{},{method:a,rate:l}=s||{};!function TX(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);var u=function MX(n,t,e,r){var i=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baggage,o=i&&(0,hs.Hk)(i);return We(We(We({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&{dsn:Ev(r)}),"transaction"===n.type&&o&&{trace:(0,no.Jr)(We({},o))})}(n,i,r,t);return delete n.sdkProcessingMetadata,Tv(u,[[{type:o,sample_rates:[{id:a,rate:l}]},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(var r of e.attachments||[])i=_X(i,mX(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(t){if(this._dsn){var e=function CX(n,t,e,r){var i=LN(e);return Tv(We(We({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&{dsn:Ev(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e){if(this._options.sendClientReports){var r=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(t,e){let r=!1,i=!1;var o=e.exception&&e.exception.values;if(o)for(var s of(i=!0,o)){var a=s.mechanism;if(a&&!1===a.handled){r=!0;break}}var l="ok"===t.status;(l&&0===t.errors||l&&r)&&((0,IN.CT)(t,er(We({},r&&{status:"crashed"}),{errors:t.errors||Number(i||r)})),this.captureSession(t))}_isClientDoneProcessing(t){return new cs.cW(e=>{let r=0;var o=setInterval(()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(r+=1,t&&r>=t&&(clearInterval(o),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,r){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var s=er(We({},t),{event_id:t.event_id||e.event_id||(0,Ui.DM)(),timestamp:t.timestamp||(0,vc.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);let a=r;e.captureContext&&(a=bv.s.clone(a).update(e.captureContext));let l=(0,cs.WD)(s);if(a){var u=[...e.attachments||[],...a.getAttachments()];u.length&&(e.attachments=u),l=a.applyToEvent(s,e)}return l.then(c=>"number"==typeof i&&i>0?this._normalizeEvent(c,i,o):c)}_normalizeEvent(t,e,r){if(!t)return null;var i=We(We(We(We(We({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>We(We({},o),o.data&&{data:yc(o.data,e,r)}))}),t.user&&{user:yc(t.user,e,r)}),t.contexts&&{contexts:yc(t.contexts,e,r)}),t.extra&&{extra:yc(t.extra,e,r)});return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=yc(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(o=>(o.data&&(o.data=yc(o.data,e,r)),o))),i}_applyClientOptions(t){var e=this.getOptions();const{environment:r,release:i,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?r:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=(0,Xa.$G)(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,Xa.$G)(a.value,s));var l=t.request;l&&l.url&&(l.url=(0,Xa.$G)(l.url,s))}_applyIntegrationsMetadata(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},r){return this._processEvent(t,e,r).then(i=>i.event_id,i=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var o=i;"log"===o.logLevel?Vt.kg.log(o.message):Vt.kg.warn(o)}})}_processEvent(t,e,r){const{beforeSend:i,sampleRate:o}=this.getOptions();if(!this._isEnabled())return(0,cs.$2)(new go("SDK not enabled, will not capture event.","log"));var s="transaction"===t.type;return!s&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),(0,cs.$2)(new go(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,e,r).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",t.type||"error"),new go("An event processor returned null, will not send event.","log");return e.data&&!0===e.data.__sentry__||s||!i?a:function wX(n){var t="`beforeSend` method has to return `null` or a valid event.";if((0,mi.J8)(n))return n.then(e=>{if(!(0,mi.PO)(e)&&null!==e)throw new go(t);return e},e=>{throw new go(`beforeSend rejected with ${e}`)});if(!(0,mi.PO)(n)&&null!==n)throw new go(t);return n}(i(a,e))}).then(a=>{if(null===a)throw this.recordDroppedEvent("before_send",t.type||"error"),new go("`beforeSend` returned `null`, will not send event.","log");var l=r&&r.getSession();return!s&&l&&this._updateSessionFromEvent(l,a),this.sendEvent(a,e),a}).then(null,a=>{throw a instanceof go?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new go(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${a}`))})}_process(t){this._numProcessing+=1,t.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[r,i]=e.split(":");return{reason:r,category:i,quantity:t[e]}})}}var Cv="7.12.1";function GN(n,t){var e=wS(n,t),r={type:t&&t.name,value:xX(t)};return e.length&&(r.stacktrace={frames:e}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function MS(n,t){return{exception:{values:[GN(n,t)]}}}function wS(n,t){var e=t.stacktrace||t.stack||"",r=function DX(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(RX.test(n.message))return 1}return 0}(t);try{return n(e,r)}catch(i){}return[]}var RX=/Minified React error #\d+;/i;function xX(n){var t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function PS(n,t,e,r,i){let o;if((0,mi.VW)(t)&&t.error)return MS(n,t.error);if((0,mi.TX)(t)||(0,mi.fm)(t)){var a=t;if("stack"in t)o=MS(n,t);else{var l=a.name||((0,mi.TX)(a)?"DOMError":"DOMException"),u=a.message?`${l}: ${a.message}`:l;o=AS(n,u,e,r),(0,Ui.Db)(o,u)}return"code"in a&&(o.tags=er(We({},o.tags),{"DOMException.code":`${a.code}`})),o}return(0,mi.VZ)(t)?MS(n,t):(0,mi.PO)(t)||(0,mi.cO)(t)?(o=function AX(n,t,e,r){var i={exception:{values:[{type:(0,mi.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${(0,no.zf)(t)}`}]},extra:{__serialized__:BN(t)}};if(e){var o=wS(n,e);o.length&&(i.exception.values[0].stacktrace={frames:o})}return i}(n,t,e,i),(0,Ui.EG)(o,{synthetic:!0}),o):(o=AS(n,t,e,r),(0,Ui.Db)(o,`${t}`,void 0),(0,Ui.EG)(o,{synthetic:!0}),o)}function AS(n,t,e,r){var i={message:t};if(r&&e){var o=wS(n,e);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}return i}var $d=P(6477),FX=["fatal","error","warning","log","info","debug"];function VN(n){return"warn"===n?"warning":FX.includes(n)?n:"log"}function RS(n){if(!n)return{};var t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}var jN="Breadcrumbs";class a_{static __initStatic(){this.id=jN}__init(){this.name=a_.id}constructor(t){a_.prototype.__init.call(this),this.options=We({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}setupOnce(){this.options.console&&(0,Sa.o)("console",BX),this.options.dom&&(0,Sa.o)("dom",function kX(n){return function t(e){let r,i="object"==typeof n?n.serializeAttribute:void 0;"string"==typeof i&&(i=[i]);try{r=(0,$d.Rt)(e.event.target?e.event.target:e.event,i)}catch(o){r="<unknown>"}0!==r.length&&(0,gi.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:r},{event:e.event,name:e.name,global:e.global})}}(this.options.dom)),this.options.xhr&&(0,Sa.o)("xhr",LX),this.options.fetch&&(0,Sa.o)("fetch",UX),this.options.history&&(0,Sa.o)("history",GX)}}function BX(n){var t={category:"console",data:{arguments:n.args,logger:"console"},level:VN(n.level),message:(0,Xa.nK)(n.args," ")};if("assert"===n.level){if(!1!==n.args[0])return;t.message=`Assertion failed: ${(0,Xa.nK)(n.args.slice(1)," ")||"console.assert"}`,t.data.arguments=n.args.slice(1)}(0,gi.Gd)().addBreadcrumb(t,{input:n.args,level:n.level})}function LX(n){if(n.endTimestamp){if(n.xhr.__sentry_own_request__)return;const{method:t,url:e,status_code:r,body:i}=n.xhr.__sentry_xhr__||{};(0,gi.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:e,status_code:r},type:"http"},{xhr:n.xhr,input:i})}}function UX(n){!n.endTimestamp||n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method||(n.error?(0,gi.Gd)().addBreadcrumb({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args}):(0,gi.Gd)().addBreadcrumb({category:"fetch",data:er(We({},n.fetchData),{status_code:n.response.status}),type:"http"},{input:n.args,response:n.response}))}function GX(n){var t=(0,mo.R)();let e=n.from,r=n.to;var i=RS(t.location.href);let o=RS(e);var s=RS(r);o.path||(o=i),i.protocol===s.protocol&&i.host===s.host&&(r=s.relative),i.protocol===o.protocol&&i.host===o.host&&(e=o.relative),(0,gi.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:r}})}a_.__initStatic();var Ta=(0,mo.R)();let Ov;function HN(){if(Ov)return Ov;if((0,TS.Du)(Ta.fetch))return Ov=Ta.fetch.bind(Ta);var n=Ta.document;let t=Ta.fetch;if(n&&"function"==typeof n.createElement)try{var e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);var r=e.contentWindow;r&&r.fetch&&(t=r.fetch),n.head.removeChild(e)}catch(i){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Ov=t.bind(Ta)}var DS=(0,mo.R)();class jX extends zd{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:Cv}],version:Cv},super(t),t.sendClientReports&&DS.document&&DS.document.addEventListener("visibilitychange",()=>{"hidden"===DS.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function IX(n,t,e,r){var o=PS(n,t,e&&e.syntheticException||void 0,r);return(0,Ui.EG)(o),o.level="error",e&&e.event_id&&(o.event_id=e.event_id),(0,cs.WD)(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",r){return function NX(n,t,e="info",r,i){var s=AS(n,t,r&&r.syntheticException||void 0,i);return s.level=e,r&&r.event_id&&(s.event_id=r.event_id),(0,cs.WD)(s)}(this._options.stackParser,t,e,r,this._options.attachStacktrace)}sendEvent(t,e){var r=this.getIntegrationById(jN);r&&r.options&&r.options.sentry&&(0,gi.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,Ui.jH)(t)},{event:t}),super.sendEvent(t,e)}_prepareEvent(t,e,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,r)}_flushOutcomes(){var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("Sending outcomes:",t);var e=DN(this._dsn,this._options),r=function PX(n,t,e){return Tv(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||(0,vc.yW)(),discarded_events:n}]])}(t,this._options.tunnel&&Ev(this._dsn));try{!function VX(n,t){"[object Navigator]"===Object.prototype.toString.call(Ta&&Ta.navigator)&&"function"==typeof Ta.navigator.sendBeacon?Ta.navigator.sendBeacon.bind(Ta.navigator)(n,t):(0,TS.Ak)()&&HN()(n,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,s=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error(s)})}(e,FN(r))}catch(i){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error(i)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("No outcomes to send")}}function l_(n,t,e,r){var i={filename:n,function:t,in_app:!0};return void 0!==e&&(i.lineno=e),void 0!==r&&(i.colno=r),i}var XX=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qX=/\((\S*)(?::(\d+))(?::(\d+))\)/,JX=[30,n=>{var t=XX.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){var r=qX.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}const[i,o]=YN(t[1]||"?",t[2]);return l_(o,i,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],QX=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ZX=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tq=[50,n=>{var t=QX.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=ZX.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let i=t[3],o=t[1]||"?";return[o,i]=YN(o,i),l_(i,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],nq=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,iq=[40,n=>{var t=nq.exec(n);return t?l_(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],cq=(0,Al.pE)(JX,tq,iq),YN=(n,t)=>{var e=-1!==n.indexOf("safari-extension"),r=-1!==n.indexOf("safari-web-extension");return e||r?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function WN(n,t){return(0,gi.Gd)().captureException(n,{captureContext:t})}function mu(n,t){(0,gi.Gd)().setTag(n,t)}function dq(n){(0,gi.Gd)().withScope(n)}let xS=0;function zN(){return xS>0}function fq(){xS+=1,setTimeout(()=>{xS-=1})}function qd(n,t={},e){if("function"!=typeof n)return n;try{var r=n.__sentry_wrapped__;if(r)return r;if((0,no.HK)(n))return n}catch(a){return n}var i=function(){var a=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var l=a.map(u=>qd(u,t));return n.apply(this,l)}catch(u){throw fq(),dq(c=>{c.addEventProcessor(y=>(t.mechanism&&((0,Ui.Db)(y,void 0,void 0),(0,Ui.EG)(y,t.mechanism)),y.extra=er(We({},y.extra),{arguments:a}),y)),WN(u)}),u}};try{for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}catch(a){}(0,no.$Q)(i,n),(0,no.xp)(n,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>n.name})}catch(a){}return i}var pq=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class u_{static __initStatic(){this.id="TryCatch"}__init(){this.name=u_.id}constructor(t){u_.prototype.__init.call(this),this._options=We({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}setupOnce(){var t=(0,mo.R)();this._options.setTimeout&&(0,no.hl)(t,"setTimeout",$N),this._options.setInterval&&(0,no.hl)(t,"setInterval",$N),this._options.requestAnimationFrame&&(0,no.hl)(t,"requestAnimationFrame",_q),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,no.hl)(XMLHttpRequest.prototype,"send",gq);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:pq).forEach(mq)}}function $N(n){return function(...t){return t[0]=qd(t[0],{mechanism:{data:{function:(0,Al.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}}function _q(n){return function(t){return n.apply(this,[qd(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Al.$P)(n)},handled:!0,type:"instrument"}})])}}function gq(n){return function(...t){var e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in e&&"function"==typeof e[i]&&(0,no.hl)(e,i,function(o){var s={mechanism:{data:{function:i,handler:(0,Al.$P)(o)},handled:!0,type:"instrument"}},a=(0,no.HK)(o);return a&&(s.mechanism.data.handler=(0,Al.$P)(a)),qd(o,s)})}),n.apply(this,t)}}function mq(n){var t=(0,mo.R)(),e=t[n]&&t[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||((0,no.hl)(e,"addEventListener",function(r){return function(i,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=qd(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Al.$P)(o),target:n},handled:!0,type:"instrument"}}))}catch(a){}return r.apply(this,[i,qd(o,{mechanism:{data:{function:"addEventListener",handler:(0,Al.$P)(o),target:n},handled:!0,type:"instrument"}}),s])}}),(0,no.hl)(e,"removeEventListener",function(r){return function(i,o,s){var a=o;try{var l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,s)}catch(u){}return r.call(this,i,a,s)}}))}u_.__initStatic();class vu{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=vu.id}__init2(){this._installFunc={onerror:vq,onunhandledrejection:yq}}constructor(t){vu.prototype.__init.call(this),vu.prototype.__init2.call(this),this._options=We({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var e in t){var r=this._installFunc[e];r&&t[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`Global Handler attached: ${e}`),r(),this._installFunc[e]=void 0)}}}function vq(){(0,Sa.o)("error",n=>{const[t,e,r]=KN();if(!t.getIntegration(vu))return;const{msg:i,url:o,line:s,column:a,error:l}=n;if(!(zN()||l&&l.__sentry_own_request__)){var u=void 0===l&&(0,mi.HD)(i)?function Eq(n,t,e,r){let o=(0,mi.VW)(n)?n.message:n,s="Error";var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],o=a[2]),XN({exception:{values:[{type:s,value:o}]}},t,e,r)}(i,o,s,a):XN(PS(e,l||i,void 0,r,!1),o,s,a);u.level="error",qN(t,l,u,"onerror")}})}function yq(){(0,Sa.o)("unhandledrejection",n=>{const[t,e,r]=KN();if(!t.getIntegration(vu))return;let i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch(s){}if(zN()||i&&i.__sentry_own_request__)return!0;var o=(0,mi.pt)(i)?function bq(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(i):PS(e,i,void 0,r,!0);o.level="error",qN(t,i,o,"onunhandledrejection")})}function XN(n,t,e,r){var i=n.exception=n.exception||{},o=i.values=i.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,c=isNaN(parseInt(e,10))?void 0:e,y=(0,mi.HD)(t)&&t.length>0?t:(0,$d.l4)();return 0===l.length&&l.push({colno:u,filename:y,function:"?",in_app:!0,lineno:c}),n}function qN(n,t,e,r){(0,Ui.EG)(e,{handled:!1,type:r}),n.captureEvent(e,{originalException:t})}function KN(){var n=(0,gi.Gd)(),t=n.getClient(),e=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,e.stackParser,e.attachStacktrace]}vu.__initStatic();class Kd{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Kd.id}constructor(t={}){Kd.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){var t=(0,gi.Gd)().getClient();!t||(0,bv.c)((e,r)=>{var i=(0,gi.Gd)().getIntegration(Kd);return i?function Oq(n,t,e,r,i){if(!(r.exception&&r.exception.values&&i&&(0,mi.V9)(i.originalException,Error)))return r;var o=JN(n,e,i.originalException,t);return r.exception.values=[...o,...r.exception.values],r}(t.getOptions().stackParser,i._key,i._limit,e,r):e})}}function JN(n,t,e,r,i=[]){if(!(0,mi.V9)(e[r],Error)||i.length+1>=t)return i;var o=GN(n,e[r]);return JN(n,t,e[r],r,[o,...i])}Kd.__initStatic();class Jd{constructor(){Jd.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Jd.id}setupOnce(t,e){var r=i=>{var o=e().getIntegration(Jd);if(o){try{if(function Mq(n,t){return!(!t||!function wq(n,t){var e=n.message,r=t.message;return!(!e&&!r||e&&!r||!e&&r||e!==r||!ZN(n,t)||!QN(n,t))}(n,t)&&!function Pq(n,t){var e=e2(t),r=e2(n);return!!(e&&r&&e.type===r.type&&e.value===r.value&&ZN(n,t)&&QN(n,t))}(n,t))}(i,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=i}return o._previousEvent=i}return i};r.id=this.name,t(r)}}function QN(n,t){let e=t2(n),r=t2(t);if(!e&&!r)return!0;if(e&&!r||!e&&r||(e=e,r=r,r.length!==e.length))return!1;for(let s=0;s<r.length;s++){var i=r[s],o=e[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function ZN(n,t){let e=n.fingerprint,r=t.fingerprint;if(!e&&!r)return!0;if(e&&!r||!e&&r)return!1;e=e,r=r;try{return e.join("")===r.join("")}catch(i){return!1}}function e2(n){return n.exception&&n.exception.values&&n.exception.values[0]}function t2(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Jd.__initStatic();var bc=(0,mo.R)();class Qd{constructor(){Qd.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Qd.id}setupOnce(){(0,bv.c)(t=>{if((0,gi.Gd)().getIntegration(Qd)){if(!bc.navigator&&!bc.location&&!bc.document)return t;var e=t.request&&t.request.url||bc.location&&bc.location.href;const{referrer:o}=bc.document||{},{userAgent:s}=bc.navigator||{};var r=We(We(We({},t.request&&t.request.headers),o&&{Referer:o}),s&&{"User-Agent":s}),i=er(We({},e&&{url:e}),{headers:r});return er(We({},t),{request:i})}return t})}}function n2(n,t,e=function Aq(n){var t=[];function r(s){return t.splice(t.indexOf(s),1)[0]}return{$:t,add:function i(s){if(!function e(){return void 0===n||t.length<n}())return(0,cs.$2)(new go("Not adding Promise because buffer limit was reached."));var a=s();return-1===t.indexOf(a)&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a},drain:function o(s){return new cs.cW((a,l)=>{let u=t.length;if(!u)return a(!0);var c=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(y=>{(0,cs.WD)(y).then(()=>{--u||(clearTimeout(c),a(!0))},l)})})}}}(n.bufferSize||30)){let r={};return{send:function o(s){var a=[];if(NN(s,(y,M)=>{var w=kN(M);!function Iq(n,t,e=Date.now()){return function xq(n,t){return n[t]||n.all||0}(n,t)>e}(r,w)?a.push(y):n.recordDroppedEvent("ratelimit_backoff",w)}),0===a.length)return(0,cs.WD)();var l=Tv(s[0],a),u=y=>{NN(l,(M,w)=>{n.recordDroppedEvent(y,kN(w))})};return e.add(()=>t({body:FN(l,n.textEncoder)}).then(y=>{void 0!==y.statusCode&&(y.statusCode<200||y.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`Sentry responded with status code ${y.statusCode} to sent event.`),r=function Nq(n,{statusCode:t,headers:e},r=Date.now()){var i=We({},n),o=e&&e["x-sentry-rate-limits"],s=e&&e["retry-after"];if(o)for(var a of o.trim().split(",")){const[y,M]=a.split(":",2);var l=parseInt(y,10),u=1e3*(isNaN(l)?60:l);if(M)for(var c of M.split(";"))i[c]=r+u;else i.all=r+u}else s?i.all=r+function Dq(n,t=Date.now()){var e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;var r=Date.parse(`${n}`);return isNaN(r)?6e4:r-t}(s,r):429===t&&(i.all=r+6e4);return i}(r,y)},y=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Failed while sending event:",y),u("network_error")})).then(y=>y,y=>{if(y instanceof go)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Skipped sending event because buffer is full."),u("queue_overflow"),(0,cs.WD)();throw y})},flush:s=>e.drain(s)}}function kq(n,t=HN()){return n2(n,function e(r){var i=We({body:r.body,method:"POST",referrerPolicy:"origin",headers:n.headers},n.fetchOptions);return t(n.url,i).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))})}function Lq(n){return n2(n,function t(e){return new cs.cW((r,i)=>{var o=new XMLHttpRequest;for(var s in o.onerror=i,o.onreadystatechange=()=>{4===o.readyState&&r({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",n.url),n.headers)Object.prototype.hasOwnProperty.call(n.headers,s)&&o.setRequestHeader(s,n.headers[s]);o.send(e.body)})})}Qd.__initStatic();var Uq=[new Wd,new s_,new u_,new a_,new vu,new Kd,new Jd,new Qd];function r2(n){n.startSession({ignoreDuration:!0}),n.captureSession()}function Gt(...n){return kn(n,ts(n))}function Ec(n,t){return E(t)?xr(n,t,1):xr(n,1)}function Wt(n,t){return Ne((e,r)=>{let i=0;e.subscribe(ne(r,o=>n.call(t,o,i++)&&r.next(o)))})}class o2{}class s2{}class Rl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),o=i.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Rl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Rl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Rl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Hq{encodeKey(t){return a2(t)}encodeValue(t){return a2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Wq=/%(\d[a-f0-9])/gi,zq={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function a2(n){return encodeURIComponent(n).replace(Wq,(t,e)=>{var r;return null!==(r=zq[e])&&void 0!==r?r:t})}function l2(n){return`${n}`}class yu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hq,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yq(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{e.push({param:r,value:o,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new yu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(l2(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(l2(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $q{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function u2(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function c2(n){return"undefined"!=typeof Blob&&n instanceof Blob}function h2(n){return"undefined"!=typeof FormData&&n instanceof FormData}class c_{constructor(t,e,r,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Xq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Rl),this.context||(this.context=new $q),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new yu,this.urlWithParams=e}serializeBody(){return null===this.body?null:u2(this.body)||c2(this.body)||h2(this.body)||function qq(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||h2(this.body)?null:c2(this.body)?this.body.type||null:u2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const y=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((M,w)=>M.set(w,t.setHeaders[w]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((M,w)=>M.set(w,t.setParams[w]),c)),new c_(r,i,s,{params:c,headers:u,context:y,reportProgress:l,responseType:o,withCredentials:a})}}var Oi=(()=>((Oi=Oi||{})[Oi.Sent=0]="Sent",Oi[Oi.UploadProgress=1]="UploadProgress",Oi[Oi.ResponseHeader=2]="ResponseHeader",Oi[Oi.DownloadProgress=3]="DownloadProgress",Oi[Oi.Response=4]="Response",Oi[Oi.User=5]="User",Oi))();class IS{constructor(t,e=200,r="OK"){this.headers=t.headers||new Rl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class NS extends IS{constructor(t={}){super(t),this.type=Oi.ResponseHeader}clone(t={}){return new NS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mv extends IS{constructor(t={}){super(t),this.type=Oi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Mv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wv extends IS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function FS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let kS=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let o;if(e instanceof c_)o=e;else{let l,u;l=i.headers instanceof Rl?i.headers:new Rl(i.headers),i.params&&(u=i.params instanceof yu?i.params:new yu({fromObject:i.params})),o=new c_(e,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=Gt(o).pipe(Ec(l=>this.handler.handle(l)));if(e instanceof c_||"events"===i.observe)return s;const a=s.pipe(Wt(l=>l instanceof Mv));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new yu).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,FS(i,r))}post(e,r,i={}){return this.request("POST",e,FS(i,r))}put(e,r,i={}){return this.request("PUT",e,FS(i,r))}}return n.\u0275fac=function(e){return new(e||n)(ke(o2))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class d2{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const f2=new qt("HTTP_INTERCEPTORS");let Kq=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const Jq=/^\)\]\}',?\n/;let p2=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((w,A)=>i.setRequestHeader(w,A.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const w=e.detectContentTypeHeader();null!==w&&i.setRequestHeader("Content-Type",w)}if(e.responseType){const w=e.responseType.toLowerCase();i.responseType="json"!==w?w:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const w=i.statusText||"OK",A=new Rl(i.getAllResponseHeaders()),D=function Qq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new NS({headers:A,status:i.status,statusText:w,url:D}),s},l=()=>{let{headers:w,status:A,statusText:D,url:I}=a(),j=null;204!==A&&(j=void 0===i.response?i.responseText:i.response),0===A&&(A=j?200:0);let W=A>=200&&A<300;if("json"===e.responseType&&"string"==typeof j){const re=j;j=j.replace(Jq,"");try{j=""!==j?JSON.parse(j):null}catch(ae){j=re,W&&(W=!1,j={error:ae,text:j})}}W?(r.next(new Mv({body:j,headers:w,status:A,statusText:D,url:I||void 0})),r.complete()):r.error(new wv({error:j,headers:w,status:A,statusText:D,url:I||void 0}))},u=w=>{const{url:A}=a(),D=new wv({error:w,status:i.status||0,statusText:i.statusText||"Unknown Error",url:A||void 0});r.error(D)};let c=!1;const y=w=>{c||(r.next(a()),c=!0);let A={type:Oi.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(A.total=w.total),"text"===e.responseType&&!!i.responseText&&(A.partialText=i.responseText),r.next(A)},M=w=>{let A={type:Oi.UploadProgress,loaded:w.loaded};w.lengthComputable&&(A.total=w.total),r.next(A)};return i.addEventListener("load",l),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),e.reportProgress&&(i.addEventListener("progress",y),null!==o&&i.upload&&i.upload.addEventListener("progress",M)),i.send(o),r.next({type:Oi.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",l),i.removeEventListener("timeout",u),e.reportProgress&&(i.removeEventListener("progress",y),null!==o&&i.upload&&i.upload.removeEventListener("progress",M)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(ke(hN))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const BS=new qt("XSRF_COOKIE_NAME"),LS=new qt("XSRF_HEADER_NAME");class _2{}let Zq=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=nN(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr),ke(fc),ke(BS))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),US=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(_2),ke(LS))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),eK=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(f2,[]);this.chain=r.reduceRight((i,o)=>new d2(i,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(s2),ke(Si))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),tK=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:US,useClass:Kq}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:BS,useValue:e.cookieName}:[],e.headerName?{provide:LS,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[US,{provide:f2,useExisting:US,multi:!0},{provide:_2,useClass:Zq},{provide:BS,useValue:"XSRF-TOKEN"},{provide:LS,useValue:"X-XSRF-TOKEN"}]}),n})(),nK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[kS,{provide:o2,useClass:eK},p2,{provide:s2,useExisting:p2}],imports:[[tK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const iK="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,aK="undefined"!=typeof Zone&&!!Zone.current;let uK=(()=>{class n{constructor(e){this._options=Object.assign({logErrors:!0},e)}handleError(e){const r=this._extractError(e)||"Handled unknown error",i=function lK(n){return aK?Zone.root.run(n):n()}(()=>WN(r,o=>(o.addEventProcessor(s=>((0,Ui.EG)(s,{type:"angular",handled:!1}),s)),o)));this._options.logErrors&&console.error(r),this._options.showDialog&&function Vq(n={},t=(0,gi.Gd)()){var e=(0,mo.R)();if(!e.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Global document not defined in showReportDialog call"));const{client:r,scope:i}=t.getStackTop();var o=n.dsn||r&&r.getDsn();if(o){i&&(n.user=We(We({},i.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());var s=e.document.createElement("script");s.async=!0,s.src=function oX(n,t){var e=AN(n),r=`${RN(e)}embed/error-page/`;let i=`dsn=${Ev(e)}`;for(var o in t)if("dsn"!==o)if("user"===o){var s=t.user;if(!s)continue;s.name&&(i+=`&name=${encodeURIComponent(s.name)}`),s.email&&(i+=`&email=${encodeURIComponent(s.email)}`)}else i+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${i}`}(o,n),n.onLoad&&(s.onload=n.onLoad);var a=e.document.head||e.document.body;a?a.appendChild(s):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.error("DSN not configured for showReportDialog call")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:i}))}_extractError(e){if(this._options.extractor){const r=this._defaultExtractor.bind(this);return this._options.extractor(e,r)}return this._defaultExtractor(e)}_defaultExtractor(e){let r=e;return r&&r.ngOriginalError&&(r=r.ngOriginalError),"string"==typeof r||r instanceof Error?r:r instanceof wv?r.error instanceof Error?r.error:r.error instanceof ErrorEvent&&r.error.message?r.error.message:"string"==typeof r.error?`Server returned code ${r.status} with body "${r.error}"`:r.message:null}}return n.\u0275fac=function(e){return new(e||n)(ke("errorHandlerOptions"))},n.\u0275prov=ot({factory:function(){return new n(ke("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function cK(n){return new uK(n)}(0,mo.R)();var yr=(()=>{return(n=yr||(yr={})).reconnect="reconnect",n.connectionSlow="connection_slow",n.connectionLost="connection_lost",n.loginError="login_error",n.kicked="kicked",n.shutdown="shutdown",n.inactivity="inactivity",yr;var n})();const Lr_production=!0,Lr_loggerEnabled=!1,Lr_version="4.2.12",Lr_clientConfig={path:"https://app-config2.spribegaming.com/aviator/",ext:".json"},Lr_avatarPath="assets/static/avatars/v2/",Lr_brandPath="assets/static/images/brand/";var vi=(()=>{return(n=vi||(vi={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",vi;var n})();function v2(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<n;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function y2(n){const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}function jS(){try{return window.self!==window.top}catch(n){return!0}}var Yr=P(8135);class b2{static toSFSObject(t){let e=new Yr.SFSObject;return Object.keys(t).forEach(r=>{const i=t[r];"string"==typeof i?function mK(n){return encodeURI(n).split(/%..|./).length-1}(i)>32e3?e.putText(r,i):e.putUtfString(r,i):"boolean"==typeof i?e.putBool(r,i):"number"==typeof i?e.putDouble(r,i):!0===Array.isArray(i)&&e.putUtfStringArray(r,i)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let r=t.getKeysArray();for(let i=0;i<r.length;i++)if(this.checkType(t,r[i],Yr.SFSDataType.SFS_OBJECT))e[r[i]]=this.toObject(t.get(r[i]));else if(this.checkType(t,r[i],Yr.SFSDataType.SFS_ARRAY)){let o=[],s=t.get(r[i]);for(let a=0;a<s.size();a++)o.push(this.toObject(s.getSFSObject(a)));e[r[i]]=o}else e[r[i]]=t.get(r[i]);return e}static checkType(t,e,r){try{return!!t.get(e,r)}catch(i){return!1}}}class MK extends _{constructor(t,e){super()}schedule(t,e=0){return this}}const Pv={setInterval(n,t,...e){const{delegate:r}=Pv;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Pv;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class HS extends MK{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return Pv.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Pv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,m(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const YS={now:()=>(YS.delegate||Date).now(),delegate:void 0};class h_{constructor(t,e=h_.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}h_.now=YS.now;class WS extends h_{constructor(t,e=h_.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const d_=new WS(HS),wK=d_;function bu(n=0,t,e=wK){let r=-1;return null!=t&&(or(t)?e=t:r=t),new ie(i=>{let o=function PK(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}class AK{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectDelayTimer$=null,this.reconnectCount=0}try(t,e=null){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const r=bu(this.RECONNECT_DELAY);this.reconnectDelayTimer$=r.subscribe(()=>{t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=null,this.reconnectCount=0}}var Zd=(()=>{return(n=Zd||(Zd={})).alert="alert",n.toast="toast",n.win="win",Zd;var n})(),Eu=(()=>{return(n=Eu||(Eu={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",Eu;var n})(),ef=(()=>{return(n=ef||(ef={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",ef;var n})(),Sc=(()=>{return(n=Sc||(Sc={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",Sc;var n})();const{isArray:DK}=Array;function zS(n){return fe(t=>function xK(n,t){return DK(t)?n(...t):n(t)}(n,t))}const IK=["addListener","removeListener"],NK=["addEventListener","removeEventListener"],FK=["on","off"];function Fr(n,t,e,r){if(E(e)&&(r=e,e=void 0),r)return Fr(n,t,e).pipe(zS(r));const[i,o]=function LK(n){return E(n.addEventListener)&&E(n.removeEventListener)}(n)?NK.map(s=>a=>n[s](t,a,e)):function kK(n){return E(n.addListener)&&E(n.removeListener)}(n)?IK.map(E2(n,t)):function BK(n){return E(n.on)&&E(n.off)}(n)?FK.map(E2(n,t)):[];if(!i&&Ft(n))return xr(s=>Fr(s,t,e))(lt(n));if(!i)throw new TypeError("Invalid event target");return new ie(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function E2(n,t){return e=>r=>n[e](t,r)}function Wr(n){return Ne((t,e)=>{lt(n).subscribe(ne(e,()=>e.complete(),S)),!e.closed&&t.subscribe(e)})}const UK=Qg,VK=Symbol("__destroy"),S2=Symbol("__decoratorApplied");function T2(n){return"string"==typeof n?Symbol(`__destroy__${n}`):VK}function C2(n,t){n[t]||(n[t]=new De)}function O2(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function M2(n){n instanceof _&&n.unsubscribe()}function w2(n,t){return function(){var e;if(n&&n.call(this),O2(this,T2()),t.arrayName)return function HK(n){Array.isArray(n)&&n.forEach(M2)}(this[t.arrayName]);if(t.checkProperties)for(const r in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(r))||M2(this[r])}}function ui(n={}){return t=>{!function GK(n){return!!n[UK]}(t)?function YK(n,t){n.prototype.ngOnDestroy=w2(n.prototype.ngOnDestroy,t)}(t,n):function WK(n,t){const e=n.\u0275pipe;e.onDestroy=w2(e.onDestroy,t)}(t,n),function jK(n){n.prototype[S2]=!0}(t)}}function Mt(n,t){return e=>{const r=T2(t);return"string"==typeof t?function zK(n,t,e){const r=n[t];C2(n,e),n[t]=function(){r.apply(this,arguments),O2(this,e),n[t]=r}}(n,t,r):C2(n,r),e.pipe(Wr(n[r]))}}var tf=(()=>{return(n=tf||(tf={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",tf;var n})();class $K{constructor(t,e,r=4e3){this.smartFox=t,this.callbackFn=e,this.interval=r,this.timeoutRef=null,this.intervalRef=null,this.waitResponseTime=null,this.waitResponseTime=this.interval-1e3}start(){this.reset(),Fr(this.smartFox,Yr.SFSEvent.EXTENSION_RESPONSE).pipe(Wt(t=>t.cmd===tf.Response),Mt(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.interval)}threadRunner(){this.smartFox.send(new Yr.ExtensionRequest(tf.Request)),this.waitResponse()}waitResponse(){null===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(yr.connectionSlow)},this.waitResponseTime))}pingResponseHandler(){this.callbackFn(null),clearTimeout(this.timeoutRef),this.timeoutRef=null}reset(){clearTimeout(this.timeoutRef),clearInterval(this.intervalRef),this.timeoutRef=null,this.intervalRef=null}}var dn=(()=>{return(n=dn||(dn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",dn;var n})(),Dl=(()=>{return(n=Dl||(Dl={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",Dl;var n})(),Ln=(()=>{return(n=Ln||(Ln={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",Ln;var n})(),Av=(()=>{return(n=Av||(Av={})).navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender",Av;var n})();const nf={UKNOWN:"Unknown"},$S={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:nf.UKNOWN},Rv={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},rf={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Su={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:nf.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},P2=[Su.PS4,Su.CHROME_BOOK,Su.MAC,Su.DELL,Su.ASUS,Su.UNKNOWN],A2={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:nf.UKNOWN},XK={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:nf.UKNOWN.toLowerCase()},R2={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},KK=Object.assign(Object.assign(Object.assign(Object.assign({},Rv),rf),R2),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),XS={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},qS={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},JK=Object.keys(XS).reduce((n,t)=>(n[t]=XS[t],n),{}),D2=Object.keys(qS).reduce((n,t)=>(n[$S[t]]=qS[t],n),{});var qa=Object.freeze({__proto__:null,GENERAL:nf,BROWSERS:$S,MOBILES_RE:Rv,TABLETS_RE:rf,DEVICES:Su,DESKTOP_DEVICES:P2,OS:A2,OS_VERSIONS:XK,OS_RE:R2,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:KK,OS_VERSIONS_RE_MAP:XS,BROWSER_VERSIONS_RE_MAP:qS,OS_VERSIONS_RE:JK,BROWSER_VERSIONS_RE:D2});class QK{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(r=>this.test(t,r)):e&&Array.isArray(e.or)?e.or.some(r=>this.test(t,r)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((r,i)=>r||this.exec(t,i),null):null}}var Tc=(()=>{return(n=Tc||(Tc={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Tc;var n})(),f_=(()=>{return(n=f_||(f_={})).Portrait="portrait",n.Landscape="landscape",f_;var n})();const KS="iPad";let ZK=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new QK,this.deviceType="",this.orientation="",r_(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(i=>{this[i.prop]=Object.keys(qa[i.const]).reduce((o,s)=>"device"===qa[i.const][s]&&r_(this.platformId)&&(this.reTree.test(this.userAgent,rf[KS])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[qa[i.const][s]]=KS,Object):(o[qa[i.const][s]]=this.reTree.test(e,qa[`${i.const}_RE`][s]),o),{})}),r.forEach(i=>{this[i.prop]=Object.keys(qa[i.const]).map(o=>qa[i.const][o]).reduce((o,s)=>"device"===i.prop&&o===qa[i.const].ANDROID?this[i.prop][s]?s:o:o===qa[i.const].UNKNOWN&&this[i.prop][s]?s:o,qa[i.const].UNKNOWN)}),this.browser_version="0",this.browser!==$S.UNKNOWN){const o=this.reTree.exec(e,D2[this.browser]);o&&(this.browser_version=o[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?f_.Landscape:f_.Portrait:nf.UKNOWN,this.deviceType=this.isTablet()?Tc.Tablet:this.isMobile(this.userAgent)?Tc.Mobile:this.isDesktop(this.userAgent)?Tc.Desktop:Tc.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(Rv).find(i=>this.reTree.test(e,Rv[i]))}isTablet(e=this.userAgent){return!(!r_(this.platformId)||!(this.reTree.test(this.userAgent,rf[KS])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(rf).find(i=>!!this.reTree.test(e,rf[i]))}isDesktop(e=this.userAgent){return(this.device!==Su.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&P2.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(ke(fc))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tu(...n){return function tJ(){return xi(1)}()(kn(n,ts(n)))}function x2(n,t){return t?e=>Tu(t.pipe(Kn(1),function nJ(){return Ne((n,t)=>{n.subscribe(ne(t,S))})}()),e.pipe(x2(n))):xr((e,r)=>n(e,r).pipe(Kn(1),function rJ(n){return fe(()=>n)}(e)))}function I2(n,t=d_){const e=bu(n,t);return x2(()=>e)}function p_(n,t){const e=E(n)?n:()=>n,r=i=>i.error(e());return new ie(t?i=>t.schedule(r,0,i):r)}var Dv=(()=>{return(n=Dv||(Dv={})).ifcEvent="ifcEvent",n.modal="modal",Dv;var n})(),Cu=(()=>((Cu||(Cu={})).Base="Roboto, sans-serif",Cu))(),zi=(()=>{return(n=zi||(zi={})).sm="sm",n.md="md",n.lg="lg",zi;var n})();class Cn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?zi.lg:this.appWidth>=420&&this.appHeight>=200?zi.md:zi.sm}}var uJ=setTimeout;function N2(n){return Boolean(n&&void 0!==n.length)}function cJ(){}function ci(n){if(!(this instanceof ci))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k2(n,this)}function F2(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,ci._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var r;try{r=e(n._value)}catch(i){return void __(t.promise,i)}JS(t.promise,r)}else(1===n._state?JS:__)(t.promise,n._value)})):n._deferreds.push(t)}function JS(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof ci)return n._state=3,n._value=t,void QS(n);if("function"==typeof e)return void k2(function hJ(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,QS(n)}catch(r){__(n,r)}}function __(n,t){n._state=2,n._value=t,QS(n)}function QS(n){2===n._state&&0===n._deferreds.length&&ci._immediateFn(function(){n._handled||ci._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)F2(n,n._deferreds[t]);n._deferreds=null}function dJ(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function k2(n,t){var e=!1;try{n(function(r){e||(e=!0,JS(t,r))},function(r){e||(e=!0,__(t,r))})}catch(r){if(e)return;e=!0,__(t,r)}}ci.prototype.catch=function(n){return this.then(null,n)},ci.prototype.then=function(n,t){var e=new this.constructor(cJ);return F2(this,new dJ(n,t,e)),e},ci.prototype.finally=function oJ(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},ci.all=function(n){return new ci(function(t,e){if(!N2(n))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(n);if(0===r.length)return t([]);var i=r.length;function o(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var u=l.then;if("function"==typeof u)return void u.call(l,function(c){o(a,c)},e)}r[a]=l,0==--i&&t(r)}catch(c){e(c)}}for(var s=0;s<r.length;s++)o(s,r[s])})},ci.allSettled=function aJ(n){return new this(function(e,r){if(!n||void 0===n.length)return r(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(n);if(0===i.length)return e([]);var o=i.length;function s(l,u){if(u&&("object"==typeof u||"function"==typeof u)){var c=u.then;if("function"==typeof c)return void c.call(u,function(y){s(l,y)},function(y){i[l]={status:"rejected",reason:y},0==--o&&e(i)})}i[l]={status:"fulfilled",value:u},0==--o&&e(i)}for(var a=0;a<i.length;a++)s(a,i[a])})},ci.resolve=function(n){return n&&"object"==typeof n&&n.constructor===ci?n:new ci(function(t){t(n)})},ci.reject=function(n){return new ci(function(t,e){e(n)})},ci.race=function(n){return new ci(function(t,e){if(!N2(n))return e(new TypeError("Promise.race accepts an array"));for(var r=0,i=n.length;r<i;r++)ci.resolve(n[r]).then(t,e)})},ci._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){uJ(n,0)},ci._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const fJ=ci;var pJ=P(5943),_J=P.n(pJ);if(self.Promise||(self.Promise=fJ),Object.assign||(Object.assign=_J()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var mJ=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-mJ}}for(var ZS=Date.now(),B2=["ms","moz","webkit","o"],eT=0;eT<B2.length&&!self.requestAnimationFrame;++eT){var tT=B2[eT];self.requestAnimationFrame=self[tT+"RequestAnimationFrame"],self.cancelAnimationFrame=self[tT+"CancelAnimationFrame"]||self[tT+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+ZS-t;return e<0&&(e=0),ZS=t,self.setTimeout(function(){ZS=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var nT=/iPhone/i,L2=/iPod/i,U2=/iPad/i,G2=/\biOS-universal(?:.+)Mac\b/i,rT=/\bAndroid(?:.+)Mobile\b/i,V2=/Android/i,sf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,xv=/Silk/i,xl=/Windows Phone/i,j2=/\bWindows(?:.+)ARM\b/i,H2=/BlackBerry/i,Y2=/BB10/i,W2=/Opera Mini/i,z2=/\b(CriOS|Chrome)(?:.+)Mobile/i,$2=/Mobile(?:.+)Firefox\b/i,X2=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},ds=function yJ(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i=function vJ(n){return function(t){return t.test(n)}}(e),o={apple:{phone:i(nT)&&!i(xl),ipod:i(L2),tablet:!i(nT)&&(i(U2)||X2(t))&&!i(xl),universal:i(G2),device:(i(nT)||i(L2)||i(U2)||i(G2)||X2(t))&&!i(xl)},amazon:{phone:i(sf),tablet:!i(sf)&&i(xv),device:i(sf)||i(xv)},android:{phone:!i(xl)&&i(sf)||!i(xl)&&i(rT),tablet:!i(xl)&&!i(sf)&&!i(rT)&&(i(xv)||i(V2)),device:!i(xl)&&(i(sf)||i(xv)||i(rT)||i(V2))||i(/\bokhttp\b/i)},windows:{phone:i(xl),tablet:i(j2),device:i(xl)||i(j2)},other:{blackberry:i(H2),blackberry10:i(Y2),opera:i(W2),firefox:i($2),chrome:i(z2),device:i(H2)||i(Y2)||i(W2)||i($2)||i(z2)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator),Iv=(()=>{return(n=Iv||(Iv={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Iv;var n})(),Nv=(()=>{return(n=Nv||(Nv={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Nv;var n})(),Fv=(()=>{return(n=Fv||(Fv={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",Fv;var n})(),kv=(()=>{return(n=kv||(kv={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",kv;var n})(),af=(()=>{return(n=af||(af={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",af;var n})(),Bv=(()=>{return(n=Bv||(Bv={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Bv;var n})(),rt={MIPMAP_TEXTURES:Fv.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Bv.NONE,SPRITE_MAX_TEXTURES:function bJ(n){var e,t=!0;(ds.tablet||ds.phone)&&(ds.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),ds.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:kv.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Nv.CLAMP,SCALE_MODE:Iv.LINEAR,PRECISION_VERTEX:af.HIGH,PRECISION_FRAGMENT:ds.apple.device?af.HIGH:af.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function EJ(){return!ds.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},SJ=P(9170),lf=P.n(SJ),TJ=P(5469),iT=P.n(TJ),oT=P(8762),$i=(()=>{return(n=$i||($i={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",$i;var n})(),Ca=(()=>{return(n=Ca||(Ca={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",Ca;var n})(),Ou=(()=>{return(n=Ou||(Ou={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",Ou;var n})(),xe=(()=>{return(n=xe||(xe={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",xe;var n})(),ro=(()=>{return(n=ro||(ro={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",ro;var n})(),Be=(()=>{return(n=Be||(Be={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Be;var n})(),zo=(()=>{return(n=zo||(zo={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",zo;var n})(),_t=(()=>{return(n=_t||(_t={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",_t;var n})(),Mu=(()=>{return(n=Mu||(Mu={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",Mu;var n})(),Mi=(()=>{return(n=Mi||(Mi={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",Mi;var n})(),Us=(()=>{return(n=Us||(Us={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Us;var n})(),Fo=(()=>{return(n=Fo||(Fo={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",Fo;var n})(),Xi=(()=>{return(n=Xi||(Xi={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",Xi;var n})(),vo=(()=>{return(n=vo||(vo={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",vo;var n})(),uf=(()=>{return(n=uf||(uf={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",uf;var n})(),wi=(()=>{return(n=wi||(wi={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",wi;var n})(),rr=(()=>{return(n=rr||(rr={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",rr;var n})(),Tn=(()=>{return(n=Tn||(Tn={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Tn;var n})(),Pi=(()=>{return(n=Pi||(Pi={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Pi;var n})(),Cc={parse:oT.Qc,format:oT.WU,resolve:oT.DB};rt.RETINA_PREFIX=/@([0-9\.]+)x/,rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var lT,sT=!1;function K2(){sT=!0}function aT(n){var t;sT||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),sT=!0)}function J2(){return void 0===lT&&(lT=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,i}catch(s){return!1}}()),lT}var cee={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Il(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function Lv(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function ko(n){return"string"==typeof n&&"#"===(n=cee[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function uT(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var cT=function hee(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[xe.NORMAL_NPM]=xe.NORMAL,n[xe.ADD_NPM]=xe.ADD,n[xe.SCREEN_NPM]=xe.SCREEN,t[xe.NORMAL]=xe.NORMAL_NPM,t[xe.ADD]=xe.ADD_NPM,t[xe.SCREEN]=xe.SCREEN_NPM;var r=[];return r.push(t),r.push(n),r}();function hT(n,t){return cT[t?1:0][n]}function Q2(n,t,e,r){return e=e||new Float32Array(4),r||void 0===r?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function Uv(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,r=n>>8&255,i=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(i*t+.5|0)}function dT(n,t,e,r){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(r||void 0===r)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function Z2(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var r=0,i=0;r<e;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}function Gv(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var dee={Float32Array,Uint32Array,Int32Array,Uint8Array};function fee(n,t){for(var e=0,r=0,i={},o=0;o<n.length;o++)r+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],c=n[o],y=Gv(c);i[y]||(i[y]=new dee[y](s)),a=i[y];for(var M=0;M<c.length;M++)a[(M/u|0)*r+l+M%u]=c[M];l+=u}return new Float32Array(s)}function g_(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function fT(n){return!(n&n-1||!n)}function pT(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function Oc(n,t,e){var i,r=n.length;if(!(t>=r||0===e)){var o=r-(e=t+e>r?r-t:e);for(i=t;i<o;++i)n[i]=n[i+e];n.length=o}}function Mc(n){return 0===n?0:n<0?-1:1}var pee=0;function wu(){return++pee}var eF={};function Ka(n,t,e){if(void 0===e&&(e=3),!eF[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(r))),eF[t]=!0}}var _T={},$o=Object.create(null),Gs=Object.create(null);function _ee(){var n;for(n in $o)$o[n].destroy();for(n in Gs)Gs[n].destroy()}function gee(){var n;for(n in $o)delete $o[n];for(n in Gs)delete Gs[n]}var cf=function(){function n(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||rt.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function tF(n){var u,c,y,t=n.width,e=n.height,r=n.getContext("2d"),o=r.getImageData(0,0,t,e).data,s=o.length,a={top:null,left:null,right:null,bottom:null},l=null;for(u=0;u<s;u+=4)0!==o[u+3]&&(c=u/4%t,y=~~(u/4/t),null===a.top&&(a.top=y),(null===a.left||c<a.left)&&(a.left=c),(null===a.right||a.right<c)&&(a.right=c+1),(null===a.bottom||a.bottom<y)&&(a.bottom=y));return null!==a.top&&(l=r.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var Vv,nF=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function mee(n){var t=nF.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function rF(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,Vv||(Vv=document.createElement("a")),Vv.href=n;var e=Cc.parse(Vv.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function m_(n,t){var e=rt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var v_=2*Math.PI,iF=180/Math.PI,oF=Math.PI/180,Qn=(()=>{return(n=Qn||(Qn={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",Qn;var n})(),Un=function(){function n(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=Qn.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(o-i,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=o-i,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),sF=function(){function n(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=Qn.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,o=this.y-e;return(i*=i)+(o*=o)<=this.radius*this.radius},n.prototype.getBounds=function(){return new Un(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),aF=function(){function n(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=Qn.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},n.prototype.getBounds=function(){return new Un(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),y_=function(){function n(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var o=[],s=0,a=i.length;s<a;s++)o.push(i[s].x,i[s].y);i=o}this.points=i,this.type=Qn.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,o=0,s=i-1;o<i;s=o++){var a=this.points[2*o],l=this.points[2*o+1],c=this.points[2*s+1];l>e!=c>e&&t<(e-l)/(c-l)*(this.points[2*s]-a)+a&&(r=!r)}return r},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),lF=function(){function n(t,e,r,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=o,this.type=Qn.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+r&&e<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;var i=t-(this.x+r),o=e-(this.y+r),s=r*r;if(i*i+o*o<=s||(i=t-(this.x+this.width-r))*i+o*o<=s||i*i+(o=e-(this.y+this.height-r))*o<=s||(i=t-(this.x+r))*i+o*o<=s)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),wr=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),wc=function(){function n(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),cr=function(){function n(t,e,r,i,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,r,i,o,s){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},n.prototype.apply=function(t,e){e=e||new wr;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new wr;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,o=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=o*e-this.d*r,this.d=o*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this},n.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,o=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*o,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*o,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,r,i,o,s,a,l,u){return this.a=Math.cos(a+u)*o,this.b=Math.sin(a+u)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-i,o),l=Math.atan2(r,e),u=Math.abs(a+l);return u<1e-5||Math.abs(v_-u)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(s.x*e+s.y*i),t.position.y=this.ty+(s.x*r+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,o=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Pc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ac=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Rc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Dc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],gT=[],uF=[],jv=Math.sign;!function vee(){for(var n=0;n<16;n++){var t=[];gT.push(t);for(var e=0;e<16;e++)for(var r=jv(Pc[n]*Pc[e]+Rc[n]*Ac[e]),i=jv(Ac[n]*Pc[e]+Dc[n]*Ac[e]),o=jv(Pc[n]*Rc[e]+Rc[n]*Dc[e]),s=jv(Ac[n]*Rc[e]+Dc[n]*Dc[e]),a=0;a<16;a++)if(Pc[a]===r&&Ac[a]===i&&Rc[a]===o&&Dc[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new cr;l.set(Pc[n],Ac[n],Rc[n],Dc[n],0,0),uF.push(l)}}();var kr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Pc[n]},uY:function(n){return Ac[n]},vX:function(n){return Rc[n]},vY:function(n){return Dc[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return gT[n][t]},sub:function(n,t){return gT[n][kr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?kr.S:kr.N:2*Math.abs(t)<=Math.abs(n)?n>0?kr.E:kr.W:t>0?n>0?kr.SE:kr.SW:n>0?kr.NE:kr.NW},matrixAppendRotationInv:function(n,t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=uF[kr.inv(t)];i.tx=e,i.ty=r,n.append(i)}},mT=function(){function n(){this.worldTransform=new cr,this.localTransform=new cr,this.position=new wc(this.onChange,this,0,0),this.scale=new wc(this.onChange,this,1,1),this.pivot=new wc(this.onChange,this,0,0),this.skew=new wc(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();rt.SORTABLE_CHILDREN=!1;var hf=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Un.EMPTY:((t=t||new Un(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var u=t.a*e.x+t.c*e.y+t.tx,c=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},n.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,o=this.maxY,s=t[0],a=t[1];e=s<e?s:e,r=a<r?a:r,i=s>i?s:i,o=a>o?a:o,e=(s=t[2])<e?s:e,r=(a=t[3])<r?a:r,i=s>i?s:i,o=a>o?a:o,e=(s=t[4])<e?s:e,r=(a=t[5])<r?a:r,i=s>i?s:i,o=a>o?a:o,r=(a=t[7])<r?a:r,i=(s=t[6])>i?s:i,o=a>o?a:o,this.minX=e=s<e?s:e,this.minY=r,this.maxX=i,this.maxY=o},n.prototype.addFrame=function(t,e,r,i,o){this.addFrameMatrix(t.worldTransform,e,r,i,o)},n.prototype.addFrameMatrix=function(t,e,r,i,o){var s=t.a,a=t.b,l=t.c,u=t.d,c=t.tx,y=t.ty,M=this.minX,w=this.minY,A=this.maxX,D=this.maxY,I=s*e+l*r+c,j=a*e+u*r+y;M=I<M?I:M,w=j<w?j:w,A=I>A?I:A,D=j>D?j:D,M=(I=s*i+l*r+c)<M?I:M,w=(j=a*i+u*r+y)<w?j:w,A=I>A?I:A,D=j>D?j:D,M=(I=s*e+l*o+c)<M?I:M,w=(j=a*e+u*o+y)<w?j:w,A=I>A?I:A,D=j>D?j:D,w=(j=a*i+u*o+y)<w?j:w,A=(I=s*i+l*o+c)>A?I:A,D=j>D?j:D,this.minX=M=I<M?I:M,this.minY=w,this.maxX=A,this.maxY=D},n.prototype.addVertexData=function(t,e,r){for(var i=this.minX,o=this.minY,s=this.maxX,a=this.maxY,l=e;l<r;l+=2){var u=t[l],c=t[l+1];i=u<i?u:i,o=c<o?c:o,s=u>s?u:s,a=c>a?c:a}this.minX=i,this.minY=o,this.maxX=s,this.maxY=a},n.prototype.addVertices=function(t,e,r,i){this.addVerticesMatrix(t.worldTransform,e,r,i)},n.prototype.addVerticesMatrix=function(t,e,r,i,o,s){void 0===o&&(o=0),void 0===s&&(s=o);for(var a=t.a,l=t.b,u=t.c,c=t.d,y=t.tx,M=t.ty,w=this.minX,A=this.minY,D=this.maxX,I=this.maxY,j=r;j<i;j+=2){var W=e[j],re=e[j+1],ae=a*W+u*re+y,Z=c*re+l*W+M;w=Math.min(w,ae-o),D=Math.max(D,ae+o),A=Math.min(A,Z-s),I=Math.max(I,Z+s)}this.minX=w,this.minY=A,this.maxX=D,this.maxY=I},n.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},n.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=o&&i<=s){var a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=o>u?o:u,this.maxY=s>c?s:c}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=o&&i<=s){var a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=r<a?r:a,this.minY=i<l?i:l,this.maxX=o>u?o:u,this.maxY=s>c?s:c}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,r,i,o,s){e-=s,r+=o,i+=s,this.minX=this.minX<(t-=o)?this.minX:t,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},n}(),vT=function(n,t){return(vT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function yT(n,t){function e(){this.constructor=n}vT(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var zr=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new mT,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new hf,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return yT(t,n),t.mixin=function(e){for(var r=Object.keys(e),i=0;i<r.length;++i){var o=r[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Un),r=this._boundsRect),this._bounds.getRectangle(r)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Un),e=this._localBoundsRect),this._localBounds||(this._localBounds=new hf);var r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=o,this._bounds.updateID+=this._boundsID-s,a},t.prototype.toGlobal=function(e,r,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)},t.prototype.toLocal=function(e,r,i,o){return r&&(e=r.toGlobal(e,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,r,i,o,s,a,l,u,c){return void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===c&&(c=0),this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=o||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=u,this.pivot.y=c,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new bT),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*iF},set:function(e){this.transform.rotation=e*oF},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var r;this._mask!==e&&(this._mask&&((r=this._mask.maskObject||this._mask)._maskRefCount--,0===r._maskRefCount&&(r.renderable=!0,r.isMask=!1)),this._mask=e,this._mask&&(0===(r=this._mask.maskObject||this._mask)._maskRefCount&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++))},enumerable:!1,configurable:!0}),t}(lf()),bT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return yT(t,n),t}(zr);zr.prototype.displayObjectUpdateTransform=zr.prototype.updateTransform;var Hv=(()=>{return(n=Hv||(Hv={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",Hv;var n})();function yee(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var Ur=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=rt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return yT(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(r.length>1)for(var o=0;o<r.length;o++)this.addChild(r[o]);else{var s=r[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return r[0]},t.prototype.addChildAt=function(e,r){if(r<0||r>this.children.length)throw new Error(e+"addChildAt: The index "+r+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e},t.prototype.swapChildren=function(e,r){if(e!==r){var i=this.getChildIndex(e),o=this.getChildIndex(r);this.children[i]=r,this.children[o]=e,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(e){var r=this.children.indexOf(e);if(-1===r)throw new Error("The supplied DisplayObject must be a child of the caller");return r},t.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);Oc(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(r.length>1)for(var o=0;o<r.length;o++)this.removeChild(r[o]);else{var s=r[0],a=this.children.indexOf(s);if(-1===a)return null;s.parent=null,s.transform._parentID=-1,Oc(this.children,a,1),this._boundsID++,this.onChildrenChange(a),s.emit("removed",this),this.emit("childRemoved",s,this,a)}return r[0]},t.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Oc(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r},t.prototype.removeChildren=function(e,r){void 0===e&&(e=0),void 0===r&&(r=this.children.length);var a,s=r-e;if(s>0&&s<=r){a=this.children.splice(e,s);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,r=0,i=this.children.length;r<i;++r){var o=this.children[r];o._lastSortedIndex=r,!e&&0!==o.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(yee),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,r=this.children.length;e<r;++e){var i=this.children[e];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var r=this.children[e];if(r.visible&&r.renderable)if(r.calculateBounds(),r._mask){var i=r._mask.maskObject||r._mask;i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,r){void 0===r&&(r=!1);var i=n.prototype.getLocalBounds.call(this,e);if(!r)for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o];a.visible&&a.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var r=0,i=this.children.length;r<i;++r)this.children[r].render(e)}},t.prototype.renderAdvanced=function(e){var r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<r.length;o++)r[o].enabled&&this._enabledFilters.push(r[o])}var s=r&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Hv.NONE));s&&e.batch.flush(),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this._render(e),o=0;for(var a=this.children.length;o<a;o++)this.children[o].render(e);s&&e.batch.flush(),i&&e.mask.pop(this),r&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var o=0;o<i.length;++o)i[o].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var r=this.getLocalBounds().width;this.scale.x=0!==r?e/r:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var r=this.getLocalBounds().height;this.scale.y=0!==r?e/r:1,this._height=e},enumerable:!1,configurable:!0}),t}(zr);Ur.prototype.containerUpdateTransform=Ur.prototype.updateTransform;var cF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};zr.mixin(cF);var ET=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ds.tablet||ds.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},n.prototype.update=function(){var t=performance.now();if(!(ds.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.top,a=this.renderer,l=a.width,u=a.height,c=a.resolution,y=e.width/l*c,M=e.height/u*c,w=this.div;w.style.left=e.left+"px",w.style.top=i+"px",w.style.width=l+"px",w.style.height=u+"px";for(var A=0;A<this.children.length;A++){var D=this.children[A];if(D.renderId!==this.renderId)D._accessibleActive=!1,Oc(this.children,A,1),this.div.removeChild(D._accessibleDiv),this.pool.push(D._accessibleDiv),D._accessibleDiv=null,A--;else{w=D._accessibleDiv;var I=D.hitArea,j=D.worldTransform;D.hitArea?(w.style.left=(j.tx+I.x*j.a)*y+"px",w.style.top=(j.ty+I.y*j.d)*M+"px",w.style.width=I.width*j.a*y+"px",w.style.height=I.height*j.d*M+"px"):(I=D.getBounds(),this.capHitArea(I),w.style.left=I.x*y+"px",w.style.top=I.y*M+"px",w.style.width=I.width*y+"px",w.style.height=I.height*M+"px",w.title!==D.accessibleTitle&&null!==D.accessibleTitle&&(w.title=D.accessibleTitle),w.getAttribute("aria-label")!==D.accessibleHint&&null!==D.accessibleHint&&w.setAttribute("aria-label",D.accessibleHint)),(D.accessibleTitle!==w.title||D.tabIndex!==w.tabIndex)&&(w.title=D.accessibleTitle,w.tabIndex=D.tabIndex,this.debug&&this.updateDebugHTML(w))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,r=e.width,i=e.height;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>i&&(t.height=i-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,r=t.target.displayObject,i=e.eventData;e.dispatchEvent(r,"click",i),e.dispatchEvent(r,"pointertap",i),e.dispatchEvent(r,"tap",i)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();rt.TARGET_FPMS=.06;var Oa=(()=>{return(n=Oa||(Oa={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",Oa;var n})(),ST=function(){function n(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),qi=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ST(null,null,1/0),this.deltaMS=1/rt.TARGET_FPMS,this.elapsedMS=1/rt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,r){return void 0===r&&(r=Oa.NORMAL),this._addListener(new ST(t,e,r))},n.prototype.addOnce=function(t,e,r){return void 0===r&&(r=Oa.NORMAL),this._addListener(new ST(t,e,r,!0))},n.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*rt.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,rt.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),fF=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Oa.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?qi.shared:new qi,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),TT=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new wr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),CT=function(n,t){return(CT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},pF=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),Wv=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),wee=function(){function n(){this._tempPoint=new wr}return n.prototype.recursiveFindHit=function(t,e,r,i,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,l=o=e.interactive||o,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(i=!1,u=!1)),l=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var c=e.children,y=c.length-1;y>=0;y--){var M=c[y],w=this.recursiveFindHit(t,M,r,i,l);if(w){if(!M.parent)continue;l=!1,w&&(t.target&&(i=!1),a=!0)}}return o&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),r&&r(t,e,!!a))),a},n.prototype.findHit=function(t,e,r,i){this.recursiveFindHit(t,e,r,i,!1)},n}(),_F={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};zr.mixin(_F);var $v={target:null,data:{global:null}},OT=function(n){function t(e,r){var i=n.call(this)||this;return r=r||{},i.renderer=e,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new TT,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new pF,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new wee,i._tempDisplayObject=new bT,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function Mee(n,t){function e(){this.constructor=n}CT(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,r){return $v.target=null,$v.data.global=e,r||(r=this.lastObjectRendered),this.processInteractive($v,r,null,!0),$v.target},t.prototype.setTargetElement=function(e,r){void 0===r&&(r=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=r,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(qi.system.add(this.tickerUpdate,this,Oa.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(qi.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var r=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(r=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.interactionDOMElement.style,i)}else r&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,r,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=r,e.emit(r,i),e[r]&&e[r](i))},t.prototype.delayDispatchEvent=function(e,r,i){this.delayedEvents.push({displayObject:e,eventString:r,eventData:i})},t.prototype.mapPositionToPoint=function(e,r,i){var o;o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=this.interactionDOMElement.width/o.width*(r-o.left)*s,e.y=this.interactionDOMElement.height/o.height*(i-o.top)*s},t.prototype.processInteractive=function(e,r,i,o){var s=this.search.findHit(e,r,i,o),a=this.delayedEvents;if(!a.length)return s;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var u=0;u<l;u++){var c=a[u],y=c.displayObject,M=c.eventString,w=c.eventData;w.stopsPropagatingAt===y&&(w.stopPropagationHint=!0),this.dispatchEvent(y,M,w)}return s},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var o=r.length,s=0;s<o;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),"touch"===a.pointerType?this.emit("touchstart",u):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,r,i){var o=e.data,s=e.data.identifier;if(i)if(r.trackedPointers[s]||(r.trackedPointers[s]=new Wv(s)),this.dispatchEvent(r,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(r,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?r.trackedPointers[s].rightDown=!0:r.trackedPointers[s].leftDown=!0,this.dispatchEvent(r,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,r,i){for(var o=this.normalizeToPointerData(e),s=o.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var u=o[l],c=this.getInteractionDataForPointerId(u),y=this.configureInteractionEventForDOMEvent(this.eventData,u,c);y.data.originalEvent=e,this.processInteractive(y,this.lastObjectRendered,i,r||!a),this.emit(r?"pointercancel":"pointerup"+a,y),"mouse"===u.pointerType||"pen"===u.pointerType?this.emit(2===u.button?"rightup"+a:"mouseup"+a,y):"touch"===u.pointerType&&(this.emit(r?"touchcancel":"touchend"+a,y),this.releaseInteractionDataForPointerId(u.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,r){var i=e.data,o=e.data.identifier;void 0!==r.trackedPointers[o]&&(delete r.trackedPointers[o],this.dispatchEvent(r,"pointercancel",e),"touch"===i.pointerType&&this.dispatchEvent(r,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,r,i){var o=e.data,s=e.data.identifier,a=r.trackedPointers[s],l="touch"===o.pointerType,u="mouse"===o.pointerType||"pen"===o.pointerType,c=!1;if(u){var y=2===o.button,M=Wv.FLAGS,A=void 0!==a&&a.flags&(y?M.RIGHT_DOWN:M.LEFT_DOWN);i?(this.dispatchEvent(r,y?"rightup":"mouseup",e),A&&(this.dispatchEvent(r,y?"rightclick":"click",e),c=!0)):A&&this.dispatchEvent(r,y?"rightupoutside":"mouseupoutside",e),a&&(y?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(r,"pointerup",e),l&&this.dispatchEvent(r,"touchend",e),a&&((!u||c)&&this.dispatchEvent(r,"pointertap",e),l&&(this.dispatchEvent(r,"tap",e),a.over=!1))):a&&(this.dispatchEvent(r,"pointerupoutside",e),l&&this.dispatchEvent(r,"touchendoutside",e)),a&&a.none&&delete r.trackedPointers[s]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e);("mouse"===r[0].pointerType||"pen"===r[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var i=r.length,o=0;o<i;o++){var s=r[o],a=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===s.pointerType&&this.emit("touchmove",l),("mouse"===s.pointerType||"pen"===s.pointerType)&&this.emit("mousemove",l)}"mouse"===r[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,r,i){var o=e.data,s="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,r,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(r,"pointermove",e),s&&this.dispatchEvent(r,"touchmove",e),a&&this.dispatchEvent(r,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e)[0];"mouse"===i.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=i,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),"mouse"===i.pointerType||"pen"===i.pointerType?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,r,i){var o=e.data,s=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,l=r.trackedPointers[s];i&&!l&&(l=r.trackedPointers[s]=new Wv(s)),void 0!==l&&(i&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(r,"pointerover",e),a&&this.delayDispatchEvent(r,"mouseover",e)),a&&null===this.cursor&&(this.cursor=r.cursor)):l.over&&(l.over=!1,this.dispatchEvent(r,"pointerout",this.eventData),a&&this.dispatchEvent(r,"mouseout",e),l.none&&delete r.trackedPointers[s]))},t.prototype.onPointerOver=function(e){var i=this.normalizeToPointerData(e)[0],o=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,o);s.data.originalEvent=i,"mouse"===i.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),("mouse"===i.pointerType||"pen"===i.pointerType)&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(e){var i,r=e.pointerId;return 1===r||"mouse"===e.pointerType?i=this.mouse:this.activeInteractionData[r]?i=this.activeInteractionData[r]:((i=this.interactionDataPool.pop()||new TT).identifier=r,this.activeInteractionData[r]=i),i.copyEvent(e),i},t.prototype.releaseInteractionDataForPointerId=function(e){var r=this.activeInteractionData[e];r&&(delete this.activeInteractionData[e],r.reset(),this.interactionDataPool.push(r))},t.prototype.configureInteractionEventForDOMEvent=function(e,r,i){return e.data=i,this.mapPositionToPoint(i.global,r.clientX,r.clientY),"touch"===r.pointerType&&(r.globalX=i.global.x,r.globalY=i.global.y),i.originalEvent=r,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,o=e.changedTouches.length;i<o;i++){var s=e.changedTouches[i];void 0===s.button&&(s.button=e.touches.length?1:0),void 0===s.buttons&&(s.buttons=e.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,r.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,r.push(a)}else r.push(e);return r},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(lf()),io=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,r,i,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,y=u.items;this._aliasCount++;for(var M=0,w=y.length;M<w;M++)y[M][c](t,e,r,i,o,s,a,l);return y===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(io.prototype,{dispatch:{value:io.prototype.emit},run:{value:io.prototype.emit}}),rt.PREFER_ENV=ds.any?$i.WEBGL:$i.WEBGL2,rt.STRICT_TEXTURE_CACHE=!1;var b_=[];function Xv(n,t){if(!n)return null;var e="";if("string"==typeof n){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(e=r[1].toLowerCase())}for(var i=b_.length-1;i>=0;--i){var o=b_[i];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var MT=function(n,t){return(MT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Pr(n,t){function e(){this.constructor=n}MT(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var wT=function(){return wT=Object.assign||function(t){for(var r,e=arguments,i=1,o=arguments.length;i<o;i++)for(var s in r=e[i])Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);return t},wT.apply(this,arguments)},xc=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new io("setRealSize"),this.onUpdate=new io("update"),this.onError=new io("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,r){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),df=function(n){function t(e,r){var i=this,o=r||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(i=n.call(this,s,a)||this).data=e,i}return Pr(t,n),t.prototype.upload=function(e,r,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK);var s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?o.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,o.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(xc),Aee={scaleMode:Mi.NEAREST,format:Be.RGBA,alphaMode:Xi.NPM},Xn=function(n){function t(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=n.call(this)||this,o=(r=r||{}).alphaMode,s=r.mipmap,a=r.anisotropicLevel,l=r.scaleMode,u=r.width,c=r.height,y=r.wrapMode,M=r.format,w=r.type,A=r.target,D=r.resolution;return e&&!(e instanceof xc)&&((e=Xv(e,r.resourceOptions)).internal=!0),i.resolution=D||rt.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((c||0)*i.resolution)/i.resolution,i._mipmap=void 0!==s?s:rt.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==a?a:rt.ANISOTROPIC_LEVEL,i._wrapMode=y||rt.WRAP_MODE,i._scaleMode=void 0!==l?l:rt.SCALE_MODE,i.format=M||Be.RGBA,i.type=w||_t.UNSIGNED_BYTE,i.target=A||zo.TEXTURE_2D,i.alphaMode=void 0!==o?o:Xi.UNPACK,i.uid=wu(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Pr(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,r){var i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,r,i){return this.setRealSize(e*(i=i||this.resolution),r*i,i)},t.prototype.setRealSize=function(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=fT(this.realWidth)&&fT(this.realHeight)},t.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Gs[this.cacheId],delete $o[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,i){void 0===i&&(i=rt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+wu()),s=e._pixiId);var l=Gs[s];if(o&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,r)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,r,i,o){e=e||new Float32Array(r*i*4);var s=new df(e,{width:r,height:i}),a=e instanceof Float32Array?_t.FLOAT:_t.UNSIGNED_BYTE;return new t(s,Object.assign(Aee,o||{width:r,height:i,type:a}))},t.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Gs[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),Gs[r]=e)},t.removeFromCache=function(e){if("string"==typeof e){var r=Gs[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Gs[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete Gs[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(lf()),qv=function(n){function t(e,r){var i=this,o=r||{};(i=n.call(this,o.width,o.height)||this).items=[],i.itemDirtyIds=[];for(var l=0;l<e;l++){var u=new Xn;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return Pr(t,n),t.prototype.initFromArray=function(e,r){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):this.addResourceAt(e[i]instanceof xc?e[i]:Xv(e[i],r),i))},t.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}).map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(xc),PT=function(n){function t(e,r){var l,u,i=this,o=r||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,u=e.length):u=e,i=n.call(this,u,{width:s,height:a})||this,l&&i.initFromArray(l,r),i}return Pr(t,n),t.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=zo.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,r,i){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,u=e.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,s,0,r.format,i.type,null);for(var c=0;c<s;c++){var y=l[c];a[c]<y.dirtyId&&(a[c]=y.dirtyId,y.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,y.resource.width,y.resource.height,1,r.format,i.type,y.resource.source))}return!0},t}(qv),Ja=function(n){function t(e){var r=this;return(r=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return Pr(t,n),t.crossOrigin=function(e,r,i){void 0===i&&0!==r.indexOf("data:")?e.crossOrigin=rF(r):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},t.prototype.upload=function(e,r,i,o){var s=e.gl,a=r.realWidth,l=r.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK),this.noSubImage||r.target!==s.TEXTURE_2D||i.width!==a||i.height!==l?(i.width=a,i.height=l,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(xc),E_=function(n){function t(e){return n.call(this,e)||this}return Pr(t,n),t.test=function(e){var r=self.OffscreenCanvas;return!!(r&&e instanceof r)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Ja),AT=function(n){function t(e,r){var i=this,o=r||{},s=o.width,a=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=n.call(this,6,{width:s,height:a})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==u,e&&i.initFromArray(e,r),!1!==l&&i.load(),i}return Pr(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=zo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},t.prototype.upload=function(e,r,i){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,i),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(qv),Kv=function(n){function t(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var o=new Image;Ja.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}return i=n.call(this,e)||this,!e.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:rt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return Pr(t,n),t.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(i,o){var s=r.source;r.url=s.src;var a=function(){r.destroyed||(s.onload=null,s.onerror=null,r.resize(s.width,s.height),r._load=null,i(r.createBitmap?r.process():r))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),r.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,r=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var i=self.createImageBitmap;return this._process=fetch(r.src,{mode:r.crossOrigin&&"anonymous"!==r.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return i(s,0,0,r.width,r.height,{premultiplyAlpha:e.alphaMode===Xi.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var o=!0,s=r._glTextures;for(var a in s){var l=s[a];if(l!==i&&l.dirtyId!==r.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Ja),RT=function(n){function t(e,r){var i=this;return r=r||{},(i=n.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return Pr(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,r=new Image;Ja.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){!e._resolve||(r.onerror=null,e.onError.emit(i))},r.onload=function(){if(e._resolve){var i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=i*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*i,a=e._overrideHeight||e._overrideWidth/i*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+wu(),l.getContext("2d").drawImage(r,0,0,i,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Ja),DT=function(n){function t(e,r){var i=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Ja.crossOrigin(o,e[0].src||e[0],r.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),u=e[a],c=u.src,y=u.mime,M=(c=c||e[a]).split("?").shift().toLowerCase(),w=M.substr(M.lastIndexOf(".")+1);y=y||t.MIME_TYPES[w]||"video/"+w,l.src=c,l.type=y,o.appendChild(l)}e=o}return(i=n.call(this,e)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return Pr(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-qi.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,r.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(qi.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(qi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Ja),xT=function(n){function t(e){return n.call(this,e)||this}return Pr(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Ja);b_.push(Kv,xT,E_,DT,RT,df,AT,PT);var gF={__proto__:null,Resource:xc,BaseImageResource:Ja,INSTALLED:b_,autoDetectResource:Xv,AbstractMultiResource:qv,ArrayResource:PT,BufferResource:df,CanvasResource:E_,CubeResource:AT,ImageResource:Kv,SVGResource:RT,VideoResource:DT,ImageBitmapResource:xT},Ree=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Pr(t,n),t.prototype.upload=function(e,r,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK);var s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?o.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,o.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0},t}(df),Jv=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new io("disposeFramebuffer"),this.multisample=Tn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Xn(null,{scaleMode:Mi.NEAREST,resolution:1,mipmap:Fo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Xn(new Ree(null,{width:this.width,height:this.height}),{scaleMode:Mi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Fo.OFF,format:Be.DEPTH_COMPONENT,type:_t.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r];i.setSize(t/(o=i.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),S_=function(n){function t(e){var r=this;if("number"==typeof e){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:i,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Tn.NONE,(r=n.call(this,null,e)||this).mipmap=Fo.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Jv(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=e.multisample,r.maskStack=[],r.filterStack=[{}],r}return Pr(t,n),t.prototype.resize=function(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Xn),IT=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,r){var i=e.width,o=e.height;if(r){var s=t.width/2/i,a=t.height/2/o,l=t.x/i+s,u=t.y/o+a;r=kr.add(r,kr.NW),this.x0=l+s*kr.uX(r),this.y0=u+a*kr.uY(r),r=kr.add(r,2),this.x1=l+s*kr.uX(r),this.y1=u+a*kr.uY(r),r=kr.add(r,2),this.x2=l+s*kr.uX(r),this.y2=u+a*kr.uY(r),r=kr.add(r,2),this.x3=l+s*kr.uX(r),this.y3=u+a*kr.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),mF=new IT,Bt=function(n){function t(e,r,i,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new Un(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=r,l.trim=o,l.valid=!1,l._uvs=mF,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new wr(a.x,a.y):new wr(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=r:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Pr(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture.resource;r&&r.url&&$o[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&e,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},t.prototype.updateUvs=function(){this._uvs===mF&&(this._uvs=new IT),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=rt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Xn?(e.cacheId||(e.cacheId=(r&&r.pixiIdPrefix||"pixiid")+"-"+wu(),Xn.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+wu()),s=e._pixiId);var l=$o[s];if(o&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Xn?!l&&e instanceof Xn&&(l=new t(e),t.addToCache(l,s)):(r.resolution||(r.resolution=m_(e)),(l=new t(new Xn(e,r))).baseTexture.cacheId=s,Xn.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),o=t.from(e,Object.assign({resourceOptions:i},r),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,r,i,o){return new t(Xn.fromBuffer(e,r,i,o))},t.fromLoader=function(e,r,i,o){var s=new Xn(e,Object.assign({scaleMode:rt.SCALE_MODE,resolution:m_(r)},o)),a=s.resource;a instanceof Kv&&(a.url=r);var l=new t(s);return i||(i=r),Xn.addToCache(l.baseTexture,i),t.addToCache(l,i),i!==r&&(Xn.addToCache(l.baseTexture,r),t.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},t.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),$o[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),$o[r]=e)},t.removeFromCache=function(e){if("string"==typeof e){var r=$o[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete $o[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)$o[e.textureCacheIds[o]]===e&&delete $o[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,i=e.y,o=e.width,s=e.height,a=r+o>this.baseTexture.width,l=i+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(lf());function Qv(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Bt.EMPTY=new Bt(new Xn),Qv(Bt.EMPTY),Qv(Bt.EMPTY.baseTexture),Bt.WHITE=function Dee(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Bt(new Xn(new E_(n)))}(),Qv(Bt.WHITE),Qv(Bt.WHITE.baseTexture);var Vs=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Pr(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,r,i){void 0===i&&(i=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(r*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},t.create=function(e){for(var r=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=r[o];return"number"==typeof e&&(Ka("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new S_(e))},t}(Bt),vF=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,r){void 0===r&&(r=Tn.NONE);var i=new S_(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new Vs(i)},n.prototype.getOptimalTexture=function(t,e,r,i){var o;void 0===r&&(r=1),void 0===i&&(i=Tn.NONE),t=Math.ceil(t*r),e=Math.ceil(e*r),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=i>1?-i:-1:(o=((65535&(t=g_(t)))<<16|65535&(e=g_(e)))>>>0,i>1&&(o+=4294967296*i)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,i)),s.filterPoolKey=o,s.setResolution(r),s},n.prototype.getFilterTexture=function(t,e,r){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||Tn.NONE);return i.filterFrame=t.filterFrame,i},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),NT=function(){function n(t,e,r,i,o,s,a){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=_t.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,r,i,o){return new n(t,e,r,i,o)},n}(),xee=0,Ai=function(){function n(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=xee++,this.disposeRunner=new io("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Pi.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Pi.ELEMENT_ARRAY_BUFFER:Pi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),Iee={Float32Array,Uint32Array,Int32Array,Uint8Array},yF={5126:4,5123:2,5121:1},Fee=0,kee={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},ff=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Fee++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new io("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,r,i,o,s,a,l){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ai||(e instanceof Array&&(e=new Float32Array(e)),e=new Ai(e));var u=t.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],e,r,i,o);return this}var y=this.buffers.indexOf(e);return-1===y&&(this.buffers.push(e),y=this.buffers.length-1),this.attributes[t]=new NT(y,r,i,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Ai||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ai(t)),t.type=Pi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var i,t=[],e=[],r=new Ai;for(i in this.attributes){var o=this.attributes[i];t.push(this.buffers[o.buffer].data),e.push(o.size*yF[o.type]/4),o.buffer=0}for(r.data=function Nee(n,t){for(var e=0,r=0,i={},o=0;o<n.length;o++)r+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],c=n[o],y=Gv(c);i[y]||(i[y]=new Iee[y](s)),a=i[y];for(var M=0;M<c.length;M++)a[(M/u|0)*r+l+M%u]=c[M];l+=u}return new Float32Array(s)}(t,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ai(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];t.attributes[e]=new NT(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,r=[],i=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)i[l]=i[l]||0,i[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)r[a]=new(kee[Gv(s.buffers[a].data)])(i[a]),e.buffers[a]=new Ai(r[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)r[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER;var u=0,c=0,y=0,M=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){M=a;break}for(var a in s.attributes){var w=s.attributes[a];(0|w.buffer)===M&&(c+=w.size*yF[w.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+y]+=u;u+=t[a].buffers[M].data.length/c,y+=A.length}}return e},n}(),bF=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Pr(t,n),t}(ff),FT=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ai(e.vertices),e.uvBuffer=new Ai(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Pr(t,n),t.prototype.map=function(e,r){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+r.width/e.width,this.uvs[3]=o,this.uvs[4]=i+r.width/e.width,this.uvs[5]=o+r.height/e.height,this.uvs[6]=i,this.uvs[7]=o+r.height/e.height,o=r.y,this.vertices[0]=i=r.x,this.vertices[1]=o,this.vertices[2]=i+r.width,this.vertices[3]=o,this.vertices[4]=i+r.width,this.vertices[5]=o+r.height,this.vertices[6]=i,this.vertices[7]=o+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(ff),Bee=0,Pu=function(){function n(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Bee++,this.static=!!e,this.ubo=!!r,t instanceof Ai?(this.buffer=t,this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ai(new Float32Array(1)),this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,r)},n.from=function(t,e,r){return new n(t,e,r)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),EF=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Tn.NONE,this.sourceFrame=new Un,this.destinationFrame=new Un,this.bindingSourceFrame=new Un,this.bindingDestinationFrame=new Un,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),Zv=[new wr,new wr,new wr,new wr],kT=new cr,BT=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new vF,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new bF,this.quadUv=new FT,this.tempRect=new Un,this.activeState={},this.globalUniforms=new Pu({outputFrame:new Un,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var r,i,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new EF,l=this.renderer.renderTexture,u=e[0].resolution,c=e[0].multisample,y=e[0].padding,M=e[0].autoFit,w=null===(r=e[0].legacy)||void 0===r||r,A=1;A<e.length;A++){var D=e[A];u=Math.min(u,D.resolution),c=Math.min(c,D.multisample),y=this.useMaxPadding?Math.max(y,D.padding):y+D.padding,M=M&&D.autoFit,w=w||null===(i=D.legacy)||void 0===i||i}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=u,a.multisample=c,a.legacy=w,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(y),M){var I=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(kT.copyFrom(o.projection.transform).invert(),I),a.sourceFrame.fit(I)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,c),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var j=this.tempRect;j.x=0,j.y=0,j.width=a.sourceFrame.width,j.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,j),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var o=i.inputSize,s=i.inputPixel,a=i.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=i.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,vo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,y=this.getOptimalFilterTexture(c.width,c.height,e.resolution);y.filterFrame=c.filterFrame;var M=0;for(M=0;M<r.length-1;++M){1===M&&e.multisample>1&&((y=this.getOptimalFilterTexture(c.width,c.height,e.resolution)).filterFrame=c.filterFrame),r[M].apply(this,c,y,vo.CLEAR,e);var w=c;c=y,y=w}r[M].apply(this,c,u.renderTexture,vo.BLEND,e),M>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(y)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=vo.CLEAR);var r=this.renderer,i=r.renderTexture,o=r.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,i.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===vo.CLEAR||e===vo.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,r,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(ro.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(ro.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,o=r.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,i.x,i.y),l=e.worldTransform.copyTo(cr.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,r,i){return void 0===r&&(r=1),void 0===i&&(i=Tn.NONE),this.texturePool.getOptimalTexture(t,e,r,i)},n.prototype.getFilterTexture=function(t,e,r){if("number"==typeof t){var i=t;t=e,e=i}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,r||Tn.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var r=Zv[0],i=Zv[1],o=Zv[2],s=Zv[3];r.set(e.left,e.top),i.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(o,o),t.apply(s,s);var a=Math.min(r.x,i.x,o.x,s.x),l=Math.min(r.y,i.y,o.y,s.y),u=Math.max(r.x,i.x,o.x,s.x),c=Math.max(r.y,i.y,o.y,s.y);e.x=a,e.y=l,e.width=u-a,e.height=c-l},n.prototype.roundFrame=function(t,e,r,i,o){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(o){var s=o.a,l=o.c,u=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(u)>1e-4))return}(o=o?kT.copyFrom(o):kT.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),T_=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),LT=function(){function n(t){this.renderer=t,this.emptyRenderer=new T_(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},n.prototype.boundArray=function(t,e,r,i){for(var o=t.elements,s=t.ids,a=t.count,l=0,u=0;u<a;u++){var c=o[u],y=c._batchLocation;if(y>=0&&y<i&&e[y]===c)s[u]=y;else for(;l<i;){var M=e[l];if(!M||M._batchEnabled!==r||M._batchLocation!==l){s[u]=l,c._batchLocation=l,e[l]=c;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),SF=0,UT=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=SF++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=SF++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var r;if(rt.PREFER_ENV>=$i.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),TF=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Tn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Lee=new Un,GT=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Jv(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Un,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;rt.PREFER_ENV===$i.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,r){void 0===r&&(r=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=r),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var c=(l=e.width>>r)/e.width;this.setViewport(e.x*c,e.y*c,l,e.height>>r)}else{var l;this.setViewport(0,0,l=t.width>>r,t.height>>r)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,r,i){var o=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),i=Math.round(i),(o.width!==r||o.height!==i||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=r,o.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,r,i,o){void 0===o&&(o=Ou.COLOR|Ou.DEPTH);var s=this.gl;s.clearColor(t,e,r,i),s.clear(o)},n.prototype.initFramebuffer=function(t){var r=new TF(this.gl.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},n.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=i[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var u=o[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),(0!==l||!i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,e),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var M=t.depthTexture;this.renderer.texture.bind(M,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,M._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,r=Tn.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=Tn.NONE),r},n.prototype.blit=function(t,e,r){var i=this,o=i.current,a=i.gl;if(2===i.renderer.context.webGLVersion&&o){var u=o.glFramebuffers[i.CONTEXT_UID];if(u){if(!t){if(!u.msaaBuffer)return;var c=o.colorTextures[0];if(!c)return;u.blitFramebuffer||(u.blitFramebuffer=new Jv(o.width,o.height),u.blitFramebuffer.addColorTexture(0,c)),(t=u.blitFramebuffer).colorTextures[0]!==c&&(t.colorTextures[0]=c,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=Lee).width=o.width,e.height=o.height),r||(r=e);var y=e.width===r.width&&e.height===r.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,y?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var r=t.width,i=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,r,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,r,i),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Un},n.prototype.destroy=function(){this.renderer=null},n}(),VT={5126:4,5123:2,5121:1},jT=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;rt.PREFER_ENV===$i.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(o){return r.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return r.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,s){return i.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,u){return i.drawElementsInstancedANGLE(o,s,a,l,u)},t.drawArraysInstanced=function(o,s,a,l){return i.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var s=i[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++)e.update(t.buffers[r])},n.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var o in i)if(!r[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,o=["g",t.id];for(var s in r)i[s]&&o.push(s,i[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0);var i=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],c=u[l];if(c)return u[a.id]=c,c;var y=t.buffers,M=t.attributes,w={},A={};for(var D in y)w[D]=0,A[D]=0;for(var D in M)!M[D].size&&a.attributeData[D]?M[D].size=a.attributeData[D].size:M[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),w[M[D].buffer]+=M[D].size*VT[M[D].type];for(var D in M){var I=M[D],j=I.size;void 0===I.stride&&(I.stride=w[I.buffer]===j*VT[I.type]?0:w[I.buffer]),void 0===I.start&&(I.start=A[I.buffer],A[I.buffer]+=j*VT[I.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(var W=0;W<y.length;W++){var re=y[W];s.bind(re),r&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=c,u[a.id]=c,u[l]=c,c},n.prototype.disposeGeometry=function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),i){if(a)for(var l=0;l<s.length;l++){var u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0===u.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var c in i)if("g"===c[0]){var y=i[c];this._activeVao===y&&this.unbind(),o.deleteVertexArray(y)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)},n.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var u in a){var c=a[u],y=s[c.buffer],M=y._glBuffers[i];if(e.attributeData[u]){l!==M&&(o.bind(y),l=M);var w=e.attributeData[u].location;if(r.enableVertexAttribArray(w),r.vertexAttribPointer(w,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(w,1)}}}},n.prototype.draw=function(t,e,r,i){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(r||0)*a,i||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,r,e||s.getSize(),i||1):o.drawArrays(t,r,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),CF=function(){function n(t){void 0===t&&(t=null),this.type=rr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=rt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=rr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function OF(n,t,e){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function MF(n,t){var e=n.getShaderSource(t).split("\n").map(function(u,c){return c+": "+u}),r=n.getShaderInfoLog(t),i=r.split("\n"),o={},s=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return!(!u||o[u]||(o[u]=!0,0))}),a=[""];s.forEach(function(u){e[u-1]="%c"+e[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function HT(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function wF(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return HT(2*t);case"bvec3":return HT(3*t);case"bvec4":return HT(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ey,PF={},C_=PF;function AF(){if(C_===PF||C_&&C_.isContextLost()){var n=document.createElement("canvas"),t=void 0;rt.PREFER_ENV>=$i.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),C_=t}return C_}function RF(n,t,e){if("precision"!==n.substring(0,9)){var r=t;return t===wi.HIGH&&e!==wi.HIGH&&(r=wi.MEDIUM),"precision "+r+" float;\n"+n}return e!==wi.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Vee={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function DF(n){return Vee[n]}var ty=null,xF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function IF(n,t){if(!ty){var e=Object.keys(xF);ty={};for(var r=0;r<e.length;++r){var i=e[r];ty[n[i]]=xF[i]}}return ty[t]}var O_,Ic=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],jee={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Hee={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Wee=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function zee(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function NF(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var r=Wee.replace(/%forloop%/gi,zee(n));if(t.shaderSource(e,r),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var Kee=0,ny={},pf=function(){function n(t,e,r){void 0===r&&(r="pixi-shader"),this.id=Kee++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),ny[r]?(ny[r]++,r+="-"+ny[r]):ny[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=RF(this.vertexSrc,rt.PRECISION_VERTEX,wi.HIGH),this.fragmentSrc=RF(this.fragmentSrc,rt.PRECISION_FRAGMENT,function Gee(){if(!ey){ey=wi.MEDIUM;var n=AF();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);ey=t.precision?wi.HIGH:wi.MEDIUM}}return ey}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,r){var i=t+e,o=_T[i];return o||(_T[i]=o=new n(t,e,r)),o},n}(),Nl=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Pu?e:new Pu(e):new Pu({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,r){return new n(pf.from(t,e),r)},n}(),Au=function(){function n(){this.data=0,this.blendMode=xe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==xe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Fl=function(n){function t(e,r,i){var o=this,s=pf.from(e||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=n.call(this,s,i)||this).padding=0,o.resolution=rt.FILTER_RESOLUTION,o.multisample=rt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Au,o}return Pr(t,n),t.prototype.apply=function(e,r,i,o,s){e.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Nl),FF=new cr,ry=function(){function n(t,e){this._texture=t,this.mapCoord=new cr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];e[i]=o*r.a+s*r.c+r.tx,e[i+1]=o*r.b+s*r.d+r.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,o=e.trim;o&&(FF.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(FF));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,u=this.clampOffset;return a[0]=(e._frame.x+l+u)/s.width,a[1]=(e._frame.y+l+u)/s.height,a[2]=(e._frame.x+e._frame.width-l+u)/s.width,a[3]=(e._frame.y+e._frame.height-l+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),kF=function(n){function t(e,r,i){var o=this,s=null;return"string"!=typeof e&&void 0===r&&void 0===i&&(s=e,e=void 0,r=void 0,i=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=s,o.maskMatrix=new cr,o}return Pr(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,r,i,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new ry(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,i,o))},t}(Fl),KT=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new CF;i.pooled=!0,i.maskObject=e,r=i}if(r.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),r.autoDetect&&this.detect(r),r._target=t,r.type!==rr.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case rr.SCISSOR:this.renderer.scissor.push(r);break;case rr.STENCIL:this.renderer.stencil.push(r);break;case rr.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===rr.SPRITE&&this.maskStack.push(r)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case rr.SCISSOR:this.renderer.scissor.pop();break;case rr.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case rr.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===rr.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?rr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?rr.SCISSOR:rr.STENCIL},n.prototype.pushSpriteMask=function(t){var e,r,i=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new kF]);var u,c,a=this.renderer,l=a.renderTexture;if(l.current){var y=l.current;u=t.resolution||y.resolution,c=null!==(e=t.multisample)&&void 0!==e?e:y.multisample}else u=t.resolution||a.resolution,c=null!==(r=t.multisample)&&void 0!==r?r:a.multisample;s[0].resolution=u,s[0].multisample=c,s[0].maskSprite=i;var M=o.filterArea;o.filterArea=i.getBounds(!0),a.filter.push(o,s),o.filterArea=M,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),BF=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),LF=new cr,JT=function(n){function t(e){var r=n.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Pr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var r=e._scissorRect,i=e.maskObject,o=this.renderer,s=o.renderTexture;i.renderable=!0;var a=i.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),i.renderable=!1,r&&a.fit(r),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var r=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var r=e.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(e,r,i,o,s){t.isMatrixRotated(s)||((s=s?LF.copyFrom(s):LF.identity()).translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var r=this.renderer.gl;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(BF),QT=function(n){function t(e){var r=n.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Pr(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var r=e.maskObject,i=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?r.disable(r.STENCIL_TEST):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(BF),ZT=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new cr,this.transform=null}return n.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,r,i){var o=this.projectionMatrix,s=i?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Nc=new Un,M_=new Un,eC=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Un,this.destinationFrame=new Un,this.viewportFrame=new Un}return n.prototype.bind=function(t,e,r){void 0===t&&(t=null);var o,s,a,i=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(Nc.width=t.frame.width,Nc.height=t.frame.height,e=Nc),r||(M_.x=t.frame.x,M_.y=t.frame.y,M_.width=e.width,M_.height=e.height,r=M_),s=o.framebuffer):(a=i.resolution,e||(Nc.width=i.screen.width,Nc.height=i.screen.height,e=Nc),r||((r=Nc).width=e.width,r.height=e.height));var l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,t||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(r,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=r.width!==i.width||r.height!==i.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,u=s.width,c=s.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function tte(n,t,e,r,i){e.buffer.update(i)}var nte={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},UF={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function GF(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,r=0,i=0,o=0;o<t.length;o++){var s=t[o];if(e=UF[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,r%e!=0&&r<16){var a=r%e%16;r+=a,i+=a}r+e>16?(i=16*Math.ceil(i/16),s.offset=i,i+=e,r=e):(s.offset=i,r+=e,i+=e)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}function VF(n,t){var e=[];for(var r in n)t[r]&&e.push(t[r]);return e.sort(function(i,o){return i.index-o.index}),e}function jF(n,t){if(!n.autoManage)return{size:0,syncFunc:tte};for(var r=GF(VF(n.uniforms,t)),i=r.uboElements,o=r.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<i.length;a++){for(var l=i[a],u=n.uniforms[l.data.name],c=l.data.name,y=!1,M=0;M<Ic.length;M++){var w=Ic[M];if(w.codeUbo&&w.test(l.data,u)){s.push("offset = "+l.offset/4+";",Ic[M].codeUbo(l.data.name,u)),y=!0;break}}if(!y)if(l.data.size>1){var A=DF(l.data.type),D=Math.max(UF[l.data.type]/16,1),I=A/D;s.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+I+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-I%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+l.offset/4+";\n                "+nte[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var rte=function n(){},HF=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function YF(n,t){var e=OF(n,n.VERTEX_SHADER,t.vertexSrc),r=OF(n,n.FRAGMENT_SHADER,t.fragmentSrc),i=n.createProgram();if(n.attachShader(i,e),n.attachShader(i,r),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS)||function Uee(n,t,e,r){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||MF(n,e),n.getShaderParameter(r,n.COMPILE_STATUS)||MF(n,r),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,i,e,r),t.attributeData=function ite(n,t){for(var e={},r=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(n,i);if(0!==o.name.indexOf("gl_")){var s=IF(t,o.type),a={type:s,name:o.name,size:DF(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(i,n),t.uniformData=function ote(n,t){for(var e={},r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(n,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=IF(t,o.type);e[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:wF(l,o.size)}}return e}(i,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(c,y){return c>y?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(i,s,o[s]);n.linkProgram(i)}n.deleteShader(e),n.deleteShader(r);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(i,s),value:wF(l.type,l.size)}}return new HF(i,a)}var ste=0,iy={textureCount:0,uboCount:0},tC=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ste++}return n.prototype.systemCheck=function(){if(!function $ee(){if("boolean"==typeof O_)return O_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");O_=!0===n({a:"b"},"a","b")}catch(t){O_=!1}return O_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(iy.textureCount=0,iy.uboCount=0,this.syncUniformGroup(t.uniformGroup,iy)),i},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},n.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function Yee(n,t){var e,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in n.uniforms){var o=t[i];if(o){for(var s=n.uniforms[i],a=!1,l=0;l<Ic.length;l++)if(Ic[l].test(o,s)){r.push(Ic[l].code(i,s)),a=!0;break}if(!a){var c=(1===o.size?jee:Hee)[o.type].replace("location",'ud["'+i+'"].location');r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+c+";")}}else(null===(e=n.uniforms[i])||void 0===e?void 0:e.group)&&r.push(n.uniforms[i].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;var i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,iy,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,r){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=jF(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,r){var i=t.uniforms,o=[r+"-"];for(var s in i)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var r=t.program,i=YF(this.gl,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),nC=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=xe.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Au,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function ate(n,t){return void 0===t&&(t=[]),t[xe.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.ADD]=[n.ONE,n.ONE],t[xe.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.NONE]=[0,0],t[xe.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[xe.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[xe.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[xe.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[xe.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[xe.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[xe.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[xe.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[xe.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[xe.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):!e&&-1!==r&&this.checks.splice(r,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),rC=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=rt.GC_MAX_IDLE,this.checkCountMax=rt.GC_MAX_CHECK_COUNT,this.mode=rt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==uf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var o=e[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[i]=null,r=!0)}if(r){var s=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[s++]=e[i]);e.length=s}},n.prototype.unload=function(t){var r=t._texture;r&&!r.framebuffer&&this.renderer.texture.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},n.prototype.destroy=function(){this.renderer=null},n}(),oy=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_t.UNSIGNED_BYTE,this.internalFormat=Be.RGBA,this.samplerType=0},iC=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Xn,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function pte(n){var t,e,r,i,o,s,a,l,u,c,y,M,w,A,D,I,j,W,re,ae,Z,ee,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[_t.UNSIGNED_BYTE]=((e={})[Be.RGBA]=n.RGBA8,e[Be.RGB]=n.RGB8,e[Be.RG]=n.RG8,e[Be.RED]=n.R8,e[Be.RGBA_INTEGER]=n.RGBA8UI,e[Be.RGB_INTEGER]=n.RGB8UI,e[Be.RG_INTEGER]=n.RG8UI,e[Be.RED_INTEGER]=n.R8UI,e[Be.ALPHA]=n.ALPHA,e[Be.LUMINANCE]=n.LUMINANCE,e[Be.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[_t.BYTE]=((r={})[Be.RGBA]=n.RGBA8_SNORM,r[Be.RGB]=n.RGB8_SNORM,r[Be.RG]=n.RG8_SNORM,r[Be.RED]=n.R8_SNORM,r[Be.RGBA_INTEGER]=n.RGBA8I,r[Be.RGB_INTEGER]=n.RGB8I,r[Be.RG_INTEGER]=n.RG8I,r[Be.RED_INTEGER]=n.R8I,r),t[_t.UNSIGNED_SHORT]=((i={})[Be.RGBA_INTEGER]=n.RGBA16UI,i[Be.RGB_INTEGER]=n.RGB16UI,i[Be.RG_INTEGER]=n.RG16UI,i[Be.RED_INTEGER]=n.R16UI,i[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,i),t[_t.SHORT]=((o={})[Be.RGBA_INTEGER]=n.RGBA16I,o[Be.RGB_INTEGER]=n.RGB16I,o[Be.RG_INTEGER]=n.RG16I,o[Be.RED_INTEGER]=n.R16I,o),t[_t.UNSIGNED_INT]=((s={})[Be.RGBA_INTEGER]=n.RGBA32UI,s[Be.RGB_INTEGER]=n.RGB32UI,s[Be.RG_INTEGER]=n.RG32UI,s[Be.RED_INTEGER]=n.R32UI,s[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[_t.INT]=((a={})[Be.RGBA_INTEGER]=n.RGBA32I,a[Be.RGB_INTEGER]=n.RGB32I,a[Be.RG_INTEGER]=n.RG32I,a[Be.RED_INTEGER]=n.R32I,a),t[_t.FLOAT]=((l={})[Be.RGBA]=n.RGBA32F,l[Be.RGB]=n.RGB32F,l[Be.RG]=n.RG32F,l[Be.RED]=n.R32F,l[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[_t.HALF_FLOAT]=((u={})[Be.RGBA]=n.RGBA16F,u[Be.RGB]=n.RGB16F,u[Be.RG]=n.RG16F,u[Be.RED]=n.R16F,u),t[_t.UNSIGNED_SHORT_5_6_5]=((c={})[Be.RGB]=n.RGB565,c),t[_t.UNSIGNED_SHORT_4_4_4_4]=((y={})[Be.RGBA]=n.RGBA4,y),t[_t.UNSIGNED_SHORT_5_5_5_1]=((M={})[Be.RGBA]=n.RGB5_A1,M),t[_t.UNSIGNED_INT_2_10_10_10_REV]=((w={})[Be.RGBA]=n.RGB10_A2,w[Be.RGBA_INTEGER]=n.RGB10_A2UI,w),t[_t.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[Be.RGB]=n.R11F_G11F_B10F,A),t[_t.UNSIGNED_INT_5_9_9_9_REV]=((D={})[Be.RGB]=n.RGB9_E5,D),t[_t.UNSIGNED_INT_24_8]=((I={})[Be.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,I),t[_t.FLOAT_32_UNSIGNED_INT_24_8_REV]=((j={})[Be.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,j),Ee=t):((W={})[_t.UNSIGNED_BYTE]=((re={})[Be.RGBA]=n.RGBA,re[Be.RGB]=n.RGB,re[Be.ALPHA]=n.ALPHA,re[Be.LUMINANCE]=n.LUMINANCE,re[Be.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),W[_t.UNSIGNED_SHORT_5_6_5]=((ae={})[Be.RGB]=n.RGB,ae),W[_t.UNSIGNED_SHORT_4_4_4_4]=((Z={})[Be.RGBA]=n.RGBA,Z),W[_t.UNSIGNED_SHORT_5_5_5_1]=((ee={})[Be.RGBA]=n.RGBA,ee),Ee=W),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new oy(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new oy(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var r=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(r.activeTexture(r.TEXTURE0+o),this.currentLocation=o),r.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,r=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=r[s];a&&a._glTextures[o].samplerType!==Mu.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new oy(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var r,i;e.internalFormat=null!==(i=null===(r=this.internalFormats[t.type])||void 0===r?void 0:r[t.format])&&void 0!==i?i:t.format,e.type=2===this.webGLVersion&&t.type===_t.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e))e.samplerType!==Mu.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,s=r.gl;(e.width!==i||e.height!==o||e.dirtyId<0)&&(e.width=i,e.height=o,s.texImage2D(t.target,0,e.internalFormat,i,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&Oc(this.managedTextures,i,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==Fo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Us.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==Fo.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Mi.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR:r.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),WF={__proto__:null,FilterSystem:BT,BatchSystem:LT,ContextSystem:UT,FramebufferSystem:GT,GeometrySystem:jT,MaskSystem:KT,ScissorSystem:JT,StencilSystem:QT,ProjectionSystem:ZT,RenderTextureSystem:eC,ShaderSystem:tC,StateSystem:nC,TextureGCSystem:rC,TextureSystem:iC},oC=new cr,sC=function(n){function t(e,r){void 0===e&&(e=Ca.UNKNOWN);var i=n.call(this)||this;return r=Object.assign({},rt.RENDER_OPTIONS,r),i.options=r,i.type=e,i.screen=new Un(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||rt.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(Ka("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return Pr(t,n),t.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,r){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(e,r,i,o){void 0===r&&(r={}),"number"==typeof r&&(Ka("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:o});var s=r.region,a=function Pee(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&(e[r[i]]=n[r[i]])}return e}(r,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=Vs.create(wT({width:o.width,height:o.height},a));return oC.tx=-o.x,oC.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:oC,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Ca.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Lv(e),Il(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(lf()),_te=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},gte=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var r=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);r.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var i=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,r){var o=this.gl;r=r||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*r,256)},n.prototype.update=function(t){var r=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,r.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)},n.prototype.createGLBuffer=function(t){var r=this.CONTEXT_UID;return t._glBuffers[r]=new _te(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},n}(),Ma=function(n){function t(e){var r=n.call(this,Ca.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new io("destroy"),contextChange:new io("contextChange"),reset:new io("reset"),update:new io("update"),postrender:new io("postrender"),prerender:new io("prerender"),resize:new io("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Pu({projectionMatrix:new cr},!0),r.addSystem(KT,"mask").addSystem(UT,"context").addSystem(nC,"state").addSystem(tC,"shader").addSystem(iC,"texture").addSystem(gte,"buffer").addSystem(jT,"geometry").addSystem(GT,"framebuffer").addSystem(JT,"scissor").addSystem(QT,"stencil").addSystem(ZT,"projection").addSystem(rC,"textureGC").addSystem(BT,"filter").addSystem(eC,"renderTexture").addSystem(LT,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:e.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,aT(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return Pr(t,n),t.create=function(e){if(J2())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r,e=this.gl;if(1===this.context.webGLVersion){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i);this.multisample=r>=Tn.HIGH?Tn.HIGH:r>=Tn.MEDIUM?Tn.MEDIUM:r>=Tn.LOW?Tn.LOW:Tn.NONE},t.prototype.addSystem=function(e,r){var i=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var o in this[r]=i,this.runners)this.runners[o].add(i);return this},t.prototype.render=function(e,r){var i,o,s,a;if(r&&(r instanceof Vs?(Ka("6.0.0","Renderer#render arguments changed, use options instead."),i=r,o=arguments[2],s=arguments[3],a=arguments[4]):(i=r.renderTexture,o=r.clear,s=r.transform,a=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(i||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,r,i,o){void 0===r&&(r={});var s=n.prototype.generateTexture.call(this,e,r,i,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,r){n.prototype.resize.call(this,e,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Ka("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,r){(t.__plugins=t.__plugins||{})[e]=r},t}(sC);function zF(n){return Ma.create(n)}var $F="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",aC="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",yte=function(){function n(t){Ka("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),sy=function n(){this.texArray=null,this.blend=0,this.type=ro.TRIANGLES,this.start=0,this.size=0,this.data=null},ay=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),ly=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),XF=function(n){function t(e){var r=n.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Au.for2d(),r.size=4*rt.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Pr(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;rt.PREFER_ENV===$i.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),rt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=NF(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new sy);for(;r.length<o;)r.push(new ay);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,i=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++Xn._globalBatch,c=0,y=o[0],M=0;s.copyBoundTextures(a,i);for(var w=0;w<this._bufferSize;++w){var A=r[w];r[w]=null,A._batchEnabled!==u&&(y.count>=i&&(s.boundArray(y,a,u,i),this.buildDrawCalls(y,M,w),M=w,y=o[++c],++u),A._batchEnabled=u,A.touched=l,y.elements[y.count++]=A)}for(y.count>0&&(s.boundArray(y,a,u,i),this.buildDrawCalls(y,M,this._bufferSize),++c,++u),w=0;w<a.length;w++)a[w]=null;Xn._globalBatch=u},t.prototype.buildDrawCalls=function(e,r,i){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,u=o.vertexSize,c=t._drawCallPool,y=this._dcIndex,M=this._aIndex,w=this._iIndex,A=c[y];A.start=this._iIndex,A.texArray=e;for(var D=r;D<i;++D){var I=s[D],W=cT[I._texture.baseTexture.alphaMode?1:0][I.blendMode];s[D]=null,r<D&&A.blend!==W&&(A.size=w-A.start,r=D,(A=c[++y]).texArray=e,A.start=w),this.packInterleavedGeometry(I,a,l,M,w),M+=I.vertexData.length/2*u,w+=I.indices.length,A.blend=W}r<i&&(A.size=w-A.start,++y),this._dcIndex=y,this._aIndex=M,this._iIndex=w},t.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,i=e._attributeBuffer,o=e._indexBuffer;rt.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,i=r.gl,o=r.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var u=s[l],c=u.texArray,y=u.type,M=u.size,w=u.start,A=u.blend;a!==c&&(a=c,this.bindAndClearTexArray(c)),this.state.blendMode=A,o.set(this.state),i.drawElements(y,M,i.UNSIGNED_SHORT,2*w)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),rt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var r=g_(Math.ceil(e/8)),i=pT(r),o=8*r;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new ly(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var r=g_(Math.ceil(e/12)),i=pT(r),o=12*r;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,r,i,o,s){for(var a=r.uint32View,l=r.float32View,u=o/this.vertexSize,c=e.uvs,y=e.indices,M=e.vertexData,w=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?Uv(e._tintRGB,A):e._tintRGB+(255*A<<24),I=0;I<M.length;I+=2)l[o++]=M[I],l[o++]=M[I+1],l[o++]=c[I],l[o++]=c[I+1],a[o++]=D,l[o++]=w;for(I=0;I<y.length;I++)i[s++]=u+y[I]},t._drawCallPool=[],t._textureArrayPool=[],t}(T_),qF=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Pu.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new pf(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new cr,default:this.defaultGroupCache[t]};return new Nl(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),lC=function(n){function t(e){void 0===e&&(e=!1);var r=n.call(this)||this;return r._buffer=new Ai(null,e,!1),r._indexBuffer=new Ai(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,_t.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,_t.FLOAT).addAttribute("aColor",r._buffer,4,!0,_t.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,_t.FLOAT).addIndex(r._indexBuffer),r}return Pr(t,n),t}(ff),KF="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",JF="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",QF=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:KF,fragment:JF,geometryClass:lC,vertexSize:6},t),r=e.vertex,i=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(u){var c=a.call(this,u)||this;return c.shaderGenerator=new qF(r,i),c.geometryClass=s,c.vertexSize=o,c}return Pr(l,a),l}(XF)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return KF},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return JF},enumerable:!1,configurable:!0}),n}(),ZF=QF.create(),ek={},bte=function(n){Object.defineProperty(ek,n,{get:function(){return Ka("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),gF[n]}})};for(var uC in gF)bte(uC);var tk={},Ete=function(n){Object.defineProperty(tk,n,{get:function(){return Ka("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),WF[n]}})};for(var uC in WF)Ete(uC);var w_=function(){function n(t){var e=this;this.stage=new Ur,t=Object.assign({forceCanvas:!1},t),this.renderer=zF(t),n._plugins.forEach(function(r){r.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var r=this,i=n._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(r)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),Ste=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(r){self.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var r,i;if(e.cancelResize(),e._resizeTo===self)r=self.innerWidth,i=self.innerHeight;else{var o=e._resizeTo;r=o.clientWidth,i=o.clientHeight}e.renderer.resize(r,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();w_.registerPlugin(Ste);var nk=new Un,ik=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},n.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},n.prototype.canvas=function(t){var r,i,s,e=this.renderer,o=!1,a=!1;t&&(t instanceof Vs?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(r=s.baseTexture.resolution,i=s.frame,o=!1,e.renderTexture.bind(s)):(r=this.renderer.resolution,o=!0,(i=nk).width=this.renderer.width,i.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(i.width*r+1e-4),u=Math.floor(i.height*r+1e-4),c=new cf(l,u,1),y=new Uint8Array(4*l*u),M=e.gl;M.readPixels(i.x*r,i.y*r,l,u,M.RGBA,M.UNSIGNED_BYTE,y);var w=c.context.getImageData(0,0,l,u);if(n.arrayPostDivide(y,w.data),c.context.putImageData(w,0,0),o){var A=new cf(c.width,c.height,1);A.context.scale(1,-1),A.context.drawImage(c.canvas,0,-u),c.destroy(),c=A}return a&&s.destroy(!0),c.canvas},n.prototype.pixels=function(t){var r,i,o,e=this.renderer,s=!1;t&&(t instanceof Vs?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(r=o.baseTexture.resolution,i=o.frame,e.renderTexture.bind(o)):(r=e.resolution,(i=nk).width=e.width,i.height=e.height,e.renderTexture.bind(null));var a=i.width*r,l=i.height*r,u=new Uint8Array(4*a*l),c=e.gl;return c.readPixels(i.x*r,i.y*r,a,l,c.RGBA,c.UNSIGNED_BYTE,u),s&&o.destroy(!0),n.arrayPostDivide(u,u),u},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var r=0;r<t.length;r+=4){var i=e[r+3]=t[r+3];0!==i?(e[r]=Math.round(Math.min(255*t[r]/i,255)),e[r+1]=Math.round(Math.min(255*t[r+1]/i,255)),e[r+2]=Math.round(Math.min(255*t[r+2]/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}},n}(),uy=function(){function n(t,e,r){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function ok(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var kl=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},n.prototype.has=function(t){if(!(t instanceof uy))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return ok(this,new uy(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return ok(this,new uy(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof uy))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function sk(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),i={},o=14;o--;)i[e.key[o]]=r[o]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(s,a,l){a&&(i[e.q.name][a]=l)}),i}var Tte=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),cy=null;function lk(){}function uk(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function cC(n){return n.toString().replace("object ","")}var n,o,$r=function(){function n(t,e,r){if(this._dequeue=lk,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=lk,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new kl,this.onProgress=new kl,this.onComplete=new kl,this.onAfterMiddleware=new kl}return n.setExtensionLoadType=function(t,e){uk(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){uk(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:Tte&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(cC(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(cC(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(cC(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",r=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===r&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,cy||(cy=document.createElement("a")),cy.href=t;var r=sk(cy.href,{strictMode:!0});return r.host!==e.hostname||(r.port||""!==e.port)&&r.port!==e.port||(r.protocol?r.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(i>-1?i:t.length,o>-1?o:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function Fc(){}function Pte(n){return function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(null===n)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,r)}}(o=(n=$r||($r={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[o.NONE=0]="NONE",o[o.DATA_URL=1]="DATA_URL",o[o.COMPLETE=2]="COMPLETE",o[o.LOADING=4]="LOADING",function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.JSON=1]="JSON",o[o.XML=2]="XML",o[o.IMAGE=3]="IMAGE",o[o.AUDIO=4]="AUDIO",o[o.VIDEO=5]="VIDEO",o[o.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(o){o[o.XHR=1]="XHR",o[o.IMAGE=2]="IMAGE",o[o.AUDIO=3]="AUDIO",o[o.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(o){o.DEFAULT="text",o.BUFFER="arraybuffer",o.BLOB="blob",o.DOCUMENT="document",o.JSON="json",o.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Ate=function n(t,e){this.data=t,this.callback=e},hC=function(){function n(t,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Fc,this.unsaturated=Fc,this.empty=Fc,this.drain=Fc,this.error=Fc,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,s){if(s&&"function"!=typeof s)throw new Error("task callback must be a function");if(r.started=!0,null==i&&r.idle())setTimeout(function(){return r.drain()},1);else{var a=new Ate(i,"function"==typeof s?s:Fc);o?r._tasks.unshift(a):r._tasks.push(a),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var i=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(i.data,Pte(r._next(i)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var r=arguments,i=[],o=0;o<arguments.length;o++)i[o]=r[o];e.workers-=1,t.callback.apply(t,i),null!=i[0]&&e.error(i[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=Fc,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,r,i){var o=0,s=t.length;!function a(l){l||o===s?r&&r(l):i?setTimeout(function(){e(t[o++],a)},1):e(t[o++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),Rte=/(#[\w-]+)?$/,yo=function(){function n(t,e){var r=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return r._loadResource(l,u)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return r._loadResource(l,u)},this._queue=hC.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new kl,this.onError=new kl,this.onLoad=new kl,this.onStart=new kl,this.onComplete=new kl;for(var i=0;i<n._plugins.length;++i){var o=n._plugins[i],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new $r(t,e,r),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=r.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);for(o.children.push(this.resources[t]),o.progressChunk=u,a=0;a<s.length;++a)s[a].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var r,e=sk(t,{strictMode:!0});if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=Rte.exec(r)[0];-1!==(r=r.substr(0,r.length-i.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},n.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,hC.eachSeries(this._beforeMiddleware,function(i,o){i.call(r,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),hC.eachSeries(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();yo.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==typeof t&&(r=t,i=e||r.callback||r.onComplete,e=r.url,t=r.name||r.key||r.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(i=r,r=null),this._add(t,e,r,i)};var ck=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?yo.shared:new yo},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),hk=function(){function n(){}return n.add=function(){$r.setExtensionLoadType("svg",$r.LOAD_TYPE.XHR),$r.setExtensionXhrType("svg",$r.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==$r.TYPE.IMAGE&&"svg"!==t.extension?e():Bt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),dk=self.URL||self.webkitURL;yo.registerPlugin({use:function Ite(n,t){if(n.data){if(n.xhr&&n.xhrType===$r.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var r=dk.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=r,n.type=$r.TYPE.IMAGE,void(n.data.onload=function(){dk.revokeObjectURL(r),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function xte(n){for(var t="",e=0;e<n.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)r[o]=e<n.length?255&n.charCodeAt(e++):0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],e-(n.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return t}(n.xhr.responseText),n.type=$r.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),yo.registerPlugin(hk);var fr,fn=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(fn||(fn={})),fn))(),P_=((fr={})[fn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,fr[fn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,fr[fn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,fr[fn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,fr[fn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,fr[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,fr[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,fr[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,fr[fn.COMPRESSED_R11_EAC]=.5,fr[fn.COMPRESSED_SIGNED_R11_EAC]=.5,fr[fn.COMPRESSED_RG11_EAC]=1,fr[fn.COMPRESSED_SIGNED_RG11_EAC]=1,fr[fn.COMPRESSED_RGB8_ETC2]=.5,fr[fn.COMPRESSED_RGBA8_ETC2_EAC]=1,fr[fn.COMPRESSED_SRGB8_ETC2]=.5,fr[fn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,fr[fn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,fr[fn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,fr[fn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,fr[fn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,fr[fn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,fr[fn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,fr[fn.COMPRESSED_RGB_ETC1_WEBGL]=.5,fr[fn.COMPRESSED_RGB_ATC_WEBGL]=.5,fr[fn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,fr[fn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,fr),fC=function(n,t){return(fC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function fk(n,t){function e(){this.constructor=n}fC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var A_,wa,pk=function(n){function t(e,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var o,s,i=this;return"string"==typeof e?(o=e,s=new Uint8Array):(o=null,s=e),(i=n.call(this,s,r)||this).origin=o,i.buffer=s?new ly(s):null,i.origin&&!1!==r.autoLoad&&i.load(),s&&s.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return fk(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function Nte(n,t,e,r){return new(e||(e=Promise))(function(i,o){function s(u){try{l(r.next(u))}catch(c){o(c)}}function a(u){try{l(r.throw(u))}catch(c){o(c)}}function l(u){u.done?i(u.value):new e(function(c){c(u.value)}).then(s,a)}l((r=r.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var i;return function Fte(n,t){var r,i,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=2&u[0]?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,i=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],i=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return[4,o.sent().blob()];case 2:return[4,o.sent().arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new ly(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(df),hy=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=t._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return fk(t,n),t.prototype.upload=function(e,r,i){var o=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var u=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,u.levelID,this.format,u.levelWidth,u.levelHeight,0,u.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,r,i,o,s,a,l){for(var u=new Array(i),c=e.byteOffset,y=a,M=l,w=y+o-1&~(o-1),A=M+s-1&~(s-1),D=w*A*P_[r],I=0;I<i;I++)u[I]={levelID:I,levelWidth:i>1?y:w,levelHeight:i>1?M:A,levelBuffer:new Uint8Array(e.buffer,c,D)},c+=D,D=(w=(y=y>>1||1)+o-1&~(o-1))*(A=(M=M>>1||1)+s-1&~(s-1))*P_[r];return u},t}(pk),_k=function(){function n(){}return n.use=function(t,e){var r=t.data;if(t.type===$r.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var o=r.textures,s=void 0,a=void 0,l=0,u=o.length;l<u;l++){var c=o[l],y=c.src,M=c.format;if(M||(a=y),n.textureFormats[M]){s=y;break}}if(!(s=s||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var w={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},A=Cc.resolve(t.url.replace(this.baseUrl,""),s);this.add(r.cacheID,A,w,function(I){if(I.error)e(I.error);else{var j=I.texture,re=I.textures;Object.assign(t,{texture:void 0===j?null:j,textures:void 0===re?{}:re}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var r={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var i in n.textureExtensions=r,n.textureFormats={},r){var o=r[i];!o||Object.assign(n.textureFormats,Object.getPrototypeOf(o))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function gk(n,t,e){var r={textures:{},texture:null};if(!t)return r;var i=t.map(function(o){return new Bt(new Xn(o,Object.assign({mipmap:Fo.OFF,alphaMode:Xi.NO_PREMULTIPLIED_ALPHA},e)))});return i.forEach(function(o,s){var a=o.baseTexture,l=n+"-"+(s+1);Xn.addToCache(a,l),Bt.addToCache(o,l),0===s&&(Xn.addToCache(a,n),Bt.addToCache(o,n),r.texture=o),r.textures[l]=o}),r}$r.setExtensionXhrType("dds",$r.XHR_RESPONSE_TYPE.BUFFER);var _f,kc,R_,js=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(js||(js={})),js))(),_y=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(_y||(_y={})),_y))(),Kte=((A_={})[827611204]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,A_[861165636]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,A_[894720068]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,A_),Jte=((wa={})[js.DXGI_FORMAT_BC1_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,wa[js.DXGI_FORMAT_BC1_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,wa[js.DXGI_FORMAT_BC2_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,wa[js.DXGI_FORMAT_BC2_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,wa[js.DXGI_FORMAT_BC3_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,wa[js.DXGI_FORMAT_BC3_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,wa[js.DXGI_FORMAT_BC1_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,wa[js.DXGI_FORMAT_BC2_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,wa[js.DXGI_FORMAT_BC3_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,wa),vk=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,gk(t.name||t.url,n.parse(t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),o=i[3],s=i[4],a=i[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),u=l[1];if(4&u){var c=l[2];if(808540228!==c){var y=Kte[c],w=new Uint8Array(t,128);return[new hy(w,{format:y,width:s,height:o,levels:a})]}var I=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),j=I[0],W=I[1],re=I[2],ae=I[3],Z=Jte[j];if(void 0===Z)throw new Error("DDSLoader cannot parse texture data with DXGI format "+j);if(4===re)throw new Error("DDSLoader does not support cubemap textures");if(W===_y.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var ee=new Array;if(1===ae)ee.push(new Uint8Array(t,148));else{for(var Pe=P_[Z],ge=0,Fe=s,Ze=o,et=0;et<a;et++)ge+=Math.max(1,Fe+3&-4)*Math.max(1,Ze+3&-4)*Pe,Fe>>>=1,Ze>>>=1;var we=148;for(et=0;et<ae;et++)ee.push(new Uint8Array(t,we,ge)),we+=ge}return ee.map(function(ze){return new hy(ze,{format:Z,width:s,height:o,levels:a})})}throw 64&u?new Error("DDSLoader does not support uncompressed texture data."):512&u?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&u?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&u?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();$r.setExtensionXhrType("ktx",$r.XHR_RESPONSE_TYPE.BUFFER);var yk=[171,75,84,88,32,49,49,187,13,10,26,10],_C=((_f={})[_t.UNSIGNED_BYTE]=1,_f[_t.UNSIGNED_SHORT]=2,_f[_t.FLOAT]=4,_f[_t.HALF_FLOAT]=8,_f),bk=((kc={})[Be.RGBA]=4,kc[Be.RGB]=3,kc[Be.LUMINANCE]=1,kc[Be.LUMINANCE_ALPHA]=2,kc[Be.ALPHA]=1,kc),Ek=((R_={})[_t.UNSIGNED_SHORT_4_4_4_4]=2,R_[_t.UNSIGNED_SHORT_5_5_5_1]=2,R_[_t.UNSIGNED_SHORT_5_6_5]=2,R_),Sk=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url;Object.assign(t,gk(r,n.parse(r,t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t,e){var r=new DataView(e);if(!n.validate(t,r))return null;var i=67305985===r.getUint32(12,!0),o=r.getUint32(16,i),s=r.getUint32(24,i),a=r.getUint32(28,i),l=r.getUint32(36,i),u=r.getUint32(40,i)||1,c=r.getUint32(44,i)||1,y=r.getUint32(48,i)||1,M=r.getUint32(52,i),w=r.getUint32(56,i),A=r.getUint32(60,i);if(0===u||1!==c)throw new Error("Only 2D textures are supported");if(1!==M)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==y)throw new Error("WebGL does not support array textures");var Z,j=l+3&-4,W=u+3&-4,re=new Array(y),ae=l*u;if(0===o&&(ae=j*W),void 0===(Z=0!==o?_C[o]?_C[o]*bk[s]:Ek[o]:P_[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Ee=ae*Z,Pe=l,ge=u,Fe=j,Ze=W,et=64+A,Ke=0;Ke<w;Ke++){for(var wt=r.getUint32(et,i),Ye=et+4,we=0;we<y;we++){var ze=re[we];ze||(ze=re[we]=new Array(w)),ze[Ke]={levelID:Ke,levelWidth:w>1?Pe:Fe,levelHeight:w>1?ge:Ze,levelBuffer:new Uint8Array(e,Ye,Ee)},Ye+=Ee}et=(et+=wt+4)%4!=0?et+4-et%4:et,Ee=(Fe=(Pe=Pe>>1||1)+4-1&-4)*(Ze=(ge=ge>>1||1)+4-1&-4)*Z}if(0!==o)throw new Error("TODO: Uncompressed");return re.map(function(st){return new hy(null,{format:a,width:l,height:u,levels:w,levelBuffers:st})})},n.validate=function(t,e){for(var r=0;r<yk.length;r++)if(e.getUint8(r)!==yk[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),gC=function(n,t){return(gC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Tk(n,t){function e(){this.constructor=n}gC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Ck=function(n){function t(e,r,i,o){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===o&&(o=!1);var s=n.call(this)||this;return i>16384&&(i=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=i,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=xe.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return Tk(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Il(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return r.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var r=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(Ur),Ok=function(){function n(t,e,r){this.geometry=new ff,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||_t.FLOAT,offset:o.offset},e[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ai(Z2(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(i=this.dynamicProperties[r]).offset=e,e+=i.size,this.dynamicStride+=i.size;var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Ai(this.dynamicData,!1,!1);var s=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(i=this.staticProperties[r]).offset=s,s+=i.size,this.staticStride+=i.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Ai(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r)t.addAttribute((i=this.dynamicProperties[r]).attributeName,this.dynamicBuffer,0,i.type===_t.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset);for(r=0;r<this.staticProperties.length;++r){var i;t.addAttribute((i=this.staticProperties[r]).attributeName,this.staticBuffer,0,i.type===_t.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)}},n.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,e,r,o.type===_t.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,e,r,o.type===_t.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),Mk=function(n){function t(e){var r=n.call(this,e)||this;return r.shader=null,r.properties=null,r.tempMatrix=new cr,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:_t.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Nl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),r.state=Au.for2d(),r}return Tk(t,n),t.prototype.render=function(e){var r=e.children,i=e._maxSize,o=e._batchSize,s=this.renderer,a=r.length;if(0!==a){a>i&&!e.autoResize&&(a=i);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var u=r[0]._texture.baseTexture;this.state.blendMode=hT(e.blendMode,u.alphaMode),s.state.set(this.state);var c=s.gl,y=e.worldTransform.copyTo(this.tempMatrix);y.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=y.toArray(!0),this.shader.uniforms.uColor=Q2(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var M=!1,w=0,A=0;w<a;w+=o,A+=1){var D=a-w;D>o&&(D=o),A>=l.length&&l.push(this._generateOneMoreBuffer(e));var I=l[A];I.uploadDynamic(r,w,D),(M=M||I._updateID<(e._bufferUpdateIDs[A]||0))&&(I._updateID=e._updateID,I.uploadStatic(r,w,D)),s.geometry.bind(I.geometry),c.drawElements(c.TRIANGLES,6*D,c.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var r=[],i=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<i;a+=o)r.push(new Ok(this.properties,s,o));return r},t.prototype._generateOneMoreBuffer=function(e){return new Ok(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,r,i,o,s,a){for(var l=0,u=0,c=0,y=0,M=0;M<i;++M){var w=e[r+M],A=w._texture,D=w.scale.x,I=w.scale.y,j=A.trim,W=A.orig;j?(l=(u=j.x-w.anchor.x*W.width)+j.width,c=(y=j.y-w.anchor.y*W.height)+j.height):(l=W.width*(1-w.anchor.x),u=W.width*-w.anchor.x,c=W.height*(1-w.anchor.y),y=W.height*-w.anchor.y),o[a]=u*D,o[a+1]=y*I,o[a+s]=l*D,o[a+s+1]=y*I,o[a+2*s]=l*D,o[a+2*s+1]=c*I,o[a+3*s]=u*D,o[a+3*s+1]=c*I,a+=4*s}},t.prototype.uploadPosition=function(e,r,i,o,s,a){for(var l=0;l<i;l++){var u=e[r+l].position;o[a]=u.x,o[a+1]=u.y,o[a+s]=u.x,o[a+s+1]=u.y,o[a+2*s]=u.x,o[a+2*s+1]=u.y,o[a+3*s]=u.x,o[a+3*s+1]=u.y,a+=4*s}},t.prototype.uploadRotation=function(e,r,i,o,s,a){for(var l=0;l<i;l++){var u=e[r+l].rotation;o[a]=u,o[a+s]=u,o[a+2*s]=u,o[a+3*s]=u,a+=4*s}},t.prototype.uploadUvs=function(e,r,i,o,s,a){for(var l=0;l<i;++l){var u=e[r+l]._texture._uvs;u?(o[a]=u.x0,o[a+1]=u.y0,o[a+s]=u.x1,o[a+s+1]=u.y1,o[a+2*s]=u.x2,o[a+2*s+1]=u.y2,o[a+3*s]=u.x3,o[a+3*s+1]=u.y3,a+=4*s):(o[a]=0,o[a+1]=0,o[a+s]=0,o[a+s+1]=0,o[a+2*s]=0,o[a+2*s+1]=0,o[a+3*s]=0,o[a+3*s+1]=0,a+=4*s)}},t.prototype.uploadTint=function(e,r,i,o,s,a){for(var l=0;l<i;++l){var u=e[r+l],y=u.alpha,M=y<1&&u._texture.baseTexture.alphaMode>0?Uv(u._tintRGB,y):u._tintRGB+(255*y<<24);o[a]=M,o[a+s]=M,o[a+2*s]=M,o[a+3*s]=M,a+=4*s}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(T_),Qa=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(Qa||(Qa={})),Qa))(),Za=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(Za||(Za={})),Za))(),gf={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},mC=function(){function n(){this.color=16777215,this.alpha=1,this.texture=Bt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Bt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),vC=function(n,t){return(vC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function yC(n,t){function e(){this.constructor=n}vC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var bC={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,r=n.holes,i=t.points,o=t.indices;if(e.length>=6){for(var s=[],a=0;a<r.length;a++){var l=r[a];s.push(e.length/2),e=e.concat(l.points)}var u=iT()(e,s,2);if(!u)return;var c=i.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+c),o.push(u[a+1]+c),o.push(u[a+2]+c);for(a=0;a<e.length;a++)i.push(e[a])}}},EC={build:function(n){var o,s,t=n.shape,e=n.points,r=t.x,i=t.y;if(e.length=0,n.type===Qn.CIRC)o=t.radius,s=t.radius;else{var a=n.shape;o=a.width,s=a.height}if(0!==o&&0!==s){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+s));l/=2.3;for(var u=2*Math.PI/l,c=0;c<l-.5;c++)e.push(r+Math.sin(-u*c)*o,i+Math.cos(-u*c)*s);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,r=t.points,i=t.indices,o=r.length/2,s=o,a=n.shape,l=n.matrix,u=a.x,c=a.y;r.push(n.matrix?l.a*u+l.c*c+l.tx:u,n.matrix?l.b*u+l.d*c+l.ty:c);for(var y=0;y<e.length;y+=2)r.push(e[y],e[y+1]),i.push(o++,s,o)}},wk={build:function(n){var t=n.shape,e=t.x,r=t.y,i=t.width,o=t.height,s=n.points;s.length=0,s.push(e,r,e+i,r,e+i,r+o,e,r+o)},triangulate:function(n,t){var e=n.points,r=t.points,i=r.length/2;r.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function mf(n,t,e){return n+(t-n)*e}function gy(n,t,e,r,i,o,s){void 0===s&&(s=[]);for(var l=s,u=0,c=0,y=0,M=0,w=0,A=0,D=0,I=0;D<=20;++D)u=mf(n,e,I=D/20),c=mf(t,r,I),y=mf(e,i,I),M=mf(r,o,I),w=mf(u,y,I),A=mf(c,M,I),(0!==D||l[l.length-2]!==w||l[l.length-1]!==A)&&l.push(w,A);return l}var Pk={build:function(n){var t=n.shape,e=n.points,r=t.x,i=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));e.length=0,a?(gy(r,i+a,r,i,r+a,i,e),gy(r+o-a,i,r+o,i,r+o,i+a,e),gy(r+o,i+s-a,r+o,i+s,r+o-a,i+s,e),gy(r+a,i+s,r,i+s,r,i+s-a,e)):e.push(r,i,r+o,i,r+o,i+s,r,i+s)},triangulate:function(n,t){for(var e=n.points,r=t.points,i=t.indices,o=r.length/2,s=iT()(e,null,2),a=0,l=s.length;a<l;a+=3)i.push(s[a]+o),i.push(s[a+1]+o),i.push(s[a+2]+o);for(a=0,l=e.length;a<l;a++)r.push(e[a],e[++a])}};function Ak(n,t,e,r,i,o,s,a){var M,w;s?(M=r,w=-e):(M=-r,w=e);var I=n+e*o+M,j=t+r*o+w;return a.push(n-e*i+M,t-r*i+w),a.push(I,j),2}function vf(n,t,e,r,i,o,s,a){var l=e-n,u=r-t,c=Math.atan2(l,u),y=Math.atan2(i-n,o-t);a&&c<y?c+=2*Math.PI:!a&&c>y&&(y+=2*Math.PI);var M=c,w=y-c,A=Math.abs(w),D=Math.sqrt(l*l+u*u),I=1+(15*A*Math.sqrt(D)/Math.PI>>0),j=w/I;if(M+=j,a){s.push(n,t),s.push(e,r);for(var W=1,re=M;W<I;W++,re+=j)s.push(n,t),s.push(n+Math.sin(re)*D,t+Math.cos(re)*D);s.push(n,t),s.push(i,o)}else{for(s.push(e,r),s.push(n,t),W=1,re=M;W<I;W++,re+=j)s.push(n+Math.sin(re)*D,t+Math.cos(re)*D),s.push(n,t);s.push(i,o),s.push(n,t)}return 2*I}function SC(n,t){n.lineStyle.native?function rne(n,t){var e=0,r=n.shape,i=n.points||r.points,o=r.type!==Qn.POLY||r.closeStroke;if(0!==i.length){var s=t.points,a=t.indices,l=i.length/2,u=s.length/2,c=u;for(s.push(i[0],i[1]),e=1;e<l;e++)s.push(i[2*e],i[2*e+1]),a.push(c,c+1),c++;o&&a.push(c,u)}}(n,t):function nne(n,t){var e=n.shape,r=n.points||e.points.slice(),i=t.closePointEps;if(0!==r.length){var o=n.lineStyle,s=new wr(r[0],r[1]),a=new wr(r[r.length-2],r[r.length-1]),l=e.type!==Qn.POLY||e.closeStroke,u=Math.abs(s.x-a.x)<i&&Math.abs(s.y-a.y)<i;if(l){r=r.slice(),u&&(r.pop(),r.pop(),a.set(r[r.length-2],r[r.length-1]));var c=.5*(s.x+a.x),y=.5*(a.y+s.y);r.unshift(c,y),r.push(c,y)}var M=t.points,w=r.length/2,A=r.length,D=M.length/2,I=o.width/2,j=I*I,W=o.miterLimit*o.miterLimit,re=r[0],ae=r[1],Z=r[2],ee=r[3],Ee=0,Pe=0,ge=-(ae-ee),Fe=re-Z,Ze=0,et=0,Ke=Math.sqrt(ge*ge+Fe*Fe);ge/=Ke,Fe/=Ke,ge*=I,Fe*=I;var wt=o.alignment,Ye=2*(1-wt),we=2*wt;l||(o.cap===Za.ROUND?A+=vf(re-ge*(Ye-we)*.5,ae-Fe*(Ye-we)*.5,re-ge*Ye,ae-Fe*Ye,re+ge*we,ae+Fe*we,M,!0)+2:o.cap===Za.SQUARE&&(A+=Ak(re,ae,ge,Fe,Ye,we,!0,M))),M.push(re-ge*Ye,ae-Fe*Ye),M.push(re+ge*we,ae+Fe*we);for(var ze=1;ze<w-1;++ze){Ee=r[2*(ze+1)],Pe=r[2*(ze+1)+1],ge=-((ae=r[2*(ze-1)+1])-(ee=r[2*ze+1])),Fe=(re=r[2*(ze-1)])-(Z=r[2*ze]),ge/=Ke=Math.sqrt(ge*ge+Fe*Fe),Fe/=Ke,ge*=I,Fe*=I,Ze=-(ee-Pe),et=Z-Ee,Ze/=Ke=Math.sqrt(Ze*Ze+et*et),et/=Ke,Ze*=I,et*=I;var st=Z-re,Tt=ae-ee,Ve=Z-Ee,gt=Pe-ee,Rt=Tt*Ve-gt*st,xt=Rt<0;if(Math.abs(Rt)<.1)M.push(Z-ge*Ye,ee-Fe*Ye),M.push(Z+ge*we,ee+Fe*we);else{var At=(-ge+re)*(-Fe+ee)-(-ge+Z)*(-Fe+ae),ir=(-Ze+Ee)*(-et+ee)-(-Ze+Z)*(-et+Pe),Fn=(st*ir-Ve*At)/Rt,_n=(gt*At-Tt*ir)/Rt,Vn=(Fn-Z)*(Fn-Z)+(_n-ee)*(_n-ee),bn=Z+(Fn-Z)*Ye,on=ee+(_n-ee)*Ye,Qt=Z-(Fn-Z)*we,jn=ee-(_n-ee)*we,eo=xt?Ye:we;Vn<=Math.min(st*st+Tt*Tt,Ve*Ve+gt*gt)+eo*eo*j?o.join===Qa.BEVEL||Vn/j>W?(xt?(M.push(bn,on),M.push(Z+ge*we,ee+Fe*we),M.push(bn,on),M.push(Z+Ze*we,ee+et*we)):(M.push(Z-ge*Ye,ee-Fe*Ye),M.push(Qt,jn),M.push(Z-Ze*Ye,ee-et*Ye),M.push(Qt,jn)),A+=2):o.join===Qa.ROUND?xt?(M.push(bn,on),M.push(Z+ge*we,ee+Fe*we),A+=vf(Z,ee,Z+ge*we,ee+Fe*we,Z+Ze*we,ee+et*we,M,!0)+4,M.push(bn,on),M.push(Z+Ze*we,ee+et*we)):(M.push(Z-ge*Ye,ee-Fe*Ye),M.push(Qt,jn),A+=vf(Z,ee,Z-ge*Ye,ee-Fe*Ye,Z-Ze*Ye,ee-et*Ye,M,!1)+4,M.push(Z-Ze*Ye,ee-et*Ye),M.push(Qt,jn)):(M.push(bn,on),M.push(Qt,jn)):(M.push(Z-ge*Ye,ee-Fe*Ye),M.push(Z+ge*we,ee+Fe*we),o.join===Qa.BEVEL||Vn/j>W||(o.join===Qa.ROUND?A+=xt?vf(Z,ee,Z+ge*we,ee+Fe*we,Z+Ze*we,ee+et*we,M,!0)+2:vf(Z,ee,Z-ge*Ye,ee-Fe*Ye,Z-Ze*Ye,ee-et*Ye,M,!1)+2:(xt?(M.push(Qt,jn),M.push(Qt,jn)):(M.push(bn,on),M.push(bn,on)),A+=2)),M.push(Z-Ze*Ye,ee-et*Ye),M.push(Z+Ze*we,ee+et*we),A+=2)}}ge=-((ae=r[2*(w-2)+1])-(ee=r[2*(w-1)+1])),Fe=(re=r[2*(w-2)])-(Z=r[2*(w-1)]),ge/=Ke=Math.sqrt(ge*ge+Fe*Fe),Fe/=Ke,M.push(Z-(ge*=I)*Ye,ee-(Fe*=I)*Ye),M.push(Z+ge*we,ee+Fe*we),l||(o.cap===Za.ROUND?A+=vf(Z-ge*(Ye-we)*.5,ee-Fe*(Ye-we)*.5,Z-ge*Ye,ee-Fe*Ye,Z+ge*we,ee+Fe*we,M,!1)+2:o.cap===Za.SQUARE&&(A+=Ak(Z,ee,ge,Fe,Ye,we,!1,M)));var gl=t.indices,ap=gf.epsilon*gf.epsilon;for(ze=D;ze<A+D-2;++ze)re=M[2*ze],ae=M[2*ze+1],Z=M[2*(ze+1)],ee=M[2*(ze+1)+1],Ee=M[2*(ze+2)],Pe=M[2*(ze+2)+1],!(Math.abs(re*(ee-Pe)+Z*(Pe-ae)+Ee*(ae-ee))<ap)&&gl.push(ze,ze+1,ze+2)}}(n,t)}var Bc,TC=function(){function n(){}return n.curveTo=function(t,e,r,i,o,s){var u=s[s.length-1]-e,c=s[s.length-2]-t,y=i-e,M=r-t,w=Math.abs(u*M-c*y);if(w<1e-8||0===o)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;var A=u*u+c*c,D=y*y+M*M,I=u*y+c*M,j=o*Math.sqrt(A)/w,W=o*Math.sqrt(D)/w,re=j*I/A,ae=W*I/D,Z=j*M+W*c,ee=j*y+W*u,ge=M*(j+ae),Fe=y*(j+ae);return{cx:Z+t,cy:ee+e,radius:o,startAngle:Math.atan2(u*(W+re)-ee,c*(W+re)-Z),endAngle:Math.atan2(Fe-ee,ge-Z),anticlockwise:c*y>M*u}},n.arc=function(t,e,r,i,o,s,a,l,u){for(var c=a-s,y=gf._segmentsCount(Math.abs(c)*o,40*Math.ceil(Math.abs(c)/v_)),M=c/(2*y),w=2*M,A=Math.cos(M),D=Math.sin(M),I=y-1,j=I%1/I,W=0;W<=I;++W){var ae=M+s+w*(W+j*W),Z=Math.cos(ae),ee=-Math.sin(ae);u.push((A*Z+D*ee)*o+r,(A*-ee+D*Z)*o+i)}},n}(),Rk=function(){function n(){}return n.curveLength=function(t,e,r,i,o,s,a,l){for(var c=0,y=0,M=0,w=0,A=0,D=0,I=0,j=0,W=0,re=0,ae=0,Z=t,ee=e,Ee=1;Ee<=10;++Ee)re=Z-(j=(I=(D=(A=1-(y=Ee/10))*A)*A)*t+3*D*y*r+3*A*(M=y*y)*o+(w=M*y)*a),ae=ee-(W=I*e+3*D*y*i+3*A*M*s+w*l),Z=j,ee=W,c+=Math.sqrt(re*re+ae*ae);return c},n.curveTo=function(t,e,r,i,o,s,a){var l=a[a.length-2],u=a[a.length-1];a.length-=2;var c=gf._segmentsCount(n.curveLength(l,u,t,e,r,i,o,s)),y=0,M=0,w=0,A=0,D=0;a.push(l,u);for(var I=1,j=0;I<=c;++I)a.push((w=(M=(y=1-(j=I/c))*y)*y)*l+3*M*j*t+3*y*(A=j*j)*r+(D=A*j)*o,w*u+3*M*j*e+3*y*A*i+D*s)},n}(),Dk=function(){function n(){}return n.curveLength=function(t,e,r,i,o,s){var a=t-2*r+o,l=e-2*i+s,u=2*r-2*t,c=2*i-2*e,y=4*(a*a+l*l),M=4*(a*u+l*c),w=u*u+c*c,A=2*Math.sqrt(y+M+w),D=Math.sqrt(y),I=2*y*D,j=2*Math.sqrt(w),W=M/D;return(I*A+D*M*(A-j)+(4*w*y-M*M)*Math.log((2*D+W+A)/(W+j)))/(4*I)},n.curveTo=function(t,e,r,i,o){for(var s=o[o.length-2],a=o[o.length-1],l=gf._segmentsCount(n.curveLength(s,a,t,e,r,i)),u=0,c=0,y=1;y<=l;++y){var M=y/l;o.push((u=s+(t-s)*M)+(t+(r-t)*M-u)*M,(c=a+(e-a)*M)+(e+(i-e)*M-c)*M)}},n}(),xk=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,r){this.reset(),this.style=t,this.start=e,this.attribStart=r},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),my=((Bc={})[Qn.POLY]=bC,Bc[Qn.CIRC]=EC,Bc[Qn.ELIP]=EC,Bc[Qn.RECT]=wk,Bc[Qn.RREC]=Pk,Bc),CC=[],D_=[];function ine(n){for(var t=n.points,e=0,r=0;r<t.length-2;r+=2)e+=(t[r+2]-t[r])*(t[r+3]+t[r+1]);return e>0}var OC=function(){function n(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),yf=new wr,one=new hf,Ik=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new hf,e.boundsDirty=-1,e}return yC(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),D_.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var r=this.batches[e];r.reset(),CC.push(r)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,r,i,o){void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null);var s=new OC(e,r,i,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(e,r){if(void 0===r&&(r=null),!this.graphicsData.length)return null;var i=new OC(e,null,null,r),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var r=this.graphicsData,i=0;i<r.length;++i){var o=r[i];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,yf):yf.copyFrom(e),o.shape.contains(yf.x,yf.y))){var s=!1;if(o.holes)for(var a=0;a<o.holes.length;a++)if(o.holes[a].shape.contains(yf.x,yf.y)){s=!0;break}if(!s)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,i=this.graphicsData,o=null,s=null;this.batches.length>0&&(s=(o=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<i.length;a++){this.shapeIndex++;var l=i[a],u=l.fillStyle,c=l.lineStyle;my[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var M=0;M<2;M++){var w=0===M?u:c;if(w.visible){var D=this.indices.length,I=this.points.length/2;w.texture.baseTexture.wrapMode=Us.REPEAT,0===M?this.processFill(l):this.processLine(l);var j=this.points.length/2-I;0!==j&&(o&&!this._compareStyles(s,w)&&(o.end(D,I),o=null),o||((o=CC.pop()||new xk).begin(w,D,I),this.batches.push(o),s=w),this.addUvs(this.points,r,w.texture,I,j,w.matrix))}}}var re=this.points.length/2;if(o&&o.end(this.indices.length,re),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=re>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,r=this.graphicsData.length;e<r;e++){var i=this.graphicsData[e],o=i.fillStyle,s=i.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,r=0,i=e.length;r<i;r++)for(var o=e[r],s=0;s<o.size;s++){var a=o.start+s;this.indicesUint16[a]=this.indicesUint16[a]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Xn._globalBatch,r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),D_.push(this.drawCalls[r]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,s=D_.pop();s||((s=new sy).texArray=new ay),s.texArray.count=0,s.start=0,s.size=0,s.type=ro.TRIANGLES;var a=0,l=null,u=0,c=!1,y=ro.TRIANGLES,M=0;for(this.drawCalls.push(s),r=0;r<this.batches.length;r++){var w=this.batches[r],D=w.style,I=D.texture.baseTexture;c!==!!D.native&&(y=(c=!!D.native)?ro.LINES:ro.TRIANGLES,l=null,a=8,e++),l!==I&&(l=I,I._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=D_.pop())||((s=new sy).texArray=new ay),this.drawCalls.push(s)),s.start=M,s.size=0,s.texArray.count=0,s.type=y),I.touched=1,I._batchEnabled=e,I._batchLocation=a,I.wrapMode=Us.REPEAT,s.texArray.elements[s.texArray.count++]=I,a++)),s.size+=w.size,M+=w.size,u=I._batchLocation,this.addColors(i,D.color,D.alpha,w.attribSize,w.attribStart),this.addTextureIds(o,u,w.attribSize,w.attribStart)}Xn._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,r=this.uvs,i=this.colors,o=this.textureIds,s=new ArrayBuffer(3*e.length*4),a=new Float32Array(s),l=new Uint32Array(s),u=0,c=0;c<e.length/2;c++)a[u++]=e[2*c],a[u++]=e[2*c+1],a[u++]=r[2*c],a[u++]=r[2*c+1],l[u++]=i[c],a[u++]=o[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),bC.triangulate(e,this)):my[e.type].triangulate(e,this)},t.prototype.processLine=function(e){SC(e,this);for(var r=0;r<e.holes.length;r++)SC(e.holes[r],this)},t.prototype.processHoles=function(e){for(var r=0;r<e.length;r++){var i=e[r];my[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,r=one,i=cr.IDENTITY;this._bounds.clear(),r.clear();for(var o=0;o<this.graphicsData.length;o++){var s=this.graphicsData[o],a=s.shape,l=s.type,u=s.lineStyle,c=s.matrix||cr.IDENTITY,y=0;if(u&&u.visible){var M=u.alignment;y=u.width,l===Qn.POLY?ine(a)?y*=1-M:y*=M:y*=Math.max(0,M)}i!==c&&(r.isEmpty()||(e.addBoundsMatrix(r,i),r.clear()),i=c),l===Qn.RECT||l===Qn.RREC?r.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,y,y):l===Qn.CIRC?r.addFramePad(a.x,a.y,a.x,a.y,a.radius+y,a.radius+y):l===Qn.ELIP?r.addFramePad(a.x,a.y,a.x,a.y,a.width+y,a.height+y):e.addVerticesMatrix(i,a.points,0,a.points.length,y,y)}r.isEmpty()||e.addBoundsMatrix(r,i),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,r){for(var i=0;i<e.length/2;i++){var o=e[2*i],s=e[2*i+1];e[2*i]=r.a*o+r.c*s+r.tx,e[2*i+1]=r.b*o+r.d*s+r.ty}},t.prototype.addColors=function(e,r,i,o,s){void 0===s&&(s=0);var l=Uv((r>>16)+(65280&r)+((255&r)<<16),i);e.length=Math.max(e.length,s+o);for(var u=0;u<o;u++)e[s+u]=l},t.prototype.addTextureIds=function(e,r,i,o){void 0===o&&(o=0),e.length=Math.max(e.length,o+i);for(var s=0;s<i;s++)e[o+s]=r},t.prototype.addUvs=function(e,r,i,o,s,a){void 0===a&&(a=null);for(var l=0,u=r.length,c=i.frame;l<s;){var y=e[2*(o+l)],M=e[2*(o+l)+1];if(a){var w=a.a*y+a.c*M+a.tx;M=a.b*y+a.d*M+a.ty,y=w}l++,r.push(y/c.width,M/c.height)}var A=i.baseTexture;(c.width<A.width||c.height<A.height)&&this.adjustUvs(r,i,u,s)},t.prototype.adjustUvs=function(e,r,i,o){for(var s=r.baseTexture,a=1e-6,l=i+2*o,u=r.frame,c=u.width/s.width,y=u.height/s.height,M=u.x/u.width,w=u.y/u.height,A=Math.floor(e[i]+a),D=Math.floor(e[i+1]+a),I=i+2;I<l;I+=2)A=Math.min(A,Math.floor(e[I]+a)),D=Math.min(D,Math.floor(e[I+1]+a));for(M-=A,w-=D,I=i;I<l;I+=2)e[I]=(e[I]+M)*c,e[I+1]=(e[I+1]+w)*y},t.BATCHABLE_SIZE=100,t}(lC),Nk=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Za.BUTT,e.join=Qa.MITER,e.miterLimit=10,e}return yC(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(mC),sne=new Float32Array(3),MC={},fs=function(n){function t(e){void 0===e&&(e=null);var r=n.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new mC,r._lineStyle=new Nk,r._matrix=null,r._holeMode=!1,r.state=Au.for2d(),r._geometry=e||new Ik,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=xe.NORMAL,r}return yC(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,r,i,o,s){return void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=1),void 0===o&&(o=.5),void 0===s&&(s=!1),"number"==typeof e&&(e={width:e,color:r,alpha:i,alignment:o,native:s}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Bt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Za.BUTT,join:Qa.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new y_,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new y_,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this},t.prototype.lineTo=function(e,r){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points;return(i[i.length-2]!==e||i[i.length-1]!==r)&&i.push(e,r),this},t.prototype._initCurve=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,r]):this.moveTo(e,r)},t.prototype.quadraticCurveTo=function(e,r,i,o){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),Dk.curveTo(e,r,i,o,s),this},t.prototype.bezierCurveTo=function(e,r,i,o,s,a){return this._initCurve(),Rk.curveTo(e,r,i,o,s,a,this.currentPath.points),this},t.prototype.arcTo=function(e,r,i,o,s){this._initCurve(e,r);var l=TC.curveTo(e,r,i,o,s,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,r,i,o,s,a){if(void 0===a&&(a=!1),o===s)return this;if(!a&&s<=o?s+=v_:a&&o<=s&&(o+=v_),0==s-o)return this;var u=e+Math.cos(o)*i,c=r+Math.sin(o)*i,y=this._geometry.closePointEps,M=this.currentPath?this.currentPath.points:null;if(M){var w=Math.abs(M[M.length-2]-u),A=Math.abs(M[M.length-1]-c);w<y&&A<y||M.push(u,c)}else this.moveTo(u,c),M=this.currentPath.points;return TC.arc(u,c,e,r,i,o,s,a,M),this},t.prototype.beginFill=function(e,r){return void 0===e&&(e=0),void 0===r&&(r=1),this.beginTextureFill({texture:Bt.WHITE,color:e,alpha:r})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Bt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,r,i,o){return this.drawShape(new Un(e,r,i,o))},t.prototype.drawRoundedRect=function(e,r,i,o,s){return this.drawShape(new lF(e,r,i,o,s))},t.prototype.drawCircle=function(e,r,i){return this.drawShape(new sF(e,r,i))},t.prototype.drawEllipse=function(e,r,i,o){return this.drawShape(new aF(e,r,i,o))},t.prototype.drawPolygon=function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];var o,s=!0,a=r[0];a.points?(s=a.closeStroke,o=a.points):o=Array.isArray(r[0])?r[0]:r;var l=new y_(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==Qn.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var r=this._geometry;r.updateBatches(e.context.supports.uint32Indices),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var o=0;o<i;o++){var s=e.batches[o],a=s.style.color,l=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),u=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),y={vertexData:l,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:u,_batchRGB:Il(a),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=y}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var r=0,i=this.batches.length;r<i;r++){var o=this.batches[r];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(e){var r=this._resolveDirectShader(e),i=this._geometry,o=this.tint,s=this.worldAlpha,a=r.uniforms,l=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(o>>16&255)/255*s,a.tint[1]=(o>>8&255)/255*s,a.tint[2]=(255&o)/255*s,a.tint[3]=s,e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(var u=0,c=l.length;u<c;u++)this._renderDrawCallDirect(e,i.drawCalls[u])},t.prototype._renderDrawCallDirect=function(e,r){for(var i=r.texArray,o=r.type,s=r.size,a=r.start,l=i.count,u=0;u<l;u++)e.texture.bind(i.elements[u],u);e.geometry.draw(o,s,a)},t.prototype._resolveDirectShader=function(e){var r=this.shader,i=this.pluginName;if(!r){if(!MC[i]){for(var o=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(o),a=0;a<o;a++)s[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new cr,default:Pu.from({uSamplers:s},!0)};MC[i]=new Nl(e.plugins[i]._shader.program,l)}r=MC[i]}return r},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var r=e.bounds;this._bounds.addFrame(this.transform,r.minX,r.minY,r.maxX,r.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Il(this.tint,sne),r=0;r<this.batches.length;r++){var i=this.batches[r],o=i._batchRGB,u=(e[0]*o[0]*255<<16)+(e[1]*o[1]*255<<8)+(0|e[2]*o[2]*255);i._tintRGB=(u>>16)+(65280&u)+((255&u)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var r=this.transform.worldTransform,i=r.a,o=r.b,s=r.c,a=r.d,l=r.tx,u=r.ty,c=this._geometry.points,y=this.vertexData,M=0,w=0;w<c.length;w+=2){var A=c[w],D=c[w+1];y[M++]=i*A+s*D+l,y[M++]=a*D+o*A+u}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new wr,t}(Ur),ane={buildPoly:bC,buildCircle:EC,buildRectangle:wk,buildRoundedRectangle:Pk,buildLine:SC,ArcUtils:TC,BezierUtils:Rk,QuadraticUtils:Dk,BatchPart:xk,FILL_COMMANDS:my,BATCH_POOL:CC,DRAW_CALL_POOL:D_},wC=function(n,t){return(wC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},x_=new wr,une=new Uint16Array([0,1,2,0,2,3]),Bo=function(n){function t(e){var r=n.call(this)||this;return r._anchor=new wc(r._onAnchorUpdate,r,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=xe.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=e||Bt.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=une,r.pluginName="batch",r.isSprite=!0,r._roundPixels=rt.ROUND_PIXELS,r}return function lne(n,t){function e(){this.constructor=n}wC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Mc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Mc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var r=this.transform.worldTransform,i=r.a,o=r.b,s=r.c,a=r.d,l=r.tx,u=r.ty,c=this.vertexData,y=e.trim,M=e.orig,w=this._anchor,A=0,D=0,I=0,j=0;if(y?(A=(D=y.x-w._x*M.width)+y.width,I=(j=y.y-w._y*M.height)+y.height):(A=(D=-w._x*M.width)+M.width,I=(j=-w._y*M.height)+M.height),c[0]=i*D+s*j+l,c[1]=a*j+o*D+u,c[2]=i*A+s*j+l,c[3]=a*j+o*A+u,c[4]=i*A+s*I+l,c[5]=a*I+o*A+u,c[6]=i*D+s*I+l,c[7]=a*I+o*D+u,this._roundPixels)for(var W=rt.RESOLUTION,re=0;re<c.length;++re)c[re]=Math.round((c[re]*W|0)/W)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this.vertexTrimmedData,i=this._texture.orig,o=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,u=s.c,c=s.d,y=s.tx,M=s.ty,w=-o._x*i.width,A=w+i.width,D=-o._y*i.height,I=D+i.height;r[0]=a*w+u*D+y,r[1]=c*D+l*w+M,r[2]=a*A+u*D+y,r[3]=c*D+l*A+M,r[4]=a*A+u*I+y,r[5]=c*I+l*A+M,r[6]=a*w+u*I+y,r[7]=c*I+l*w+M},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new hf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Un),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,x_);var r=this._texture.orig.width,i=this._texture.orig.height,o=-r*this.anchor.x,s=0;return x_.x>=o&&x_.x<o+r&&x_.y>=(s=-i*this.anchor.y)&&x_.y<s+i},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,r){return new t(e instanceof Bt?e:Bt.from(e,r))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var r=Mc(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var r=Mc(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Bt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Ur),PC=function(n,t){return(PC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},Lc=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Lc||(Lc={})),Lc))(),AC={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Lc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},hne=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Uc=function(){function n(t){this.styleID=0,this.reset(),DC(this,t,t)}return n.prototype.clone=function(){var t={};return DC(t,this,AC),new n(t)},n.prototype.reset=function(){DC(this,AC,AC)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=RC(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=RC(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function dne(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=RC(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&hne.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function Fk(n){return"number"==typeof n?Lv(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function RC(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=Fk(n[t]);return n}return Fk(n)}function DC(n,t,e){for(var r in e)n[r]=Array.isArray(t[r])?t[r].slice():t[r]}var ps=function(){function n(t,e,r,i,o,s,a,l,u){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}return n.measureText=function(t,e,r,i){void 0===i&&(i=n._canvas),r=null==r?e.wordWrap:r;var o=e.toFontString(),s=n.measureFont(o);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var a=i.getContext("2d");a.font=o;for(var u=(r?n.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(u.length),y=0,M=0;M<u.length;M++){var w=a.measureText(u[M]).width+(u[M].length-1)*e.letterSpacing;c[M]=w,y=Math.max(y,w)}var A=y+e.strokeThickness;e.dropShadow&&(A+=e.dropShadowDistance);var D=e.lineHeight||s.fontSize+e.strokeThickness,I=Math.max(D,s.fontSize+e.strokeThickness)+(u.length-1)*(D+e.leading);return e.dropShadow&&(I+=e.dropShadowDistance),new n(t,e,A,I,u,c,D+e.leading,y,s)},n.wordWrap=function(t,e,r){void 0===r&&(r=n._canvas);for(var i=r.getContext("2d"),o=0,s="",a="",l=Object.create(null),u=e.letterSpacing,c=e.whiteSpace,y=n.collapseSpaces(c),M=n.collapseNewlines(c),w=!y,A=e.wordWrapWidth+u,D=n.tokenize(t),I=0;I<D.length;I++){var j=D[I];if(n.isNewline(j)){if(!M){a+=n.addLine(s),w=!y,s="",o=0;continue}j=" "}if(y){var W=n.isBreakingSpace(j),re=n.isBreakingSpace(s[s.length-1]);if(W&&re)continue}var ae=n.getFromCache(j,u,l,i);if(ae>A)if(""!==s&&(a+=n.addLine(s),s="",o=0),n.canBreakWords(j,e.breakWords))for(var Z=n.wordWrapSplit(j),ee=0;ee<Z.length;ee++){for(var Ee=Z[ee],Pe=1;Z[ee+Pe];){var ge=Z[ee+Pe];if(n.canBreakChars(Ee[Ee.length-1],ge,j,ee,e.breakWords))break;Ee+=ge,Pe++}ee+=Ee.length-1;var Ze=n.getFromCache(Ee,u,l,i);Ze+o>A&&(a+=n.addLine(s),w=!1,s="",o=0),s+=Ee,o+=Ze}else s.length>0&&(a+=n.addLine(s),s="",o=0),a+=n.addLine(j,!(I===D.length-1)),w=!1,s="",o=0;else ae+o>A&&(w=!1,a+=n.addLine(s),s="",o=0),(s.length>0||!n.isBreakingSpace(j)||w)&&(s+=j,o+=ae)}return a+n.addLine(s,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,r,i){var o=r[t];if("number"!=typeof o){var s=t.length*e;o=i.measureText(t).width+s,r[t]=o}return o},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var o=t[i];n.isBreakingSpace(o,t[i+1])||n.isNewline(o)?(""!==r&&(e.push(r),r=""),e.push(o)):r+=o}return""!==r&&e.push(r),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,r,i,o){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},r=n._canvas,i=n._context;i.font=t;var o=n.METRICS_STRING+n.BASELINE_SYMBOL,s=Math.ceil(i.measureText(o).width),a=Math.ceil(i.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,r.width=s,r.height=l,i.fillStyle="#f00",i.fillRect(0,0,s,l),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,a);var u=i.getImageData(0,0,s,l).data,c=u.length,y=4*s,M=0,w=0,A=!1;for(M=0;M<a;++M){for(var D=0;D<y;D+=4)if(255!==u[w+D]){A=!0;break}if(A)break;w+=y}for(e.ascent=a-M,w=c-y,A=!1,M=l;M>a;--M){for(D=0;D<y;D+=4)if(255!==u[w+D]){A=!0;break}if(A)break;w-=y}return e.descent=M-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),vy=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();vy.width=vy.height=10,ps._canvas=vy,ps._context=vy.getContext("2d"),ps._fonts={},ps.METRICS_STRING="|\xc9q\xc5",ps.BASELINE_SYMBOL="M",ps.BASELINE_MULTIPLIER=1.4,ps.HEIGHT_MULTIPLIER=2,ps._newlines=[10,13],ps._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var fne={texture:!0,children:!1,baseTexture:!0},I_=function(n){function t(e,r,i){var o=this,s=!1;i||(i=document.createElement("canvas"),s=!0),i.width=3,i.height=3;var a=Bt.from(i);return a.orig=new Un,a.trim=new Un,(o=n.call(this,a)||this)._ownCanvas=s,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=rt.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=r,o.localStyleID=-1,o}return function cne(n,t){function e(){this.constructor=n}PC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var i=this.context,o=ps.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.height,l=o.lines,u=o.lineHeight,c=o.lineWidths,y=o.maxLineWidth,M=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*r.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var w,A,D=r.dropShadow?2:1,I=0;I<D;++I){var j=r.dropShadow&&0===I,W=j?Math.ceil(Math.max(1,a)+2*r.padding):0,re=W*this._resolution;if(j){i.fillStyle="black",i.strokeStyle="black";var ae=r.dropShadowColor,Z=Il("number"==typeof ae?ae:ko(ae)),ee=r.dropShadowBlur*this._resolution,Ee=r.dropShadowDistance*this._resolution;i.shadowColor="rgba("+255*Z[0]+","+255*Z[1]+","+255*Z[2]+","+r.dropShadowAlpha+")",i.shadowBlur=ee,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*Ee,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*Ee+re}else i.fillStyle=this._generateFillStyle(r,l,o),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var Pe=(u-M.fontSize)/2;(!t.nextLineHeightBehavior||u-M.fontSize<0)&&(Pe=0);for(var ge=0;ge<l.length;ge++)w=r.strokeThickness/2,A=r.strokeThickness/2+ge*u+M.ascent+Pe,"right"===r.align?w+=y-c[ge]:"center"===r.align&&(w+=(y-c[ge])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[ge],w+r.padding,A+r.padding-W,!0),r.fill&&this.drawLetterSpacing(l[ge],w+r.padding,A+r.padding-W)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,r,i,o){void 0===o&&(o=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(o?this.context.strokeText(e,r,i):this.context.fillText(e,r,i));for(var u=r,c=Array.from?Array.from(e):e.split(""),y=this.context.measureText(e).width,M=0,w=0;w<c.length;++w){var A=c[w];o?this.context.strokeText(A,u,i):this.context.fillText(A,u,i);for(var D="",I=w+1;I<c.length;++I)D+=c[I];u+=y-(M=this.context.measureText(D).width)+a,y=M}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var r=tF(e);r.data&&(e.width=r.width,e.height=r.height,this.context.putImageData(r.data,0,0))}var i=this._texture,o=this._style,s=o.trim?0:o.padding,a=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-s,i.trim.y=-s,i.orig.width=i._frame.width-2*s,i.orig.height=i._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,r,i){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=this.canvas.width/this._resolution-a-2*l,c=this.canvas.height/this._resolution-a-2*l,y=o.slice(),M=e.fillGradientStops.slice();if(!M.length)for(var w=y.length+1,A=1;A<w;++A)M.push(A/w);if(y.unshift(o[0]),M.unshift(0),y.push(o[o.length-1]),M.push(1),e.fillGradientType===Lc.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,l,u/2,c+l);var D=i.fontProperties.fontSize+e.strokeThickness;for(A=0;A<r.length;A++){var I=i.lineHeight*(A-1)+D,j=i.lineHeight*A,W=j;A>0&&I>j&&(W=(j+I)/2);var re=j+D,ae=i.lineHeight*(A+1),Z=re;A+1<r.length&&ae<re&&(Z=(re+ae)/2);for(var ee=(Z-W)/c,Ee=0;Ee<y.length;Ee++){var ge=Math.min(1,Math.max(0,W/c+("number"==typeof M[Ee]?M[Ee]:Ee/y.length)*ee));ge=Number(ge.toFixed(5)),s.addColorStop(ge,y[Ee])}}}else{s=this.context.createLinearGradient(l,c/2,u+l,c/2);var Fe=y.length+1,Ze=1;for(A=0;A<y.length;A++)s.addColorStop("number"==typeof M[A]?M[A]:Ze/Fe,y[A]),Ze++}return s},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},fne,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var r=Mc(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var r=Mc(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof Uc?e:new Uc(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Bo);rt.UPLOADS_PER_FRAME=4;var xC=function(n,t){return(xC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},kk=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function _ne(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var r=0;r<n._textures.length;r++)if(n._textures[r]instanceof Bt){var i=n._textures[r].baseTexture;-1===t.indexOf(i)&&(t.push(i),e=!0)}return e}function gne(n,t){if(n.baseTexture instanceof Xn){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function mne(n,t){if(n._texture&&n._texture instanceof Bt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function vne(n,t){return t instanceof I_&&(t.updateText(!0),!0)}function yne(n,t){if(t instanceof Uc){var e=t.toFontString();return ps.measureFont(e),!0}return!1}function bne(n,t){if(n instanceof I_){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Ene(n,t){return n instanceof Uc&&(-1===t.indexOf(n)&&t.push(n),!0)}var IC=function(){function n(t){var e=this;this.limiter=new kk(rt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(bne),this.registerFindHook(Ene),this.registerFindHook(_ne),this.registerFindHook(gne),this.registerFindHook(mne),this.registerUploadHook(vne),this.registerUploadHook(yne)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,qi.system.addOnce(this.tick,this,Oa.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)qi.system.addOnce(this.tick,this,Oa.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);for(this.completes.length=0,r=0,i=o.length;r<i;r++)o[r]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ur)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&qi.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function Bk(n,t){return t instanceof Xn&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function Sne(n,t){if(!(t instanceof fs))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var r=e.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Bk(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Tne(n,t){return n instanceof fs&&(t.push(n),!0)}var Lk=function(n){function t(e){var r=n.call(this,e)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(Tne),r.registerUploadHook(Bk),r.registerUploadHook(Sne),r}return function pne(n,t){function e(){this.constructor=n}xC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(IC),Cne=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),Uk=function(){function n(t,e,r){void 0===r&&(r=null),this._texture=t instanceof Bt?t:null,this.baseTexture=t instanceof Xn?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,r=m_(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,r=n.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],o=this._frames[i],s=o.frame;if(s){var a,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new Un(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new Un(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Un(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new Un(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new Bt(this.baseTexture,a,c,l,o.rotated?2:0,o.anchor),Bt.addToCache(this.textures[i],i)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++)this.animations[e].push(this.textures[t[e][r]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var r in void 0===t&&(t=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),Gk=function(){function n(){}return n.use=function(t,e){var r,i,o=this,s=t.name+"_image";if(t.data&&t.type===$r.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(i=null===(r=t.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(a))for(var l=function(A){if("string"!=typeof A)return"continue";var D=A.replace(".json",""),I=Cc.resolve(t.url.replace(o.baseUrl,""),A);if(o.resources[D]||Object.values(o.resources).some(function(W){return Cc.format(Cc.parse(W.url))===I}))return"continue";o.add(D,I,{crossOrigin:t.crossOrigin,loadType:$r.LOAD_TYPE.XHR,xhrType:$r.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},u=0,c=a;u<c.length;u++)l(c[u]);var M={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},w=n.getResourcePath(t,o.baseUrl);o.add(s,w,M,function(D){if(D.error)e(D.error);else{var I=new Uk(D.texture,t.data,t.url);I.parse(function(){t.spritesheet=I,t.textures=I.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Cc.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),NC=function(n,t){return(NC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Vk(n,t){function e(){this.constructor=n}NC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var N_=new wr,jk=function(n){function t(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var o=n.call(this,e)||this;return o.tileTransform=new mT,o._width=r,o._height=i,o.uvMatrix=o.texture.uvMatrix||new ry(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Vk(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Un),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,N_);var r=this._width,i=this._height,o=-r*this.anchor._x;if(N_.x>=o&&N_.x<o+r){var s=-i*this.anchor._y;if(N_.y>=s&&N_.y<s+i)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return new t(e instanceof Bt?e:Bt.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Bo),Hk="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",yy=new cr,Yk=function(n){function t(e){var r=n.call(this,e)||this;return e.runners.contextChange.add(r),r.quad=new FT,r.state=Au.for2d(),r}return Vk(t,n),t.prototype.contextChange=function(){var e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Nl.from(Hk,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",r),this.shader=e.context.webGLVersion>1?Nl.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",r):Nl.from(Hk,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",r)},t.prototype.render=function(e){var r=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(o=i.uvs)[0]=o[6]=-s,o[1]=o[3]=-a,o[2]=o[4]=1-s,o[5]=o[7]=1-a,i.invalidate();var l=e._texture,u=l.baseTexture,c=e.tileTransform.localTransform,y=e.uvMatrix,M=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;M&&(u._glTextures[r.CONTEXT_UID]?M=u.wrapMode!==Us.CLAMP:u.wrapMode===Us.CLAMP&&(u.wrapMode=Us.REPEAT));var w=M?this.simpleShader:this.shader,A=l.width,D=l.height,I=e._width,j=e._height;yy.set(c.a*A/I,c.b*A/j,c.c*D/I,c.d*D/j,c.tx/I,c.ty/j),yy.invert(),M?yy.prepend(y.mapCoord):(w.uniforms.uMapCoord=y.mapCoord.toArray(!0),w.uniforms.uClampFrame=y.uClampFrame,w.uniforms.uClampOffset=y.uClampOffset),w.uniforms.uTransform=yy.toArray(!0),w.uniforms.uColor=dT(e.tint,e.worldAlpha,w.uniforms.uColor,u.alphaMode),w.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),w.uniforms.uSampler=l,r.shader.bind(w),r.geometry.bind(i),this.state.blendMode=hT(e.blendMode,u.alphaMode),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(T_),FC=function(n,t){return(FC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function kC(n,t){function e(){this.constructor=n}FC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Wk=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),BC=new wr,zk=new y_,Hs=function(n){function t(e,r,i,o){void 0===o&&(o=ro.TRIANGLES);var s=n.call(this)||this;return s.geometry=e,s.shader=r,s.state=i||Au.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=rt.ROUND_PIXELS,s.batchUvs=null,s}return kC(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===ro.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry.buffers[0],i=r.data,o=r._updateID;if(o!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var s=this.transform.worldTransform,a=s.a,l=s.b,u=s.c,c=s.d,y=s.tx,M=s.ty,w=this.vertexData,A=0;A<w.length/2;A++){var D=i[2*A],I=i[2*A+1];w[2*A]=a*D+u*I+y,w[2*A+1]=l*D+c*I+M}if(this._roundPixels){var j=rt.RESOLUTION;for(A=0;A<w.length;++A)w[A]=Math.round((w[A]*j|0)/j)}this.vertexDirty=o}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Wk(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,BC);for(var r=this.geometry.getBuffer("aVertexPosition").data,i=zk.points,o=this.geometry.getIndex().data,s=o.length,a=4===this.drawMode?3:1,l=0;l+2<s;l+=a){var u=2*o[l],c=2*o[l+1],y=2*o[l+2];if(i[0]=r[u],i[1]=r[u+1],i[2]=r[c],i[3]=r[c+1],i[4]=r[y],i[5]=r[y+1],zk.contains(BC.x,BC.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Ur),Gc=function(n){function t(e,r){var i=this,o={uSampler:e,alpha:1,uTextureMatrix:cr.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(o,r.uniforms),(i=n.call(this,r.program||pf.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,i.uvMatrix=new ry(e),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return kC(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,dT(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Nl),F_=function(n){function t(e,r,i){var o=n.call(this)||this,s=new Ai(e),a=new Ai(r,!0),l=new Ai(i,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,_t.FLOAT).addAttribute("aTextureCoord",a,2,!1,_t.FLOAT).addIndex(l),o._updateId=-1,o}return kC(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(ff),LC=function(n,t){return(LC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},k_=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},xne=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var o=e[i].match(/^[a-z]+/gm)[0],s=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in s){var u=s[l].split("="),c=u[0],y=u[1].replace(/"/gm,""),M=parseFloat(y),w=isNaN(M)?y:M;a[c]=w}r[o].push(a)}var A=new k_;return r.info.forEach(function(D){return A.info.push({face:D.face,size:parseInt(D.size,10)})}),r.common.forEach(function(D){return A.common.push({lineHeight:parseInt(D.lineHeight,10)})}),r.page.forEach(function(D){return A.page.push({id:parseInt(D.id,10),file:D.file})}),r.char.forEach(function(D){return A.char.push({id:parseInt(D.id,10),page:parseInt(D.page,10),x:parseInt(D.x,10),y:parseInt(D.y,10),width:parseInt(D.width,10),height:parseInt(D.height,10),xoffset:parseInt(D.xoffset,10),yoffset:parseInt(D.yoffset,10),xadvance:parseInt(D.xadvance,10)})}),r.kerning.forEach(function(D){return A.kerning.push({first:parseInt(D.first,10),second:parseInt(D.second,10),amount:parseInt(D.amount,10)})}),r.distanceField.forEach(function(D){return A.distanceField.push({distanceRange:parseInt(D.distanceRange,10),fieldType:D.fieldType})}),A},n}(),UC=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new k_,r=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),u=0;u<r.length;u++)e.info.push({face:r[u].getAttribute("face"),size:parseInt(r[u].getAttribute("size"),10)});for(u=0;u<i.length;u++)e.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(u=0;u<o.length;u++)e.page.push({id:parseInt(o[u].getAttribute("id"),10)||0,file:o[u].getAttribute("file")});for(u=0;u<s.length;u++){var c=s[u];e.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(u=0;u<a.length;u++)e.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(u=0;u<l.length;u++)e.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return e},n}(),Ine=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return UC.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return UC.parse(e)},n}(),GC=[xne,UC,Ine];function $k(n){for(var t=0;t<GC.length;t++)if(GC[t].test(n))return GC[t];return null}function Fne(n,t,e,r,i,o,s){var a=e.text,l=e.fontProperties;t.translate(r,i),t.scale(o,o);var u=s.strokeThickness/2,c=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function Nne(n,t,e,r,i,o){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a,l=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,c=n.width/r-l-2*u,y=n.height/r-l-2*u,M=s.slice(),w=e.fillGradientStops.slice();if(!w.length)for(var A=M.length+1,D=1;D<A;++D)w.push(D/A);if(M.unshift(s[0]),w.unshift(0),M.push(s[s.length-1]),w.push(1),e.fillGradientType===Lc.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,u,c/2,y+u);var I=0,W=(o.fontProperties.fontSize+e.strokeThickness)/y;for(D=0;D<i.length;D++)for(var re=o.lineHeight*D,ae=0;ae<M.length;ae++){var Ee=Math.max(I,re/y+("number"==typeof w[ae]?w[ae]:ae/M.length)*W);Ee=Math.min(Ee,1),a.addColorStop(Ee,M[ae]),I=Ee}}else{a=t.createLinearGradient(u,y/2,c+u,y/2);var Pe=M.length+1,ge=1;for(D=0;D<M.length;D++)a.addColorStop("number"==typeof w[D]?w[D]:ge/Pe,M[D]),ge++}return a}(n,t,s,o,[a],e),t.strokeStyle=s.stroke,s.dropShadow){var y=s.dropShadowColor,M=Il("number"==typeof y?y:ko(y)),w=s.dropShadowBlur*o,A=s.dropShadowDistance*o;t.shadowColor="rgba("+255*M[0]+","+255*M[1]+","+255*M[2]+","+s.dropShadowAlpha+")",t.shadowBlur=w,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*A,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*A}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,u,c+e.lineHeight-l.descent),s.fill&&t.fillText(a,u,c+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function Xk(n){return Array.from?Array.from(n):n.split("")}function by(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var Bl=function(){function n(t,e,r){var i,o,s=t.info[0],a=t.common[0],u=t.distanceField[0],c=m_(t.page[0].file),y={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/c,this.chars={},this.pageTextures=y;for(var M=0;M<t.page.length;M++){var w=t.page[M];y[A=w.id]=e instanceof Array?e[M]:e[w.file],(null==u?void 0:u.fieldType)&&"none"!==u.fieldType&&(y[A].baseTexture.alphaMode=Xi.NO_PREMULTIPLIED_ALPHA)}for(M=0;M<t.char.length;M++){var I=t.char[M],A=I.id,j=I.page,W=t.char[M],re=W.x,ae=W.y,Z=W.width,ee=W.height,Ee=W.xoffset,Pe=W.yoffset,ge=W.xadvance;Ee/=c,Pe/=c,ge/=c;var Fe=new Un((re/=c)+y[j].frame.x/c,(ae/=c)+y[j].frame.y/c,Z/=c,ee/=c);this.chars[A]={xOffset:Ee,yOffset:Pe,xAdvance:ge,kerning:{},texture:new Bt(y[j].baseTexture,Fe),page:j}}for(M=0;M<t.kerning.length;M++){var Ze=t.kerning[M],et=Ze.first,Ke=Ze.second,wt=Ze.amount;et/=c,wt/=c,this.chars[Ke/=c]&&(this.chars[Ke].kerning[et]=wt)}this.distanceFieldRange=null==u?void 0:u.distanceRange,this.distanceFieldType=null!==(o=null===(i=null==u?void 0:u.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==o?o:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,r){var i;if(t instanceof k_)i=t;else{var o=$k(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}e instanceof Bt&&(e=[e]);var s=new n(i,e,r);return n.available[s.font]=s,s},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},n.defaultOptions,r),s=i.padding,a=i.resolution,l=i.textureWidth,u=i.textureHeight,c=function kne(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,r=n.length;e<r;e++){var i=n[e];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,Xk(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(i.chars),y=e instanceof Uc?e:new Uc(e),M=l,w=new k_;w.info[0]={face:y.fontFamily,size:y.fontSize},w.common[0]={lineHeight:y.fontSize};for(var I,j,W,A=0,D=0,re=0,ae=[],Z=0;Z<c.length;Z++){I||((I=document.createElement("canvas")).width=l,I.height=u,j=I.getContext("2d"),W=new Xn(I,{resolution:a}),ae.push(new Bt(W)),w.page.push({id:ae.length-1,file:""}));var ee=ps.measureText(c[Z],y,!1,I),Ee=ee.width,Pe=Math.ceil(ee.height),ge=Math.ceil(("italic"===y.fontStyle?2:1)*Ee);if(D>=u-Pe*a){if(0===D)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+y.fontSize+"px fonts");--Z,I=null,j=null,W=null,D=0,A=0,re=0}else if(re=Math.max(Pe+ee.fontProperties.descent,re),ge*a+A>=M)--Z,D+=re*a,D=Math.ceil(D),A=0,re=0;else{Fne(I,j,ee,A,D,a,y);var Fe=by(ee.text);w.char.push({id:Fe,page:ae.length-1,x:A/a,y:D/a,width:ge,height:Pe,xoffset:0,yoffset:0,xadvance:Math.ceil(Ee-(y.dropShadow?y.dropShadowDistance:0)-(y.stroke?y.strokeThickness:0))}),A+=(ge+2*s)*a,A=Math.ceil(A)}}Z=0;for(var Ze=c.length;Z<Ze;Z++)for(var et=c[Z],Ke=0;Ke<Ze;Ke++){var wt=c[Ke],Ye=j.measureText(et).width,we=j.measureText(wt).width,st=j.measureText(et+wt).width-(Ye+we);st&&w.kerning.push({first:by(et),second:by(wt),amount:st})}var Tt=new n(w,ae,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=Tt,Tt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),Une=[],Gne=[],qk=[],B_=function(n){function t(e,r){void 0===r&&(r={});var i=n.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,r),s=o.align,a=o.tint,l=o.maxWidth,u=o.letterSpacing,c=o.fontName,y=o.fontSize;if(!Bl.available[c])throw new Error('Missing BitmapFont "'+c+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=a,i._fontName=c,i._fontSize=y||Bl.available[c].size,i._text=e,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=u,i._anchor=new wc(function(){i.dirty=!0},i,0,0),i._roundPixels=rt.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function Dne(n,t){function e(){this.constructor=n}LC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,r=Bl.available[this._fontName],i=this._fontSize/r.size,o=new wr,s=[],a=[],l=[],c=Xk(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),y=this._maxWidth*r.size/this._fontSize,M="none"===r.distanceFieldType?Une:Gne,w=null,A=0,D=0,I=0,j=-1,W=0,re=0,ae=0,Z=0,ee=0;ee<c.length;ee++){var Pe=by(Ee=c[ee]);if(/(?:\s)/.test(Ee)&&(j=ee,W=A,Z++),"\r"!==Ee&&"\n"!==Ee){var ge=r.chars[Pe];if(ge){w&&ge.kerning[w]&&(o.x+=ge.kerning[w]);var Fe=qk.pop()||{texture:Bt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new wr};Fe.texture=ge.texture,Fe.line=I,Fe.charCode=Pe,Fe.position.x=o.x+ge.xOffset+this._letterSpacing/2,Fe.position.y=o.y+ge.yOffset,Fe.prevSpaces=Z,s.push(Fe),A=Fe.position.x+ge.texture.orig.width,o.x+=ge.xAdvance+this._letterSpacing,ae=Math.max(ae,ge.yOffset+ge.texture.height),w=Pe,-1!==j&&y>0&&o.x>y&&(Oc(s,1+j-++re,1+ee-j),ee=j,j=-1,a.push(W),l.push(s.length>0?s[s.length-1].prevSpaces:0),D=Math.max(D,W),I++,o.x=0,o.y+=r.lineHeight,w=null,Z=0)}}else a.push(A),l.push(-1),D=Math.max(D,A),++I,++re,o.x=0,o.y+=r.lineHeight,w=null,Z=0}var Ze=c[c.length-1];"\r"!==Ze&&"\n"!==Ze&&(/(?:\s)/.test(Ze)&&(A=W),a.push(A),D=Math.max(D,A),l.push(-1));var et=[];for(ee=0;ee<=I;ee++){var Ke=0;"right"===this._align?Ke=D-a[ee]:"center"===this._align?Ke=(D-a[ee])/2:"justify"===this._align&&(Ke=l[ee]<0?0:(D-a[ee])/l[ee]),et.push(Ke)}var wt=s.length,Ye={},we=[],ze=this._activePagesMeshData;for(ee=0;ee<ze.length;ee++)M.push(ze[ee]);for(ee=0;ee<wt;ee++){var Tt=(st=s[ee].texture).baseTexture.uid;if(!Ye[Tt]){if(!(Ve=M.pop())){var gt=new F_,Rt=void 0,xt=void 0;"none"===r.distanceFieldType?(Rt=new Gc(Bt.EMPTY),xt=xe.NORMAL):(Rt=new Gc(Bt.EMPTY,{program:pf.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),xt=xe.NORMAL_NPM);var At=new Hs(gt,Rt);At.blendMode=xt,Ve={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:At,vertices:null,uvs:null,indices:null}}Ve.index=0,Ve.indexCount=0,Ve.vertexCount=0,Ve.uvsCount=0,Ve.total=0;var ir=this._textureCache;ir[Tt]=ir[Tt]||new Bt(st.baseTexture),Ve.mesh.texture=ir[Tt],Ve.mesh.tint=this._tint,we.push(Ve),Ye[Tt]=Ve}Ye[Tt].total++}for(ee=0;ee<ze.length;ee++)-1===we.indexOf(ze[ee])&&this.removeChild(ze[ee].mesh);for(ee=0;ee<we.length;ee++)we[ee].mesh.parent!==this&&this.addChild(we[ee].mesh);for(var ee in this._activePagesMeshData=we,Ye){var Fn=(Ve=Ye[ee]).total;if(!((null===(e=Ve.indices)||void 0===e?void 0:e.length)>6*Fn)||Ve.vertices.length<2*Hs.BATCHABLE_SIZE)Ve.vertices=new Float32Array(8*Fn),Ve.uvs=new Float32Array(8*Fn),Ve.indices=new Uint16Array(6*Fn);else for(var Vn=Ve.vertices,bn=4*Ve.total*2;bn<Vn.length;bn++)Vn[bn]=0;Ve.mesh.size=6*Fn}for(ee=0;ee<wt;ee++){var Ee,on=(Ee=s[ee]).position.x+et[Ee.line]*("justify"===this._align?Ee.prevSpaces:1);this._roundPixels&&(on=Math.round(on));var st,Qt=on*i,jn=Ee.position.y*i,Zt=Ye[(st=Ee.texture).baseTexture.uid],eo=st.frame,lr=st._uvs,Dn=Zt.index++;Zt.indices[6*Dn+0]=0+4*Dn,Zt.indices[6*Dn+1]=1+4*Dn,Zt.indices[6*Dn+2]=2+4*Dn,Zt.indices[6*Dn+3]=0+4*Dn,Zt.indices[6*Dn+4]=2+4*Dn,Zt.indices[6*Dn+5]=3+4*Dn,Zt.vertices[8*Dn+0]=Qt,Zt.vertices[8*Dn+1]=jn,Zt.vertices[8*Dn+2]=Qt+eo.width*i,Zt.vertices[8*Dn+3]=jn,Zt.vertices[8*Dn+4]=Qt+eo.width*i,Zt.vertices[8*Dn+5]=jn+eo.height*i,Zt.vertices[8*Dn+6]=Qt,Zt.vertices[8*Dn+7]=jn+eo.height*i,Zt.uvs[8*Dn+0]=lr.x0,Zt.uvs[8*Dn+1]=lr.y0,Zt.uvs[8*Dn+2]=lr.x1,Zt.uvs[8*Dn+3]=lr.y1,Zt.uvs[8*Dn+4]=lr.x2,Zt.uvs[8*Dn+5]=lr.y2,Zt.uvs[8*Dn+6]=lr.x3,Zt.uvs[8*Dn+7]=lr.y3}for(var ee in this._textWidth=D*i,this._textHeight=(o.y+r.lineHeight)*i,Ye){var Ve=Ye[ee];if(0!==this.anchor.x||0!==this.anchor.y)for(var gl=0,ap=this._textWidth*this.anchor.x,Pb=this._textHeight*this.anchor.y,x8=0;x8<Ve.total;x8++)Ve.vertices[gl++]-=ap,Ve.vertices[gl++]-=Pb,Ve.vertices[gl++]-=ap,Ve.vertices[gl++]-=Pb,Ve.vertices[gl++]-=ap,Ve.vertices[gl++]-=Pb,Ve.vertices[gl++]-=ap,Ve.vertices[gl++]-=Pb;this._maxLineHeight=ae*i;var I8=Ve.mesh.geometry.getBuffer("aVertexPosition"),N8=Ve.mesh.geometry.getBuffer("aTextureCoord"),F8=Ve.mesh.geometry.getIndex();I8.data=Ve.vertices,N8.data=Ve.uvs,F8.data=Ve.indices,I8.update(),N8.update(),F8.update()}for(ee=0;ee<s.length;ee++)qk.push(s[ee])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var r=Bl.available[this._fontName],i=r.distanceFieldRange,s=r.size;if("none"!==r.distanceFieldType)for(var a=this.worldTransform,l=a.a,u=a.b,c=a.c,y=a.d,M=Math.sqrt(l*l+u*u),w=Math.sqrt(c*c+y*y),A=(Math.abs(M)+Math.abs(w))/2,D=this._fontSize/s,I=0,j=this._activePagesMeshData;I<j.length;I++)j[I].mesh.shader.uniforms.uFWidth=A*i*D*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Bl.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(Ur),Kk=function(){function n(){}return n.add=function(){$r.setExtensionXhrType("fnt",$r.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var r=$k(t.data);if(r)for(var i=n.getBaseUrl(this,t),o=r.parse(t.data),s={},a=function(D){s[D.metadata.pageFile]=D.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=Bl.install(o,s,!0),e())},l=0;l<o.page.length;++l){var u=o.page[l].file,c=i+u,y=!1;for(var M in this.resources){var w=this.resources[M];if(w.url===c){w.metadata.pageFile=u,w.texture?a(w):w.onAfterMiddleware.add(a),y=!0;break}}if(!y){var A={crossOrigin:t.crossOrigin,loadType:$r.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(c,A,a)}}else e()},n.getBaseUrl=function(t,e){var r=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),VC=function(n,t){return(VC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},Hne=function(n){function t(e){void 0===e&&(e=1);var r=n.call(this,$F,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return r.alpha=e,r}return function Vne(n,t){function e(){this.constructor=n}VC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Fl),jC=function(n,t){return(jC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Jk(n,t){function e(){this.constructor=n}jC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var zne={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},$ne=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),bf=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(bf||(bf={})),bf))(),HC=function(n){function t(e,r,i,o,s){void 0===r&&(r=8),void 0===i&&(i=4),void 0===o&&(o=rt.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,l=function Wne(n,t){var o,e=Math.ceil(n/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",i="";o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<n;s++){var a=o.replace("%index%",s.toString());i+=a=a.replace("%sampleIndex%",s-(e-1)+".0"),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",n.toString())}(s,e),u=function Xne(n){for(var s,t=zne[n],e=t.length,r=$ne,i="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=e&&(s=n-a-1),i+=l=l.replace("%value%",t[s].toString()),i+="\n"}return(r=r.replace("%blur%",i)).replace("%size%",n.toString())}(s);return(a=n.call(this,l,u)||this).horizontal=e,a.resolution=o,a._quality=0,a.quality=i,a.blur=r,a}return Jk(t,n),t.prototype.apply=function(e,r,i,o){if(this.uniforms.strength=i?this.horizontal?1/i.width*(i.width/r.width):1/i.height*(i.height/r.height):this.horizontal?1/e.renderer.width*(e.renderer.width/r.width):1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,r,i,o);else{var s=e.getFilterTexture(),a=e.renderer,l=r,u=s;this.state.blend=!1,e.applyFilter(this,l,u,bf.CLEAR);for(var c=1;c<this.passes-1;c++){e.bindAndClear(l,bf.BLIT),this.uniforms.uSampler=u;var y=u;u=l,l=y,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,i,o),e.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Fl),qne=function(n){function t(e,r,i,o){void 0===e&&(e=8),void 0===r&&(r=4),void 0===i&&(i=rt.FILTER_RESOLUTION),void 0===o&&(o=5);var s=n.call(this)||this;return s.blurXFilter=new HC(!0,e,r,i,o),s.blurYFilter=new HC(!1,e,r,i,o),s.resolution=i,s.quality=r,s.blur=e,s.repeatEdgePixels=!1,s}return Jk(t,n),t.prototype.apply=function(e,r,i,o){var s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,bf.CLEAR),this.blurYFilter.apply(e,l,i,o),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,r,i,o):this.blurXFilter.apply(e,r,i,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(Fl),YC=function(n,t){return(YC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},WC=function(n){function t(){var e=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,aC,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",r)||this).alpha=1,e}return function Kne(n,t){function e(){this.constructor=n}YC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,r){void 0===r&&(r=!1);var i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e},t.prototype._colorMatrix=function(e){var r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},t.prototype.brightness=function(e,r){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],r)},t.prototype.tint=function(e,r){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],r)},t.prototype.greyscale=function(e,r){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],r)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,r){e=(e||0)/180*Math.PI;var i=Math.cos(e),o=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([i+(1-i)*a,a*(1-i)-l*o,a*(1-i)+l*o,0,0,a*(1-i)+l*o,i+a*(1-i),a*(1-i)-l*o,0,0,a*(1-i)-l*o,a*(1-i)+l*o,i+a*(1-i),0,0,0,0,0,1,0],r)},t.prototype.contrast=function(e,r){var i=(e||0)+1,o=-.5*(i-1);this._loadMatrix([i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0],r)},t.prototype.saturate=function(e,r){void 0===e&&(e=0);var i=2*e/3+1,o=-.5*(i-1);this._loadMatrix([i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0],r)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,r,i,o,s){var a=((i=i||16770432)>>16&255)/255,l=(i>>8&255)/255,u=(255&i)/255,c=((o=o||3375104)>>16&255)/255,y=(o>>8&255)/255,M=(255&o)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,u,e=e||.2,0,c,y,M,r=r||.15,0,a-c,l-y,u-M,0,0],s)},t.prototype.night=function(e,r){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],r)},t.prototype.predator=function(e,r){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],r)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Fl);WC.prototype.grayscale=WC.prototype.greyscale;var zC=function(n,t){return(zC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},tre=function(n){function t(e,r){var i=this,o=new cr;return e.renderable=!1,(i=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=o,null==r&&(r=20),i.scale=new wr(r,r),i}return function Qne(n,t){function e(){this.constructor=n}zC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,r,i,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(Fl),$C=function(n,t){return($C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},ore=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function nre(n,t){function e(){this.constructor=n}$C(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(Fl),XC=function(n,t){return(XC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},lre=function(n){function t(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random());var i=n.call(this,aC,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=r,i}return function sre(n,t){function e(){this.constructor=n}XC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(Fl),Ey=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(Ey||(Ey={})),Ey))(),Qk=new cr;zr.prototype._cacheAsBitmap=!1,zr.prototype._cacheData=null,zr.prototype._cacheAsBitmapResolution=null,zr.prototype._cacheAsBitmapMultisample=Ey.NONE;var ure=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(zr.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new ure),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),zr.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},zr.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&i.pad(this.filters[0].padding),i.ceil(rt.RESOLUTION);var s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),u=t.projection.transform,c=Vs.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),y="cacheAsBitmap_"+wu();this._cacheData.textureCacheId=y,Xn.addToCache(c.baseTexture,y),Bt.addToCache(c,y);var M=this.transform.localTransform.copyTo(Qk).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:M,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=u,t.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var w=new Bo(c);w.transform.worldTransform=this.transform.worldTransform,w.anchor.x=-i.x/i.width,w.anchor.y=-i.y/i.height,w.alpha=r,w._bounds=this._bounds,this._cacheData.sprite=w,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=w.containsPoint.bind(w)}},zr.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},zr.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;e.ceil(rt.RESOLUTION);var s=Vs.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+wu();this._cacheData.textureCacheId=a,Xn.addToCache(s.baseTexture,a),Bt.addToCache(s,a);var l=Qk;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var u=new Bo(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},zr.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},zr.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},zr.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Xn.removeFromCache(this._cacheData.textureCacheId),Bt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},zr.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},zr.prototype.name=null,Ur.prototype.getChildByName=function(t,e){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var s=this.children[r].getChildByName(t,!0);if(s)return s}return null},zr.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new wr),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var qC=function(n,t){return(qC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Ef(n,t){function e(){this.constructor=n}qC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Zk=function(n){function t(e,r,i,o){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===o&&(o=10);var s=n.call(this)||this;return s.segWidth=i,s.segHeight=o,s.width=e,s.height=r,s.build(),s}return Ef(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,r=[],i=[],o=[],s=this.segWidth-1,a=this.segHeight-1,l=this.width/s,u=this.height/a,c=0;c<e;c++){var y=c%this.segWidth,M=c/this.segWidth|0;r.push(y*l,M*u),i.push(y/s,M/a)}var w=s*a;for(c=0;c<w;c++){var A=c%s,D=c/s|0,j=D*this.segWidth+A+1,W=(D+1)*this.segWidth+A;o.push(D*this.segWidth+A,j,W,j,(D+1)*this.segWidth+A+1,W)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(F_),eB=function(n){function t(e,r,i){void 0===e&&(e=200),void 0===i&&(i=0);var o=n.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return o.points=r,o._width=e,o.textureScale=i,o.build(),o}return Ef(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){r.data.length/4!==e.length&&(r.data=new Float32Array(4*e.length),i.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var s=i.data,a=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var l=0,u=e[0],c=this._width*this.textureScale,y=e.length,M=0;M<y;M++){var w=4*M;if(this.textureScale>0){var A=u.x-e[M].x,D=u.y-e[M].y,I=Math.sqrt(A*A+D*D);u=e[M],l+=I/c}else l=M/(y-1);s[w]=l,s[w+1]=0,s[w+2]=l,s[w+3]=1}var j=0;for(M=0;M<y-1;M++)a[j++]=w=2*M,a[j++]=w+1,a[j++]=w+2,a[j++]=w+2,a[j++]=w+1,a[j++]=w+3;i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var i,r=e[0],o=0,s=0,a=this.buffers[0].data,l=e.length,u=0;u<l;u++){var c=e[u],y=4*u;s=-((i=u<e.length-1?e[u+1]:c).x-r.x),o=i.y-r.y;var M=Math.sqrt(o*o+s*s),w=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=M,s/=M,s*=w,a[y]=c.x+(o*=w),a[y+1]=c.y+s,a[y+2]=c.x-o,a[y+3]=c.y-s,r=c}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(F_),tB=function(n){function t(e,r,i){void 0===i&&(i=0);var o=this,s=new eB(e.height,r,i),a=new Gc(e);return i>0&&(e.baseTexture.wrapMode=Us.REPEAT),(o=n.call(this,s,a)||this).autoUpdate=!0,o}return Ef(t,n),t.prototype._render=function(e){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),n.prototype._render.call(this,e)},t}(Hs),nB=function(n){function t(e,r,i){var o=this,s=new Zk(e.width,e.height,r,i),a=new Gc(Bt.WHITE);return(o=n.call(this,s,a)||this).texture=e,o.autoResize=!0,o}return Ef(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,r=this.shader.texture;this.autoResize&&(e.width!==r.width||e.height!==r.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(Hs),rB=function(n){function t(e,r,i,o,s){void 0===e&&(e=Bt.EMPTY);var a=this,l=new F_(r,i,o);l.getBuffer("aVertexPosition").static=!1;var u=new Gc(e);return(a=n.call(this,l,u,null,s)||this).autoUpdate=!0,a}return Ef(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(Hs),L_=function(n){function t(e,r,i,o,s){void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10),void 0===s&&(s=10);var a=n.call(this,Bt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=r,a._rightWidth=o,a._topHeight=i,a._bottomHeight=s,a.texture=e,a}return Ef(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,i=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>i?1:this._height/i)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,o=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=o*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(nB),KC=function(n,t){return(KC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},iB=function(n){function t(e,r){void 0===r&&(r=!0);var i=n.call(this,e[0]instanceof Bt?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return function cre(n,t){function e(){this.constructor=n}KC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(qi.shared.add(this.update,this,Oa.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var r=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=r/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var r=[],i=0;i<e.length;++i)r.push(Bt.from(e[i]));return new t(r)},t.fromImages=function(e){for(var r=[],i=0;i<e.length;++i)r.push(Bt.from(e[i]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Bt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(qi.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(qi.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Bo);Ma.registerPlugin("accessibility",ET),Ma.registerPlugin("extract",ik),Ma.registerPlugin("interaction",OT),Ma.registerPlugin("particle",Mk),Ma.registerPlugin("prepare",Lk),Ma.registerPlugin("batch",ZF),Ma.registerPlugin("tilingSprite",Yk),yo.registerPlugin(Kk),yo.registerPlugin(_k),yo.registerPlugin(vk),yo.registerPlugin(Sk),yo.registerPlugin(Gk),w_.registerPlugin(fF),w_.registerPlugin(ck);var hre="6.2.2",dre={AlphaFilter:Hne,BlurFilter:qne,BlurFilterPass:HC,ColorMatrixFilter:WC,DisplacementFilter:tre,FXAAFilter:ore,NoiseFilter:lre},JC=function(n,t){return(JC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)},pre=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,r=t.maskObject||t;e.context.save();var i=this._foundShapes;if(this.recursiveFindShapes(r,i),i.length>0){var o=e.context;o.beginPath();for(var s=0;s<i.length;s++){var a=i[s];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}i.length=0,o.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var r=t.children;if(r)for(var i=0;i<r.length;i++)this.recursiveFindShapes(r[i],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,r=t.geometry.graphicsData,i=r.length;if(0!==i)for(var o=0;o<i;o++){var s=r[o],a=s.shape;if(a.type===Qn.POLY){var l=a.points,u=s.holes,c=void 0,y=void 0,M=void 0,w=void 0;e.moveTo(l[0],l[1]);for(var A=1;A<l.length/2;A++)e.lineTo(l[2*A],l[2*A+1]);if(u.length>0){for(c=0,M=l[0],w=l[1],A=2;A+2<l.length;A+=2)c+=(l[A]-M)*(l[A+3]-w)-(l[A+2]-M)*(l[A+1]-w);for(var D=0;D<u.length;D++)if(l=u[D].shape.points){for(y=0,M=l[0],w=l[1],A=2;A+2<l.length;A+=2)y+=(l[A]-M)*(l[A+3]-w)-(l[A+2]-M)*(l[A+1]-w);if(y*c<0)for(e.moveTo(l[0],l[1]),A=2;A<l.length;A+=2)e.lineTo(l[A],l[A+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),A=l.length-4;A>=0;A-=2)e.lineTo(l[A],l[A+1]);u[D].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===Qn.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===Qn.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===Qn.ELIP){var I=2*a.width,j=2*a.height,W=a.x-I/2,re=a.y-j/2,ae=.5522848,Z=I/2*ae,ee=j/2*ae,Ee=W+I,Pe=re+j,ge=W+I/2,Fe=re+j/2;e.moveTo(W,Fe),e.bezierCurveTo(W,Fe-ee,ge-Z,re,ge,re),e.bezierCurveTo(ge+Z,re,Ee,Fe-ee,Ee,Fe),e.bezierCurveTo(Ee,Fe+ee,ge+Z,Pe,ge,Pe),e.bezierCurveTo(ge-Z,Pe,W,Fe+ee,W,Fe),e.closePath()}else if(a.type===Qn.RREC){var Ze=a.x,et=a.y,Ke=a.width,wt=a.height,Ye=a.radius,we=Math.min(Ke,wt)/2;e.moveTo(Ze,et+(Ye=Ye>we?we:Ye)),e.lineTo(Ze,et+wt-Ye),e.quadraticCurveTo(Ze,et+wt,Ze+Ye,et+wt),e.lineTo(Ze+Ke-Ye,et+wt),e.quadraticCurveTo(Ze+Ke,et+wt,Ze+Ke,et+wt-Ye),e.lineTo(Ze+Ke,et+Ye),e.quadraticCurveTo(Ze+Ke,et,Ze+Ke-Ye,et),e.lineTo(Ze+Ye,et),e.quadraticCurveTo(Ze,et,Ze,et+Ye),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function oB(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function sB(){if("undefined"==typeof document)return!1;var n=oB("#ff00ff"),t=oB("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var r=e.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(n,0,0),r.drawImage(t,2,0);var i=r.getImageData(2,0,1,1);if(!i)return!1;var o=i.data;return 255===o[0]&&0===o[1]&&0===o[2]}var gre=new cr,el=function(n){function t(e){var r=n.call(this,Ca.CANVAS,e)||this;if(r.refresh=!0,r.maskManager=new pre(r),r.smoothProperty="imageSmoothingEnabled",r.blendModes=function _re(n){return void 0===n&&(n=[]),sB()?(n[xe.NORMAL]="source-over",n[xe.ADD]="lighter",n[xe.MULTIPLY]="multiply",n[xe.SCREEN]="screen",n[xe.OVERLAY]="overlay",n[xe.DARKEN]="darken",n[xe.LIGHTEN]="lighten",n[xe.COLOR_DODGE]="color-dodge",n[xe.COLOR_BURN]="color-burn",n[xe.HARD_LIGHT]="hard-light",n[xe.SOFT_LIGHT]="soft-light",n[xe.DIFFERENCE]="difference",n[xe.EXCLUSION]="exclusion",n[xe.HUE]="hue",n[xe.SATURATION]="saturate",n[xe.COLOR]="color",n[xe.LUMINOSITY]="luminosity"):(n[xe.NORMAL]="source-over",n[xe.ADD]="lighter",n[xe.MULTIPLY]="source-over",n[xe.SCREEN]="source-over",n[xe.OVERLAY]="source-over",n[xe.DARKEN]="source-over",n[xe.LIGHTEN]="source-over",n[xe.COLOR_DODGE]="source-over",n[xe.COLOR_BURN]="source-over",n[xe.HARD_LIGHT]="source-over",n[xe.SOFT_LIGHT]="source-over",n[xe.DIFFERENCE]="source-over",n[xe.EXCLUSION]="source-over",n[xe.HUE]="source-over",n[xe.SATURATION]="source-over",n[xe.COLOR]="source-over",n[xe.LUMINOSITY]="source-over"),n[xe.NORMAL_NPM]=n[xe.NORMAL],n[xe.ADD_NPM]=n[xe.ADD],n[xe.SCREEN_NPM]=n[xe.SCREEN],n[xe.SRC_IN]="source-in",n[xe.SRC_OUT]="source-out",n[xe.SRC_ATOP]="source-atop",n[xe.DST_OVER]="destination-over",n[xe.DST_IN]="destination-in",n[xe.DST_OUT]="destination-out",n[xe.DST_ATOP]="destination-atop",n[xe.XOR]="xor",n[xe.SUBTRACT]="source-over",n}(),r.renderingToScreen=!1,r._activeBlendMode=null,r._projTransform=null,r._outerBlend=!1,r.rootContext=r.view.getContext("2d",{alpha:r.useContextAlpha}),r.context=r.rootContext,!r.rootContext.imageSmoothingEnabled){var i=r.rootContext;i.webkitImageSmoothingEnabled?r.smoothProperty="webkitImageSmoothingEnabled":i.mozImageSmoothingEnabled?r.smoothProperty="mozImageSmoothingEnabled":i.oImageSmoothingEnabled?r.smoothProperty="oImageSmoothingEnabled":i.msImageSmoothingEnabled&&(r.smoothProperty="msImageSmoothingEnabled")}return r.initPlugins(t.__plugins),aT("Canvas"),r.resize(r.options.width,r.options.height),r}return function fre(n,t){function e(){this.constructor=n}JC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,r){if(this.view){var i,o,s,a;r&&(r instanceof Vs||r instanceof S_?(Ka("6.0.0","CanvasRenderer#render arguments changed, use options instead."),i=r,o=arguments[2],s=arguments[3],a=arguments[4]):(i=r.renderTexture,o=r.clear,s=r.transform,a=r.skipUpdateTransform)),this.renderingToScreen=!i,this.emit("prerender");var l=this.resolution;i?((i=i.castToBaseTexture())._canvasRenderTarget||(i._canvasRenderTarget=new cf(i.width,i.height,i.resolution),i.resource=new E_(i._canvasRenderTarget.canvas),i.valid=!0),this.context=i._canvasRenderTarget.context,this.resolution=i._canvasRenderTarget.resolution):this.context=this.rootContext;var u=this.context;if(this._projTransform=s||null,i||(this._lastObjectRendered=e),!a){var c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}if(u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,this._activeBlendMode=xe.NORMAL,this._outerBlend=!1,u.globalCompositeOperation=this.blendModes[xe.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)u.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(u.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,u.fillStyle=this._backgroundColorString,u.fillRect(0,0,this.width,this.height),u.globalAlpha=1);else{(i=i)._canvasRenderTarget.clear();var y=i.clearColor;y[3]>0&&(u.globalAlpha=this.useContextAlpha?y[3]:1,u.fillStyle=Lv(uT(y)),u.fillRect(0,0,i.realWidth,i.realHeight),u.globalAlpha=1)}var M=this.context;this.context=u,e.renderCanvas(this),this.context=M,u.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,r,i){var o=e,s=this._projTransform,a=this.resolution;i=i||a,s&&((o=gre).copyFrom(e),o.prepend(s)),r?this.context.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*a|0,o.ty*a|0):this.context.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*a,o.ty*a)},t.prototype.clear=function(e,r){void 0===e&&(e=this._backgroundColorString),void 0===r&&(r=this.backgroundAlpha);var i=this.context;i.clearRect(0,0,this.width,this.height),e&&(i.globalAlpha=this.useContextAlpha?r:1,i.fillStyle=e,i.fillRect(0,0,this.width,this.height),i.globalAlpha=1)},t.prototype.setBlendMode=function(e,r){var i=e===xe.SRC_IN||e===xe.SRC_OUT||e===xe.DST_IN||e===xe.DST_ATOP;!r&&i&&(e=xe.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=i,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,r){n.prototype.resize.call(this,e,r),this.smoothProperty&&(this.rootContext[this.smoothProperty]=rt.SCALE_MODE===Mi.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,r){(t.__plugins=t.__plugins||{})[e]=r},t}(sC),yi={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,r="#"+("00000"+(0|(t=yi.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var o,i=e.tintCache[r];if(i){if(i.tintId===e._updateID)return e.tintCache[r];o=e.tintCache[r]}else o=document.createElement("canvas");if(yi.tintMethod(e,t,o),o.tintId=e._updateID,yi.convertTintToImage){var s=new Image;s.src=o.toDataURL(),e.tintCache[r]=s}else e.tintCache[r]=o;return o},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=yi.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var r=n.patternCache[e];return r&&r.tintId===n._updateID||(yi.canvas||(yi.canvas=document.createElement("canvas")),yi.tintMethod(n,t,yi.canvas),(r=yi.canvas.getContext("2d").createPattern(yi.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=r),r},tintWithMultiply:function(n,t,e){var r=e.getContext("2d"),i=n._frame.clone(),o=n.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,e.width=Math.ceil(i.width),e.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply";var s=n.baseTexture.getDrawableSource();r.drawImage(s,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(s,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(n,t,e){var r=e.getContext("2d"),i=n._frame.clone(),o=n.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,e.width=Math.ceil(i.width),e.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(n.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(n,t,e){var r=e.getContext("2d"),i=n._frame.clone(),o=n.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,e.width=Math.ceil(i.width),e.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(n.baseTexture.getDrawableSource(),i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore();for(var s=Il(t),a=s[0],l=s[1],u=s[2],c=r.getImageData(0,0,i.width,i.height),y=c.data,M=0;M<y.length;M+=4)y[M+0]*=a,y[M+1]*=l,y[M+2]*=u;r.putImageData(c,0,0)},roundColor:function(n){var t=yi.cacheStepsPerColorChannel,e=Il(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),uT(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:sB(),tintMethod:null};yi.tintMethod=yi.canUseMultiply?yi.tintWithMultiply:yi.tintWithPerPixel;var mre=Ma.create;Ma.create=function(t){if(!t||!t.forceCanvas)try{return mre(t)}catch(r){}return new el(t)},Xn.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},S_.prototype._canvasRenderTarget=null,Bt.prototype.patternCache=null,Bt.prototype.tintCache=null;var QC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ZC(n,t,e){return n(e={path:t,exports:{},require:function(r,i){return function vre(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var eO=ZC(function(n){var t=Object.prototype.hasOwnProperty,e="~";function r(){}function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,y,M){if("function"!=typeof c)throw new TypeError("The listener must be a function");var w=new i(c,y||l,M),A=e?e+u:u;return l._events[A]?l._events[A].fn?l._events[A]=[l._events[A],w]:l._events[A].push(w):(l._events[A]=w,l._eventsCount++),l}function s(l,u){0==--l._eventsCount?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(e=!1)),a.prototype.eventNames=function(){var c,y,u=[];if(0===this._eventsCount)return u;for(y in c=this._events)t.call(c,y)&&u.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var y=this._events[e?e+u:u];if(!y)return[];if(y.fn)return[y.fn];for(var M=0,w=y.length,A=new Array(w);M<w;M++)A[M]=y[M].fn;return A},a.prototype.listenerCount=function(u){var y=this._events[e?e+u:u];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,c,y,M,w,A){var D=arguments,I=e?e+u:u;if(!this._events[I])return!1;var re,ae,j=this._events[I],W=arguments.length;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),W){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,c),!0;case 3:return j.fn.call(j.context,c,y),!0;case 4:return j.fn.call(j.context,c,y,M),!0;case 5:return j.fn.call(j.context,c,y,M,w),!0;case 6:return j.fn.call(j.context,c,y,M,w,A),!0}for(ae=1,re=new Array(W-1);ae<W;ae++)re[ae-1]=D[ae];j.fn.apply(j.context,re)}else{var ee,Z=j.length;for(ae=0;ae<Z;ae++)switch(j[ae].once&&this.removeListener(u,j[ae].fn,void 0,!0),W){case 1:j[ae].fn.call(j[ae].context);break;case 2:j[ae].fn.call(j[ae].context,c);break;case 3:j[ae].fn.call(j[ae].context,c,y);break;case 4:j[ae].fn.call(j[ae].context,c,y,M);break;default:if(!re)for(ee=1,re=new Array(W-1);ee<W;ee++)re[ee-1]=D[ee];j[ae].fn.apply(j[ae].context,re)}}return!0},a.prototype.on=function(u,c,y){return o(this,u,c,y,!1)},a.prototype.once=function(u,c,y){return o(this,u,c,y,!0)},a.prototype.removeListener=function(u,c,y,M){var w=e?e+u:u;if(!this._events[w])return this;if(!c)return s(this,w),this;var A=this._events[w];if(A.fn)A.fn===c&&(!M||A.once)&&(!y||A.context===y)&&s(this,w);else{for(var D=0,I=[],j=A.length;D<j;D++)(A[D].fn!==c||M&&!A[D].once||y&&A[D].context!==y)&&I.push(A[D]);I.length?this._events[w]=1===I.length?I[0]:I:s(this,w)}return this},a.prototype.removeAllListeners=function(u){var c;return u?this._events[c=e?e+u:u]&&s(this,c):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),yre=ZC(function(n,t){!function(e){var r=t&&!t.nodeType&&t,i=n&&!n.nodeType&&n,o="object"==typeof QC&&QC;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,Ee,a=2147483647,l=36,I=/^xn--/,j=/[^\x20-\x7E]/,W=/[\x2E\u3002\uFF0E\uFF61]/g,re={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z=Math.floor,ee=String.fromCharCode;function Pe(Ve){throw RangeError(re[Ve])}function ge(Ve,gt){for(var Rt=Ve.length,xt=[];Rt--;)xt[Rt]=gt(Ve[Rt]);return xt}function Fe(Ve,gt){var Rt=Ve.split("@"),xt="";return Rt.length>1&&(xt=Rt[0]+"@",Ve=Rt[1]),xt+ge((Ve=Ve.replace(W,".")).split("."),gt).join(".")}function Ze(Ve){for(var At,ir,gt=[],Rt=0,xt=Ve.length;Rt<xt;)(At=Ve.charCodeAt(Rt++))>=55296&&At<=56319&&Rt<xt?56320==(64512&(ir=Ve.charCodeAt(Rt++)))?gt.push(((1023&At)<<10)+(1023&ir)+65536):(gt.push(At),Rt--):gt.push(At);return gt}function et(Ve){return ge(Ve,function(gt){var Rt="";return gt>65535&&(Rt+=ee((gt-=65536)>>>10&1023|55296),gt=56320|1023&gt),Rt+ee(gt)}).join("")}function Ke(Ve){return Ve-48<10?Ve-22:Ve-65<26?Ve-65:Ve-97<26?Ve-97:l}function wt(Ve,gt){return Ve+22+75*(Ve<26)-((0!=gt)<<5)}function Ye(Ve,gt,Rt){var xt=0;for(Ve=Rt?Z(Ve/700):Ve>>1,Ve+=Z(Ve/gt);Ve>455;xt+=l)Ve=Z(Ve/35);return Z(xt+36*Ve/(Ve+38))}function we(Ve){var xt,_n,Vn,bn,on,Qt,jn,Zt,eo,lr,gt=[],Rt=Ve.length,At=0,ir=128,Fn=72;for((_n=Ve.lastIndexOf("-"))<0&&(_n=0),Vn=0;Vn<_n;++Vn)Ve.charCodeAt(Vn)>=128&&Pe("not-basic"),gt.push(Ve.charCodeAt(Vn));for(bn=_n>0?_n+1:0;bn<Rt;){for(on=At,Qt=1,jn=l;bn>=Rt&&Pe("invalid-input"),((Zt=Ke(Ve.charCodeAt(bn++)))>=l||Zt>Z((a-At)/Qt))&&Pe("overflow"),At+=Zt*Qt,!(Zt<(eo=jn<=Fn?1:jn>=Fn+26?26:jn-Fn));jn+=l)Qt>Z(a/(lr=l-eo))&&Pe("overflow"),Qt*=lr;Fn=Ye(At-on,xt=gt.length+1,0==on),Z(At/xt)>a-ir&&Pe("overflow"),ir+=Z(At/xt),At%=xt,gt.splice(At++,0,ir)}return et(gt)}function ze(Ve){var gt,Rt,xt,At,ir,Fn,_n,Vn,bn,on,Qt,Zt,eo,lr,Dn,jn=[];for(Zt=(Ve=Ze(Ve)).length,gt=128,Rt=0,ir=72,Fn=0;Fn<Zt;++Fn)(Qt=Ve[Fn])<128&&jn.push(ee(Qt));for(xt=At=jn.length,At&&jn.push("-");xt<Zt;){for(_n=a,Fn=0;Fn<Zt;++Fn)(Qt=Ve[Fn])>=gt&&Qt<_n&&(_n=Qt);for(_n-gt>Z((a-Rt)/(eo=xt+1))&&Pe("overflow"),Rt+=(_n-gt)*eo,gt=_n,Fn=0;Fn<Zt;++Fn)if((Qt=Ve[Fn])<gt&&++Rt>a&&Pe("overflow"),Qt==gt){for(Vn=Rt,bn=l;!(Vn<(on=bn<=ir?1:bn>=ir+26?26:bn-ir));bn+=l)jn.push(ee(wt(on+(Dn=Vn-on)%(lr=l-on),0))),Vn=Z(Dn/lr);jn.push(ee(wt(Vn,0))),ir=Ye(Rt,eo,xt==At),Rt=0,++xt}++Rt,++gt}return jn.join("")}if(s={version:"1.3.2",ucs2:{decode:Ze,encode:et},decode:we,encode:ze,toASCII:function Tt(Ve){return Fe(Ve,function(gt){return j.test(gt)?"xn--"+ze(gt):gt})},toUnicode:function st(Ve){return Fe(Ve,function(gt){return I.test(gt)?we(gt.slice(4).toLowerCase()):gt})}},r&&i)if(n.exports==r)i.exports=s;else for(Ee in s)s.hasOwnProperty(Ee)&&(r[Ee]=s[Ee]);else e.punycode=s}(QC)}),tl_isString=function(n){return"string"==typeof n},tl_isObject=function(n){return"object"==typeof n&&null!==n},tl_isNull=function(n){return null===n};function bre(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Ere=function(n,t,e,r){e=e||"=";var i={};if("string"!=typeof n||0===n.length)return i;var o=/\+/g;n=n.split(t=t||"&");var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var y,M,w,A,u=n[l].replace(o,"%20"),c=u.indexOf(e);c>=0?(y=u.substr(0,c),M=u.substr(c+1)):(y=u,M=""),w=decodeURIComponent(y),A=decodeURIComponent(M),bre(i,w)?Array.isArray(i[w])?i[w].push(A):i[w]=[i[w],A]:i[w]=A}return i},U_=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},Sre=function(n,t,e,r){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(i){var o=encodeURIComponent(U_(i))+e;return Array.isArray(n[i])?n[i].map(function(s){return o+encodeURIComponent(U_(s))}).join(t):o+encodeURIComponent(U_(n[i]))}).join(t):r?encodeURIComponent(U_(r))+e+encodeURIComponent(U_(n)):""},tO=ZC(function(n,t){t.decode=t.parse=Ere,t.encode=t.stringify=Sre}),Tre=Ty;function Aa(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Mre=/^([a-z0-9.+-]+:)/i,wre=/:[0-9]*$/,Pre=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Rre=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),nO=["'"].concat(Rre),aB=["%","/","?",";","#"].concat(nO),lB=["/","?","#"],uB=/^[+a-z0-9A-Z_-]{0,63}$/,xre=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ire={javascript:!0,"javascript:":!0},rO={javascript:!0,"javascript:":!0},Sf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ty(n,t,e){if(n&&tl_isObject(n)&&n instanceof Aa)return n;var r=new Aa;return r.parse(n,t,e),r}Aa.prototype.parse=function(n,t,e){if(!tl_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=-1!==r&&r<n.indexOf("#")?"?":"#",o=n.split(i);o[0]=o[0].replace(/\\/g,"/");var a=n=o.join(i);if(a=a.trim(),!e&&1===n.split("#").length){var l=Pre.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?tO.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Mre.exec(a);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,a=a.substr(u.length)}if(e||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var y="//"===a.substr(0,2);y&&(!u||!rO[u])&&(a=a.substr(2),this.slashes=!0)}if(!rO[u]&&(y||u&&!Sf[u])){for(var M=-1,w=0;w<lB.length;w++)-1!==(A=a.indexOf(lB[w]))&&(-1===M||A<M)&&(M=A);var D,I;for(-1!==(I=-1===M?a.lastIndexOf("@"):a.lastIndexOf("@",M))&&(D=a.slice(0,I),a=a.slice(I+1),this.auth=decodeURIComponent(D)),M=-1,w=0;w<aB.length;w++){var A;-1!==(A=a.indexOf(aB[w]))&&(-1===M||A<M)&&(M=A)}-1===M&&(M=a.length),this.host=a.slice(0,M),a=a.slice(M),this.parseHost(),this.hostname=this.hostname||"";var j="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!j)for(var W=this.hostname.split(/\./),re=(w=0,W.length);w<re;w++){var ae=W[w];if(ae&&!ae.match(uB)){for(var Z="",ee=0,Ee=ae.length;ee<Ee;ee++)ae.charCodeAt(ee)>127?Z+="x":Z+=ae[ee];if(!Z.match(uB)){var Pe=W.slice(0,w),ge=W.slice(w+1),Fe=ae.match(xre);Fe&&(Pe.push(Fe[1]),ge.unshift(Fe[2])),ge.length&&(a="/"+ge.join(".")+a),this.hostname=Pe.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),j||(this.hostname=yre.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Ire[c])for(w=0,re=nO.length;w<re;w++){var Ke=nO[w];if(-1!==a.indexOf(Ke)){var wt=encodeURIComponent(Ke);wt===Ke&&(wt=escape(Ke)),a=a.split(Ke).join(wt)}}var Ye=a.indexOf("#");-1!==Ye&&(this.hash=a.substr(Ye),a=a.slice(0,Ye));var we=a.indexOf("?");return-1!==we?(this.search=a.substr(we),this.query=a.substr(we+1),t&&(this.query=tO.parse(this.query)),a=a.slice(0,we)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Sf[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},Aa.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=n+this.host:this.hostname&&(i=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&tl_isObject(this.query)&&Object.keys(this.query).length&&(o=tO.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Sf[t])&&!1!==i?(i="//"+(i||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+r},Aa.prototype.resolve=function(n){return this.resolveObject(Ty(n,!1,!0)).format()},Aa.prototype.resolveObject=function(n){if(tl_isString(n)){var t=new Aa;t.parse(n,!1,!0),n=t}for(var e=new Aa,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];e[o]=this[o]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(e[l]=n[l])}return Sf[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!Sf[n.protocol]){for(var u=Object.keys(n),c=0;c<u.length;c++){var y=u[c];e[y]=n[y]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||rO[n.protocol])e.pathname=n.pathname;else{for(var re=(n.pathname||"").split("/");re.length&&!(n.host=re.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==re[0]&&re.unshift(""),re.length<2&&re.unshift(""),e.pathname=re.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var A=e.pathname&&"/"===e.pathname.charAt(0),D=n.host||n.pathname&&"/"===n.pathname.charAt(0),I=D||A||e.host&&n.pathname,j=I,W=e.pathname&&e.pathname.split("/")||[],ae=(re=n.pathname&&n.pathname.split("/")||[],e.protocol&&!Sf[e.protocol]);if(ae&&(e.hostname="",e.port=null,e.host&&(""===W[0]?W[0]=e.host:W.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===re[0]?re[0]=n.host:re.unshift(n.host)),n.host=null),I=I&&(""===re[0]||""===W[0])),D)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,W=re;else if(re.length)W||(W=[]),W.pop(),W=W.concat(re),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return ae&&(e.hostname=e.host=W.shift(),(Z=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=Z.shift(),e.host=e.hostname=Z.shift())),e.search=n.search,e.query=n.query,(!tl_isNull(e.pathname)||!tl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!W.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var ee=W.slice(-1)[0],Ee=(e.host||n.host||W.length>1)&&("."===ee||".."===ee)||""===ee,Pe=0,ge=W.length;ge>=0;ge--)"."===(ee=W[ge])?W.splice(ge,1):".."===ee?(W.splice(ge,1),Pe++):Pe&&(W.splice(ge,1),Pe--);if(!I&&!j)for(;Pe--;Pe)W.unshift("..");I&&""!==W[0]&&(!W[0]||"/"!==W[0].charAt(0))&&W.unshift(""),Ee&&"/"!==W.join("/").substr(-1)&&W.push("");var Z,Fe=""===W[0]||W[0]&&"/"===W[0].charAt(0);return ae&&(e.hostname=e.host=Fe?"":W.length?W.shift():"",(Z=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=Z.shift(),e.host=e.hostname=Z.shift())),(I=I||e.host&&W.length)&&!Fe&&W.unshift(""),W.length?e.pathname=W.join("/"):(e.pathname=null,e.path=null),(!tl_isNull(e.pathname)||!tl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},Aa.prototype.parseHost=function(){var n=this.host,t=wre.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var kre={parse:Tre,format:function Nre(n){return tl_isString(n)&&(n=Ty(n)),n instanceof Aa?n.format():Aa.prototype.format.call(n)},resolve:function Fre(n,t){return Ty(n,!1,!0).resolve(t)}};rt.RETINA_PREFIX=/@([0-9\.]+)x/,rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iO,cB=!1,jre=function Vre(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[xe.NORMAL_NPM]=xe.NORMAL,n[xe.ADD_NPM]=xe.ADD,n[xe.SCREEN_NPM]=xe.SCREEN,t[xe.NORMAL]=xe.NORMAL_NPM,t[xe.ADD]=xe.ADD_NPM,t[xe.SCREEN]=xe.SCREEN_NPM;var r=[];return r.push(t),r.push(n),r}();function dB(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function Cy(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function fB(n){return!(n&n-1||!n)}function pB(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var Wre=0;function G_(){return++Wre}var _B={};function Vc(n,t,e){if(void 0===e&&(e=3),!_B[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(r=r.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(r))),_B[t]=!0}}var Oy,gB={},Ll=Object.create(null),jc=Object.create(null);function mB(n,t){var e=rt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||rt.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var bo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,r,i,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,y=u.items;this._aliasCount++;for(var M=0,w=y.length;M<w;M++)y[M][c](t,e,r,i,o,s,a,l);return y===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(bo.prototype,{dispatch:{value:bo.prototype.emit},run:{value:bo.prototype.emit}}),rt.TARGET_FPMS=.06;var V_=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(V_||(V_={})),V_))(),oO=function(){function n(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=r,this.once=i}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Tf=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new oO(null,null,1/0),this.deltaMS=1/rt.TARGET_FPMS,this.elapsedMS=1/rt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,r){return void 0===r&&(r=V_.NORMAL),this._addListener(new oO(t,e,r))},n.prototype.addOnce=function(t,e,r){return void 0===r&&(r=V_.NORMAL),this._addListener(new oO(t,e,r,!0))},n.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var r=t-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=t-r%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*rt.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,rt.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),$re=2*Math.PI,My=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(My||(My={})),My))(),Eo=function(){function n(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=My.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(o-i,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=r-e,this.y=i,this.height=o-i,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Ru=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),wy=function(){function n(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),_s=function(){function n(t,e,r,i,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=r,this.d=i,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,r,i,o,s){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},n.prototype.apply=function(t,e){e=e||new Ru;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Ru;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return e.x=this.d*r*i+-this.c*r*o+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*o+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,o=this.c,s=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=o*e-this.d*r,this.d=o*r+this.d*e,this.tx=s*e-this.ty*r,this.ty=s*r+this.ty*e,this},n.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,o=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*o,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*o,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,r,i,o,s,a,l,u){return this.a=Math.cos(a+u)*o,this.b=Math.sin(a+u)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-i,o),l=Math.atan2(r,e),u=Math.abs(a+l);return u<1e-5||Math.abs($re-u)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(s.x*e+s.y*i),t.position.y=this.ty+(s.x*r+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,o=this.tx,s=t*i-e*r;return this.a=i/s,this.b=-e/s,this.c=-r/s,this.d=t/s,this.tx=(r*this.ty-i*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),Hc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Yc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Wc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],zc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],sO=[],vB=[],Py=Math.sign;!function Xre(){for(var n=0;n<16;n++){var t=[];sO.push(t);for(var e=0;e<16;e++)for(var r=Py(Hc[n]*Hc[e]+Wc[n]*Yc[e]),i=Py(Yc[n]*Hc[e]+zc[n]*Yc[e]),o=Py(Hc[n]*Wc[e]+Wc[n]*zc[e]),s=Py(Yc[n]*Wc[e]+zc[n]*zc[e]),a=0;a<16;a++)if(Hc[a]===r&&Yc[a]===i&&Wc[a]===o&&zc[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new _s;l.set(Hc[n],Yc[n],Wc[n],zc[n],0,0),vB.push(l)}}();var Xr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return Hc[n]},uY:function(n){return Yc[n]},vX:function(n){return Wc[n]},vY:function(n){return zc[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return sO[n][t]},sub:function(n,t){return sO[n][Xr.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?Xr.S:Xr.N:2*Math.abs(t)<=Math.abs(n)?n>0?Xr.E:Xr.W:t>0?n>0?Xr.SE:Xr.SW:n>0?Xr.NE:Xr.NW},matrixAppendRotationInv:function(n,t,e,r){void 0===e&&(e=0),void 0===r&&(r=0);var i=vB[Xr.inv(t)];i.tx=e,i.ty=r,n.append(i)}};!function(){function n(){this.worldTransform=new _s,this.localTransform=new _s,this.position=new wy(this.onChange,this,0,0),this.scale=new wy(this.onChange,this,1,1),this.pivot=new wy(this.onChange,this,0,0),this.skew=new wy(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),rt.PREFER_ENV=ds.any?$i.WEBGL:$i.WEBGL2,rt.STRICT_TEXTURE_CACHE=!1;var Ay=[];function aO(n,t){if(!n)return null;var e="";if("string"==typeof n){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(e=r[1].toLowerCase())}for(var i=Ay.length-1;i>=0;--i){var o=Ay[i];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var lO=function(n,t){return(lO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function Ar(n,t){function e(){this.constructor=n}lO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var uO=function(){return uO=Object.assign||function(t){for(var r,e=arguments,i=1,o=arguments.length;i<o;i++)for(var s in r=e[i])Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);return t},uO.apply(this,arguments)},Cf=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new bo("setRealSize"),this.onUpdate=new bo("update"),this.onError=new bo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,r){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),Ry=function(n){function t(e,r){var i=this,o=r||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(i=n.call(this,s,a)||this).data=e,i}return Ar(t,n),t.prototype.upload=function(e,r,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK);var s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?o.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,o.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Cf),Kre={scaleMode:Mi.NEAREST,format:Be.RGBA,alphaMode:Xi.NPM},Gi=function(n){function t(e,r){void 0===e&&(e=null),void 0===r&&(r=null);var i=n.call(this)||this,o=(r=r||{}).alphaMode,s=r.mipmap,a=r.anisotropicLevel,l=r.scaleMode,u=r.width,c=r.height,y=r.wrapMode,M=r.format,w=r.type,A=r.target,D=r.resolution;return e&&!(e instanceof Cf)&&((e=aO(e,r.resourceOptions)).internal=!0),i.resolution=D||rt.RESOLUTION,i.width=Math.round((u||0)*i.resolution)/i.resolution,i.height=Math.round((c||0)*i.resolution)/i.resolution,i._mipmap=void 0!==s?s:rt.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==a?a:rt.ANISOTROPIC_LEVEL,i._wrapMode=y||rt.WRAP_MODE,i._scaleMode=void 0!==l?l:rt.SCALE_MODE,i.format=M||Be.RGBA,i.type=w||_t.UNSIGNED_BYTE,i.target=A||zo.TEXTURE_2D,i.alphaMode=void 0!==o?o:Xi.UNPACK,i.uid=G_(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=u>0&&c>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Ar(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,r){var i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==r&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,r,i){return this.setRealSize(e*(i=i||this.resolution),r*i,i)},t.prototype.setRealSize=function(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=fB(this.realWidth)&&fB(this.realHeight)},t.prototype.setResolution=function(e){var r=this.resolution;return r===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete jc[this.cacheId],delete Ll[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,i){void 0===i&&(i=rt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+G_()),s=e._pixiId);var l=jc[s];if(o&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,r)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,r,i,o){e=e||new Float32Array(r*i*4);var s=new Ry(e,{width:r,height:i}),a=e instanceof Float32Array?_t.FLOAT:_t.UNSIGNED_BYTE;return new t(s,Object.assign(Kre,o||{width:r,height:i,type:a}))},t.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),jc[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),jc[r]=e)},t.removeFromCache=function(e){if("string"==typeof e){var r=jc[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete jc[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete jc[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(eO),cO=function(n){function t(e,r){var i=this,o=r||{};(i=n.call(this,o.width,o.height)||this).items=[],i.itemDirtyIds=[];for(var l=0;l<e;l++){var u=new Gi;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return Ar(t,n),t.prototype.initFromArray=function(e,r){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):this.addResourceAt(e[i]instanceof Cf?e[i]:aO(e[i],r),i))},t.prototype.dispose=function(){for(var e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=r.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(Cf),yB=function(n){function t(e,r){var l,u,i=this,o=r||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,u=e.length):u=e,i=n.call(this,u,{width:s,height:a})||this,l&&i.initFromArray(l,r),i}return Ar(t,n),t.prototype.addBaseTextureAt=function(e,r){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,r),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=zo.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,r,i){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,u=e.gl;i.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,s,0,r.format,i.type,null);for(var c=0;c<s;c++){var y=l[c];a[c]<y.dirtyId&&(a[c]=y.dirtyId,y.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,y.resource.width,y.resource.height,1,r.format,i.type,y.resource.source))}return!0},t}(cO),Ul=function(n){function t(e){var r=this;return(r=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,r.noSubImage=!1,r}return Ar(t,n),t.crossOrigin=function(e,r,i){void 0===i&&0!==r.indexOf("data:")?e.crossOrigin=function zre(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,Oy||(Oy=document.createElement("a")),Oy.href=n;var e=kre.parse(Oy.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(r):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},t.prototype.upload=function(e,r,i,o){var s=e.gl,a=r.realWidth,l=r.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK),this.noSubImage||r.target!==s.TEXTURE_2D||i.width!==a||i.height!==l?(i.width=a,i.height=l,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Cf),hO=function(n){function t(e){return n.call(this,e)||this}return Ar(t,n),t.test=function(e){var r=self.OffscreenCanvas;return!!(r&&e instanceof r)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(Ul),bB=function(n){function t(e,r){var i=this,o=r||{},s=o.width,a=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=n.call(this,6,{width:s,height:a})||this;for(var c=0;c<t.SIDES;c++)i.items[c].target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+c;return i.linkBaseTexture=!1!==u,e&&i.initFromArray(e,r),!1!==l&&i.load(),i}return Ar(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=zo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,r,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,r)}else e.target=zo.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this},t.prototype.upload=function(e,r,i){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,i),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(cO),dO=function(n){function t(e,r){var i=this;if(r=r||{},!(e instanceof HTMLImageElement)){var o=new Image;Ul.crossOrigin(o,e,r.crossorigin),o.src=e,e=o}return i=n.call(this,e)||this,!e.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:rt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return Ar(t,n),t.prototype.load=function(e){var r=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(i,o){var s=r.source;r.url=s.src;var a=function(){r.destroyed||(s.onload=null,s.onerror=null,r.resize(s.width,s.height),r._load=null,i(r.createBitmap?r.process():r))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),r.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,r=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var i=self.createImageBitmap;return this._process=fetch(r.src,{mode:r.crossOrigin&&"anonymous"!==r.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return i(s,0,0,r.width,r.height,{premultiplyAlpha:e.alphaMode===Xi.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var o=!0,s=r._glTextures;for(var a in s){var l=s[a];if(l!==i&&l.dirtyId!==r.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(Ul),EB=function(n){function t(e,r){var i=this;return r=r||{},(i=n.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return Ar(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,r=new Image;Ul.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(i){!e._resolve||(r.onerror=null,e.onError.emit(i))},r.onload=function(){if(e._resolve){var i=r.width,o=r.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=i*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*i,a=e._overrideHeight||e._overrideWidth/i*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+G_(),l.getContext("2d").drawImage(r,0,0,i,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Ul),SB=function(n){function t(e,r){var i=this;if(r=r||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),Ul.crossOrigin(o,e[0].src||e[0],r.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),u=e[a],c=u.src,y=u.mime,M=(c=c||e[a]).split("?").shift().toLowerCase(),w=M.substr(M.lastIndexOf(".")+1);y=y||t.MIME_TYPES[w]||"video/"+w,l.src=c,l.type=y,o.appendChild(l)}e=o}return(i=n.call(this,e)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return Ar(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Tf.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,r.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Tf.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Tf.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(e.videoWidth,e.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Tf.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Tf.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Tf.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Ul),TB=function(n){function t(e){return n.call(this,e)||this}return Ar(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(Ul);Ay.push(dO,TB,hO,SB,EB,Ry,bB,yB);var CB={__proto__:null,Resource:Cf,BaseImageResource:Ul,INSTALLED:Ay,autoDetectResource:aO,AbstractMultiResource:cO,ArrayResource:yB,BufferResource:Ry,CanvasResource:hO,CubeResource:bB,ImageResource:dO,SVGResource:EB,VideoResource:SB,ImageBitmapResource:TB},Jre=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Ar(t,n),t.prototype.upload=function(e,r,i){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Xi.UNPACK);var s=r.realWidth,a=r.realHeight;return i.width===s&&i.height===a?o.texSubImage2D(r.target,0,0,0,s,a,r.format,i.type,this.data):(i.width=s,i.height=a,o.texImage2D(r.target,0,i.internalFormat,s,a,0,r.format,i.type,this.data)),!0},t}(Ry),fO=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new bo("disposeFramebuffer"),this.multisample=Tn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Gi(null,{scaleMode:Mi.NEAREST,resolution:1,mipmap:Fo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Gi(new Jre(null,{width:this.width,height:this.height}),{scaleMode:Mi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Fo.OFF,format:Be.DEPTH_COMPONENT,type:_t.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r];i.setSize(t/(o=i.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),OB=function(n){function t(e){var r=this;if("number"==typeof e){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:i,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Tn.NONE,(r=n.call(this,null,e)||this).mipmap=Fo.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new fO(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=e.multisample,r.maskStack=[],r.filterStack=[{}],r}return Ar(t,n),t.prototype.resize=function(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Gi),MB=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,r){var i=e.width,o=e.height;if(r){var s=t.width/2/i,a=t.height/2/o,l=t.x/i+s,u=t.y/o+a;r=Xr.add(r,Xr.NW),this.x0=l+s*Xr.uX(r),this.y0=u+a*Xr.uY(r),r=Xr.add(r,2),this.x1=l+s*Xr.uX(r),this.y1=u+a*Xr.uY(r),r=Xr.add(r,2),this.x2=l+s*Xr.uX(r),this.y2=u+a*Xr.uY(r),r=Xr.add(r,2),this.x3=l+s*Xr.uX(r),this.y3=u+a*Xr.uY(r)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),wB=new MB,nl=function(n){function t(e,r,i,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new Eo(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=r,l.trim=o,l.valid=!1,l._uvs=wB,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Ru(a.x,a.y):new Ru(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=r:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Ar(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture.resource;r&&r.url&&Ll[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&e,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},t.prototype.updateUvs=function(){this._uvs===wB&&(this._uvs=new MB),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=rt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Gi?(e.cacheId||(e.cacheId=(r&&r.pixiIdPrefix||"pixiid")+"-"+G_(),Gi.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(r&&r.pixiIdPrefix||"pixiid")+"_"+G_()),s=e._pixiId);var l=Ll[s];if(o&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Gi?!l&&e instanceof Gi&&(l=new t(e),t.addToCache(l,s)):(r.resolution||(r.resolution=mB(e)),(l=new t(new Gi(e,r))).baseTexture.cacheId=s,Gi.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),o=t.from(e,Object.assign({resourceOptions:i},r),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,r,i,o){return new t(Gi.fromBuffer(e,r,i,o))},t.fromLoader=function(e,r,i,o){var s=new Gi(e,Object.assign({scaleMode:rt.SCALE_MODE,resolution:mB(r)},o)),a=s.resource;a instanceof dO&&(a.url=r);var l=new t(s);return i||(i=r),Gi.addToCache(l.baseTexture,i),t.addToCache(l,i),i!==r&&(Gi.addToCache(l.baseTexture,r),t.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},t.addToCache=function(e,r){r&&(-1===e.textureCacheIds.indexOf(r)&&e.textureCacheIds.push(r),Ll[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),Ll[r]=e)},t.removeFromCache=function(e){if("string"==typeof e){var r=Ll[e];if(r){var i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete Ll[e],r}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)Ll[e.textureCacheIds[o]]===e&&delete Ll[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var r=e.x,i=e.y,o=e.width,s=e.height,a=r+o>this.baseTexture.width,l=i+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+r+" + "+o+" = "+(r+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(eO);function Dy(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}nl.EMPTY=new nl(new Gi),Dy(nl.EMPTY),Dy(nl.EMPTY.baseTexture),nl.WHITE=function Qre(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new nl(new Gi(new hO(n)))}(),Dy(nl.WHITE),Dy(nl.WHITE.baseTexture);var pO=function(n){function t(e,r){var i=n.call(this,e,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Ar(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,r,i){void 0===i&&(i=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(r*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var r=this.baseTexture;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))},t.create=function(e){for(var r=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=r[o];return"number"==typeof e&&(Vc("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new OB(e))},t}(nl),Zre=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,r){void 0===r&&(r=Tn.NONE);var i=new OB(Object.assign({width:t,height:e,resolution:1,multisample:r},this.textureOptions));return new pO(i)},n.prototype.getOptimalTexture=function(t,e,r,i){var o;void 0===r&&(r=1),void 0===i&&(i=Tn.NONE),t=Math.ceil(t*r),e=Math.ceil(e*r),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=i>1?-i:-1:(o=((65535&(t=Cy(t)))<<16|65535&(e=Cy(e)))>>>0,i>1&&(o+=4294967296*i)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,i)),s.filterPoolKey=o,s.setResolution(r),s},n.prototype.getFilterTexture=function(t,e,r){var i=this.getOptimalTexture(t.width,t.height,e||t.resolution,r||Tn.NONE);return i.filterFrame=t.filterFrame,i},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var r=this.texturePool[e];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),PB=function(){function n(t,e,r,i,o,s,a){void 0===e&&(e=0),void 0===r&&(r=!1),void 0===i&&(i=_t.FLOAT),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,r,i,o){return new n(t,e,r,i,o)},n}(),eie=0,gs=function(){function n(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=eie++,this.disposeRunner=new bo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Pi.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Pi.ELEMENT_ARRAY_BUFFER:Pi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),tie={Float32Array,Uint32Array,Int32Array,Uint8Array},AB={5126:4,5123:2,5121:1},rie=0,iie={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},_O=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=rie++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new bo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,r,i,o,s,a,l){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof gs||(e instanceof Array&&(e=new Float32Array(e)),e=new gs(e));var u=t.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],e,r,i,o);return this}var y=this.buffers.indexOf(e);return-1===y&&(this.buffers.push(e),y=this.buffers.length-1),this.attributes[t]=new PB(y,r,i,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof gs||(t instanceof Array&&(t=new Uint16Array(t)),t=new gs(t)),t.type=Pi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var i,t=[],e=[],r=new gs;for(i in this.attributes){var o=this.attributes[i];t.push(this.buffers[o.buffer].data),e.push(o.size*AB[o.type]/4),o.buffer=0}for(r.data=function nie(n,t){for(var e=0,r=0,i={},o=0;o<n.length;o++)r+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],c=n[o],y=dB(c);i[y]||(i[y]=new tie[y](s)),a=i[y];for(var M=0;M<c.length;M++)a[(M/u|0)*r+l+M%u]=c[M];l+=u}return new Float32Array(s)}(t,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new gs(this.buffers[e].data.slice(0));for(var e in this.attributes){var r=this.attributes[e];t.attributes[e]=new PB(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,r=[],i=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)i[l]=i[l]||0,i[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)r[a]=new(iie[dB(s.buffers[a].data)])(i[a]),e.buffers[a]=new gs(r[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)r[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Pi.ELEMENT_ARRAY_BUFFER;var u=0,c=0,y=0,M=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){M=a;break}for(var a in s.attributes){var w=s.attributes[a];(0|w.buffer)===M&&(c+=w.size*AB[w.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+y]+=u;u+=t[a].buffers[M].data.length/c,y+=A.length}}return e},n}(),oie=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Ar(t,n),t}(_O),sie=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new gs(e.vertices),e.uvBuffer=new gs(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Ar(t,n),t.prototype.map=function(e,r){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+r.width/e.width,this.uvs[3]=o,this.uvs[4]=i+r.width/e.width,this.uvs[5]=o+r.height/e.height,this.uvs[6]=i,this.uvs[7]=o+r.height/e.height,o=r.y,this.vertices[0]=i=r.x,this.vertices[1]=o,this.vertices[2]=i+r.width,this.vertices[3]=o,this.vertices[4]=i+r.width,this.vertices[5]=o+r.height,this.vertices[6]=i,this.vertices[7]=o+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(_O),aie=0,Of=function(){function n(t,e,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=aie++,this.static=!!e,this.ubo=!!r,t instanceof gs?(this.buffer=t,this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new gs(new Float32Array(1)),this.buffer.type=Pi.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,r)},n.from=function(t,e,r){return new n(t,e,r)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),lie=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Tn.NONE,this.sourceFrame=new Eo,this.destinationFrame=new Eo,this.bindingSourceFrame=new Eo,this.bindingDestinationFrame=new Eo,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),xy=[new Ru,new Ru,new Ru,new Ru],gO=new _s,RB=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new Zre,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new oie,this.quadUv=new sie,this.tempRect=new Eo,this.activeState={},this.globalUniforms=new Of({outputFrame:new Eo,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var r,i,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new lie,l=this.renderer.renderTexture,u=e[0].resolution,c=e[0].multisample,y=e[0].padding,M=e[0].autoFit,w=null===(r=e[0].legacy)||void 0===r||r,A=1;A<e.length;A++){var D=e[A];u=Math.min(u,D.resolution),c=Math.min(c,D.multisample),y=this.useMaxPadding?Math.max(y,D.padding):y+D.padding,M=M&&D.autoFit,w=w||null===(i=D.legacy)||void 0===i||i}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=u,a.multisample=c,a.legacy=w,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(y),M){var I=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(gO.copyFrom(o.projection.transform).invert(),I),a.sourceFrame.fit(I)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,c),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var j=this.tempRect;j.x=0,j.y=0,j.width=a.sourceFrame.width,j.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,j),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var o=i.inputSize,s=i.inputPixel,a=i.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=i.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,e.renderTexture,u.renderTexture,vo.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,y=this.getOptimalFilterTexture(c.width,c.height,e.resolution);y.filterFrame=c.filterFrame;var M=0;for(M=0;M<r.length-1;++M){1===M&&e.multisample>1&&((y=this.getOptimalFilterTexture(c.width,c.height,e.resolution)).filterFrame=c.filterFrame),r[M].apply(this,c,y,vo.CLEAR,e);var w=c;c=y,y=w}r[M].apply(this,c,u.renderTexture,vo.BLEND,e),M>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(y)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=vo.CLEAR);var r=this.renderer,i=r.renderTexture,o=r.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,i.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===vo.CLEAR||e===vo.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,r,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(r,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(ro.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(ro.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,o=r.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,i.x,i.y),l=e.worldTransform.copyTo(_s.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,r,i){return void 0===r&&(r=1),void 0===i&&(i=Tn.NONE),this.texturePool.getOptimalTexture(t,e,r,i)},n.prototype.getFilterTexture=function(t,e,r){if("number"==typeof t){var i=t;t=e,e=i}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,r||Tn.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var r=xy[0],i=xy[1],o=xy[2],s=xy[3];r.set(e.left,e.top),i.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(r,r),t.apply(i,i),t.apply(o,o),t.apply(s,s);var a=Math.min(r.x,i.x,o.x,s.x),l=Math.min(r.y,i.y,o.y,s.y),u=Math.max(r.x,i.x,o.x,s.x),c=Math.max(r.y,i.y,o.y,s.y);e.x=a,e.y=l,e.width=u-a,e.height=c-l},n.prototype.roundFrame=function(t,e,r,i,o){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(o){var s=o.a,l=o.c,u=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(u)>1e-4))return}(o=o?gO.copyFrom(o):gO.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),DB=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),xB=function(){function n(t){this.renderer=t,this.emptyRenderer=new DB(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var r=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=r[i]||null,t[i]&&(t[i]._batchLocation=i)},n.prototype.boundArray=function(t,e,r,i){for(var o=t.elements,s=t.ids,a=t.count,l=0,u=0;u<a;u++){var c=o[u],y=c._batchLocation;if(y>=0&&y<i&&e[y]===c)s[u]=y;else for(;l<i;){var M=e[l];if(!M||M._batchEnabled!==r||M._batchLocation!==l){s[u]=l,c._batchLocation=l,e[l]=c;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),IB=0,NB=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=IB++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=IB++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var r;if(rt.PREFER_ENV>=$i.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),r="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;r&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),uie=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Tn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},cie=new Eo,FB=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new fO(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Eo,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;rt.PREFER_ENV===$i.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,r){void 0===r&&(r=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=r),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var c=(l=e.width>>r)/e.width;this.setViewport(e.x*c,e.y*c,l,e.height>>r)}else{var l;this.setViewport(0,0,l=t.width>>r,t.height>>r)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,r,i){var o=this.viewport;t=Math.round(t),e=Math.round(e),r=Math.round(r),i=Math.round(i),(o.width!==r||o.height!==i||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=r,o.height=i,this.gl.viewport(t,e,r,i))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,r,i,o){void 0===o&&(o=Ou.COLOR|Ou.DEPTH);var s=this.gl;s.clearColor(t,e,r,i),s.clear(o)},n.prototype.initFramebuffer=function(t){var r=new uie(this.gl.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},n.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,r.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.RGBA8,t.width,t.height)),r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),r.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,r.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=i[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var r=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var u=o[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),(0!==l||!i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,e),a.push(r.COLOR_ATTACHMENT0+l))}if(a.length>1&&r.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var M=t.depthTexture;this.renderer.texture.bind(M,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,M._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,r=Tn.NONE;if(t<=1||null===e)return r;for(var i=0;i<e.length;i++)if(e[i]<=t){r=e[i];break}return 1===r&&(r=Tn.NONE),r},n.prototype.blit=function(t,e,r){var i=this,o=i.current,a=i.gl;if(2===i.renderer.context.webGLVersion&&o){var u=o.glFramebuffers[i.CONTEXT_UID];if(u){if(!t){if(!u.msaaBuffer)return;var c=o.colorTextures[0];if(!c)return;u.blitFramebuffer||(u.blitFramebuffer=new fO(o.width,o.height),u.blitFramebuffer.addColorTexture(0,c)),(t=u.blitFramebuffer).colorTextures[0]!==c&&(t.colorTextures[0]=c,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=cie).width=o.width,e.height=o.height),r||(r=e);var y=e.width===r.width&&e.height===r.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,r.x,r.y,r.width,r.height,a.COLOR_BUFFER_BIT,y?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.length;r++)this.disposeFramebuffer(e[r],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var r=t.width,i=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,r,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,r,i),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Eo},n.prototype.destroy=function(){this.renderer=null},n}(),mO={5126:4,5123:2,5121:1},kB=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;rt.PREFER_ENV===$i.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(o){return r.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return r.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,s){return i.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,u){return i.drawElementsInstancedANGLE(o,s,a,l,u)},t.drawArraysInstanced=function(o,s,a,l){return i.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var s=i[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,r=0;r<t.buffers.length;r++)e.update(t.buffers[r])},n.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var o in i)if(!r[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,o=["g",t.id];for(var s in r)i[s]&&o.push(s,i[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,r){void 0===r&&(r=!0);var i=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],c=u[l];if(c)return u[a.id]=c,c;var y=t.buffers,M=t.attributes,w={},A={};for(var D in y)w[D]=0,A[D]=0;for(var D in M)!M[D].size&&a.attributeData[D]?M[D].size=a.attributeData[D].size:M[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),w[M[D].buffer]+=M[D].size*mO[M[D].type];for(var D in M){var I=M[D],j=I.size;void 0===I.stride&&(I.stride=w[I.buffer]===j*mO[I.type]?0:w[I.buffer]),void 0===I.start&&(I.start=A[I.buffer],A[I.buffer]+=j*mO[I.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(var W=0;W<y.length;W++){var re=y[W];s.bind(re),r&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=c,u[a.id]=c,u[l]=c,c},n.prototype.disposeGeometry=function(t,e){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(t.disposeRunner.remove(this),i){if(a)for(var l=0;l<s.length;l++){var u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0===u.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var c in i)if("g"===c[0]){var y=i[c];this._activeVao===y&&this.unbind(),o.deleteVertexArray(y)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t)},n.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var u in a){var c=a[u],y=s[c.buffer],M=y._glBuffers[i];if(e.attributeData[u]){l!==M&&(o.bind(y),l=M);var w=e.attributeData[u].location;if(r.enableVertexAttribArray(w),r.vertexAttribPointer(w,c.size,c.type||r.FLOAT,c.normalized,c.stride,c.start),c.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(w,1)}}}},n.prototype.draw=function(t,e,r,i){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(r||0)*a,i||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(r||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,r,e||s.getSize(),i||1):o.drawArrays(t,r,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),hie=function(){function n(t){void 0===t&&(t=null),this.type=rr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=rt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=rr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function BB(n,t,e){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function LB(n,t){var e=n.getShaderSource(t).split("\n").map(function(u,c){return c+": "+u}),r=n.getShaderInfoLog(t),i=r.split("\n"),o={},s=i.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return!(!u||o[u]||(o[u]=!0,0))}),a=[""];s.forEach(function(u){e[u-1]="%c"+e[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function vO(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function UB(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return vO(2*t);case"bvec3":return vO(3*t);case"bvec4":return vO(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Iy,GB={},j_=GB;function VB(n,t,e){if("precision"!==n.substring(0,9)){var r=t;return t===wi.HIGH&&e!==wi.HIGH&&(r=wi.MEDIUM),"precision "+r+" float;\n"+n}return e!==wi.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var _ie={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function jB(n){return _ie[n]}var Ny=null,HB={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function YB(n,t){if(!Ny){var e=Object.keys(HB);Ny={};for(var r=0;r<e.length;++r){var i=e[r];Ny[n[i]]=HB[i]}}return Ny[t]}var H_,Mf=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],gie={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},mie={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},yie=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function bie(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var Oie=0,Fy={},yO=function(){function n(t,e,r){void 0===r&&(r="pixi-shader"),this.id=Oie++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),Fy[r]?(Fy[r]++,r+="-"+Fy[r]):Fy[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=VB(this.vertexSrc,rt.PRECISION_VERTEX,wi.HIGH),this.fragmentSrc=VB(this.fragmentSrc,rt.PRECISION_FRAGMENT,function pie(){if(!Iy){Iy=wi.MEDIUM;var n=function fie(){if(j_===GB||j_&&j_.isContextLost()){var n=document.createElement("canvas"),t=void 0;rt.PREFER_ENV>=$i.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),j_=t}return j_}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);Iy=t.precision?wi.HIGH:wi.MEDIUM}}return Iy}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,r){var i=t+e,o=gB[i];return o||(gB[i]=o=new n(t,e,r)),o},n}(),WB=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Of?e:new Of(e):new Of({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,r){return new n(yO.from(t,e),r)},n}(),MO=function(){function n(){this.data=0,this.blendMode=xe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==xe.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),Pie=function(n){function t(e,r,i){var o=this,s=yO.from(e||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(o=n.call(this,s,i)||this).padding=0,o.resolution=rt.FILTER_RESOLUTION,o.multisample=rt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new MO,o}return Ar(t,n),t.prototype.apply=function(e,r,i,o,s){e.applyFilter(this,r,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(WB),zB=new _s,Die=function(){function n(t,e){this._texture=t,this.mapCoord=new _s,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];e[i]=o*r.a+s*r.c+r.tx,e[i+1]=o*r.b+s*r.d+r.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,o=e.trim;o&&(zB.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(zB));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,u=this.clampOffset;return a[0]=(e._frame.x+l+u)/s.width,a[1]=(e._frame.y+l+u)/s.height,a[2]=(e._frame.x+e._frame.width-l+u)/s.width,a[3]=(e._frame.y+e._frame.height-l+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),xie=function(n){function t(e,r,i){var o=this,s=null;return"string"!=typeof e&&void 0===r&&void 0===i&&(s=e,e=void 0,r=void 0,i=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",r||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=s,o.maskMatrix=new _s,o}return Ar(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,r,i,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new Die(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,r,i,o))},t}(Pie),$B=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var r=e;if(!r.isMaskData){var i=this.maskDataPool.pop()||new hie;i.pooled=!0,i.maskObject=e,r=i}if(r.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),r.autoDetect&&this.detect(r),r._target=t,r.type!==rr.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case rr.SCISSOR:this.renderer.scissor.push(r);break;case rr.STENCIL:this.renderer.stencil.push(r);break;case rr.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===rr.SPRITE&&this.maskStack.push(r)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case rr.SCISSOR:this.renderer.scissor.pop();break;case rr.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case rr.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===rr.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?rr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?rr.SCISSOR:rr.STENCIL},n.prototype.pushSpriteMask=function(t){var e,r,i=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new xie]);var u,c,a=this.renderer,l=a.renderTexture;if(l.current){var y=l.current;u=t.resolution||y.resolution,c=null!==(e=t.multisample)&&void 0!==e?e:y.multisample}else u=t.resolution||a.resolution,c=null!==(r=t.multisample)&&void 0!==r?r:a.multisample;s[0].resolution=u,s[0].multisample=c,s[0].maskSprite=i;var M=o.filterArea;o.filterArea=i.getBounds(!0),a.filter.push(o,s),o.filterArea=M,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),XB=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==r&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),qB=new _s,KB=function(n){function t(e){var r=n.call(this,e)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return Ar(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var r=e._scissorRect,i=e.maskObject,o=this.renderer,s=o.renderTexture;i.renderable=!0;var a=i.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),i.renderable=!1,r&&a.fit(r),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var r=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var r=e.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(e,r,i,o,s){t.isMatrixRotated(s)||((s=s?qB.copyFrom(s):qB.identity()).translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var r=this.renderer.gl;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(XB),JB=function(n){function t(e){var r=n.call(this,e)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return Ar(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var r=e.maskObject,i=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var r=this.renderer.gl;0===this.getStackLength()?r.disable(r.STENCIL_TEST):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(XB),QB=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new _s,this.transform=null}return n.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,r,i){var o=this.projectionMatrix,s=i?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),$c=new Eo,Y_=new Eo,ZB=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Eo,this.destinationFrame=new Eo,this.viewportFrame=new Eo}return n.prototype.bind=function(t,e,r){void 0===t&&(t=null);var o,s,a,i=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||($c.width=t.frame.width,$c.height=t.frame.height,e=$c),r||(Y_.x=t.frame.x,Y_.y=t.frame.y,Y_.width=e.width,Y_.height=e.height,r=Y_),s=o.framebuffer):(a=i.resolution,e||($c.width=i.screen.width,$c.height=i.screen.height,e=$c),r||((r=$c).width=e.width,r.height=e.height));var l=this.viewportFrame;l.x=r.x*a,l.y=r.y*a,l.width=r.width*a,l.height=r.height*a,t||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(r,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(r)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=r.width!==i.width||r.height!==i.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,u=s.width,c=s.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function Iie(n,t,e,r,i){e.buffer.update(i)}var Nie={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},eL={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var Lie=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var jie=0,ky={textureCount:0,uboCount:0},tL=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=jie++}return n.prototype.systemCheck=function(){if(!function Sie(){if("boolean"==typeof H_)return H_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");H_=!0===n({a:"b"},"a","b")}catch(t){H_=!1}return H_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||(ky.textureCount=0,ky.uboCount=0,this.syncUniformGroup(t.uniformGroup,ky)),i},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var r=this.getGlProgram();(!t.static||t.dirtyId!==r.uniformDirtyGroups[t.id])&&(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,e))},n.prototype.syncUniforms=function(t,e,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,r)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function vie(n,t){var e,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in n.uniforms){var o=t[i];if(o){for(var s=n.uniforms[i],a=!1,l=0;l<Mf.length;l++)if(Mf[l].test(o,s)){r.push(Mf[l].code(i,s)),a=!0;break}if(!a){var c=(1===o.size?gie:mie)[o.type].replace("location",'ud["'+i+'"].location');r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+c+";")}}else(null===(e=n.uniforms[i])||void 0===e?void 0:e.group)&&r.push(n.uniforms[i].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var r=this.getGlProgram();if(!t.static||0!==t.dirtyId||!r.uniformGroups[t.id]){t.dirtyId=0;var i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e);t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,ky,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,r){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,r);e.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=function Bie(n,t){if(!n.autoManage)return{size:0,syncFunc:Iie};for(var e=function kie(n,t){var e=[];for(var r in n)t[r]&&e.push(t[r]);return e.sort(function(i,o){return i.index-o.index}),e}(n.uniforms,t),r=function Fie(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,r=0,i=0,o=0;o<t.length;o++){var s=t[o];if(e=eL[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,r%e!=0&&r<16){var a=r%e%16;r+=a,i+=a}r+e>16?(i=16*Math.ceil(i/16),s.offset=i,i+=e,r=e):(s.offset=i,r+=e,i+=e)}return{uboElements:t,size:i=16*Math.ceil(i/16)}}(e),i=r.uboElements,o=r.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<i.length;a++){for(var l=i[a],u=n.uniforms[l.data.name],c=l.data.name,y=!1,M=0;M<Mf.length;M++){var w=Mf[M];if(w.codeUbo&&w.test(l.data,u)){s.push("offset = "+l.offset/4+";",Mf[M].codeUbo(l.data.name,u)),y=!0;break}}if(!y)if(l.data.size>1){var A=jB(l.data.type),D=Math.max(eL[l.data.type]/16,1),I=A/D;s.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+I+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-I%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+l.offset/4+";\n                "+Nie[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,r){var i=t.uniforms,o=[r+"-"];for(var s in i)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var r=t.program,i=function Vie(n,t){var e=BB(n,n.VERTEX_SHADER,t.vertexSrc),r=BB(n,n.FRAGMENT_SHADER,t.fragmentSrc),i=n.createProgram();if(n.attachShader(i,e),n.attachShader(i,r),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS)||function die(n,t,e,r){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||LB(n,e),n.getShaderParameter(r,n.COMPILE_STATUS)||LB(n,r),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,i,e,r),t.attributeData=function Uie(n,t){for(var e={},r=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=t.getActiveAttrib(n,i);if(0!==o.name.indexOf("gl_")){var s=YB(t,o.type),a={type:s,name:o.name,size:jB(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(i,n),t.uniformData=function Gie(n,t){for(var e={},r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=t.getActiveUniform(n,i),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=YB(t,o.type);e[s]={name:s,index:i,type:l,size:o.size,isArray:a,value:UB(l,o.size)}}return e}(i,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(c,y){return c>y?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(i,s,o[s]);n.linkProgram(i)}n.deleteShader(e),n.deleteShader(r);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(i,s),value:UB(l.type,l.size)}}return new Lie(i,a)}(this.gl,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),nL=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=xe.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new MO,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Hie(n,t){return void 0===t&&(t=[]),t[xe.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.ADD]=[n.ONE,n.ONE],t[xe.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.NONE]=[0,0],t[xe.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[xe.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[xe.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[xe.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[xe.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[xe.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[xe.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[xe.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[xe.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[xe.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[xe.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):!e&&-1!==r&&this.checks.splice(r,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),rL=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=rt.GC_MAX_IDLE,this.checkCountMax=rt.GC_MAX_CHECK_COUNT,this.mode=rt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==uf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var o=e[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[i]=null,r=!0)}if(r){var s=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[s++]=e[i]);e.length=s}},n.prototype.unload=function(t){var r=t._texture;r&&!r.framebuffer&&this.renderer.texture.destroyTexture(r);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},n.prototype.destroy=function(){this.renderer=null},n}(),wO=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=_t.UNSIGNED_BYTE,this.internalFormat=Be.RGBA,this.samplerType=0},iL=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Gi,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Kie(n){var t,e,r,i,o,s,a,l,u,c,y,M,w,A,D,I,j,W,re,ae,Z,ee,Ee;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[_t.UNSIGNED_BYTE]=((e={})[Be.RGBA]=n.RGBA8,e[Be.RGB]=n.RGB8,e[Be.RG]=n.RG8,e[Be.RED]=n.R8,e[Be.RGBA_INTEGER]=n.RGBA8UI,e[Be.RGB_INTEGER]=n.RGB8UI,e[Be.RG_INTEGER]=n.RG8UI,e[Be.RED_INTEGER]=n.R8UI,e[Be.ALPHA]=n.ALPHA,e[Be.LUMINANCE]=n.LUMINANCE,e[Be.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[_t.BYTE]=((r={})[Be.RGBA]=n.RGBA8_SNORM,r[Be.RGB]=n.RGB8_SNORM,r[Be.RG]=n.RG8_SNORM,r[Be.RED]=n.R8_SNORM,r[Be.RGBA_INTEGER]=n.RGBA8I,r[Be.RGB_INTEGER]=n.RGB8I,r[Be.RG_INTEGER]=n.RG8I,r[Be.RED_INTEGER]=n.R8I,r),t[_t.UNSIGNED_SHORT]=((i={})[Be.RGBA_INTEGER]=n.RGBA16UI,i[Be.RGB_INTEGER]=n.RGB16UI,i[Be.RG_INTEGER]=n.RG16UI,i[Be.RED_INTEGER]=n.R16UI,i[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,i),t[_t.SHORT]=((o={})[Be.RGBA_INTEGER]=n.RGBA16I,o[Be.RGB_INTEGER]=n.RGB16I,o[Be.RG_INTEGER]=n.RG16I,o[Be.RED_INTEGER]=n.R16I,o),t[_t.UNSIGNED_INT]=((s={})[Be.RGBA_INTEGER]=n.RGBA32UI,s[Be.RGB_INTEGER]=n.RGB32UI,s[Be.RG_INTEGER]=n.RG32UI,s[Be.RED_INTEGER]=n.R32UI,s[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[_t.INT]=((a={})[Be.RGBA_INTEGER]=n.RGBA32I,a[Be.RGB_INTEGER]=n.RGB32I,a[Be.RG_INTEGER]=n.RG32I,a[Be.RED_INTEGER]=n.R32I,a),t[_t.FLOAT]=((l={})[Be.RGBA]=n.RGBA32F,l[Be.RGB]=n.RGB32F,l[Be.RG]=n.RG32F,l[Be.RED]=n.R32F,l[Be.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[_t.HALF_FLOAT]=((u={})[Be.RGBA]=n.RGBA16F,u[Be.RGB]=n.RGB16F,u[Be.RG]=n.RG16F,u[Be.RED]=n.R16F,u),t[_t.UNSIGNED_SHORT_5_6_5]=((c={})[Be.RGB]=n.RGB565,c),t[_t.UNSIGNED_SHORT_4_4_4_4]=((y={})[Be.RGBA]=n.RGBA4,y),t[_t.UNSIGNED_SHORT_5_5_5_1]=((M={})[Be.RGBA]=n.RGB5_A1,M),t[_t.UNSIGNED_INT_2_10_10_10_REV]=((w={})[Be.RGBA]=n.RGB10_A2,w[Be.RGBA_INTEGER]=n.RGB10_A2UI,w),t[_t.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[Be.RGB]=n.R11F_G11F_B10F,A),t[_t.UNSIGNED_INT_5_9_9_9_REV]=((D={})[Be.RGB]=n.RGB9_E5,D),t[_t.UNSIGNED_INT_24_8]=((I={})[Be.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,I),t[_t.FLOAT_32_UNSIGNED_INT_24_8_REV]=((j={})[Be.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,j),Ee=t):((W={})[_t.UNSIGNED_BYTE]=((re={})[Be.RGBA]=n.RGBA,re[Be.RGB]=n.RGB,re[Be.ALPHA]=n.ALPHA,re[Be.LUMINANCE]=n.LUMINANCE,re[Be.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),W[_t.UNSIGNED_SHORT_5_6_5]=((ae={})[Be.RGB]=n.RGB,ae),W[_t.UNSIGNED_SHORT_4_4_4_4]=((Z={})[Be.RGBA]=n.RGBA,Z),W[_t.UNSIGNED_SHORT_5_5_5_1]=((ee={})[Be.RGBA]=n.RGBA,ee),Ee=W),Ee}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new wO(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new wO(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var r=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(r.activeTexture(r.TEXTURE0+o),this.currentLocation=o),r.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,r=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=r[s];a&&a._glTextures[o].samplerType!==Mu.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new wO(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var r,i;e.internalFormat=null!==(i=null===(r=this.internalFormats[t.type])||void 0===r?void 0:r[t.format])&&void 0!==i?i:t.format,e.type=2===this.webGLVersion&&t.type===_t.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var r=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(r,t,e))e.samplerType!==Mu.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,s=r.gl;(e.width!==i||e.height!==o||e.dirtyId<0)&&(e.width=i,e.height=o,s.texImage2D(t.target,0,e.internalFormat,i,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&function Yre(n,t,e){var i,r=n.length;if(!(t>=r||0===e)){var o=r-(e=t+e>r?r-t:e);for(i=t;i<o;++i)n[i]=n[i+e];n.length=o}}(this.managedTextures,i,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==Fo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Us.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var r=this.gl;if(e.mipmap&&t.mipmap!==Fo.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Mi.LINEAR){var o=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===Mi.LINEAR?r.LINEAR:r.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),oL={__proto__:null,FilterSystem:RB,BatchSystem:xB,ContextSystem:NB,FramebufferSystem:FB,GeometrySystem:kB,MaskSystem:$B,ScissorSystem:KB,StencilSystem:JB,ProjectionSystem:QB,RenderTextureSystem:ZB,ShaderSystem:tL,StateSystem:nL,TextureGCSystem:rL,TextureSystem:iL},PO=new _s,Jie=function(n){function t(e,r){void 0===e&&(e=Ca.UNKNOWN);var i=n.call(this)||this;return r=Object.assign({},rt.RENDER_OPTIONS,r),i.options=r,i.type=e,i.screen=new Eo(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||rt.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(Vc("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return Ar(t,n),t.prototype.initPlugins=function(e){for(var r in e)this.plugins[r]=new e[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,r){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(r*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(e,r,i,o){void 0===r&&(r={}),"number"==typeof r&&(Vc("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:i,region:o});var s=r.region,a=function qre(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&(e[r[i]]=n[r[i]])}return e}(r,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=pO.create(uO({width:o.width,height:o.height},a));return PO.tx=-o.x,PO.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:PO,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Ca.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function Gre(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function Ure(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(eO),Qie=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Zie=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var r=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);r.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var i=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,r){var o=this.gl;r=r||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*r,256)},n.prototype.update=function(t){var r=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,r.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),r=0;r<e.length;r++)this.dispose(this.managedBuffers[e[r]],t)},n.prototype.createGLBuffer=function(t){var r=this.CONTEXT_UID;return t._glBuffers[r]=new Qie(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},n}(),eoe=(function(n){function t(e){var r=n.call(this,Ca.WEBGL,e)||this;return e=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new bo("destroy"),contextChange:new bo("contextChange"),reset:new bo("reset"),update:new bo("update"),postrender:new bo("postrender"),prerender:new bo("prerender"),resize:new bo("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Of({projectionMatrix:new _s},!0),r.addSystem($B,"mask").addSystem(NB,"context").addSystem(nL,"state").addSystem(tL,"shader").addSystem(iL,"texture").addSystem(Zie,"buffer").addSystem(kB,"geometry").addSystem(FB,"framebuffer").addSystem(KB,"scissor").addSystem(JB,"stencil").addSystem(QB,"projection").addSystem(rL,"textureGC").addSystem(RB,"filter").addSystem(ZB,"renderTexture").addSystem(xB,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,e.context?r.context.initFromContext(e.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:e.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function Bre(n){var t;cB||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),cB=!0)}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}Ar(t,n),t.create=function(e){if(function Lre(){return void 0===iO&&(iO=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:rt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var o=r.getExtension("WEBGL_lose_context");o&&o.loseContext()}return r=null,i}catch(s){return!1}}()),iO}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r,e=this.gl;if(1===this.context.webGLVersion){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i);this.multisample=r>=Tn.HIGH?Tn.HIGH:r>=Tn.MEDIUM?Tn.MEDIUM:r>=Tn.LOW?Tn.LOW:Tn.NONE},t.prototype.addSystem=function(e,r){var i=new e(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var o in this[r]=i,this.runners)this.runners[o].add(i);return this},t.prototype.render=function(e,r){var i,o,s,a;if(r&&(r instanceof pO?(Vc("6.0.0","Renderer#render arguments changed, use options instead."),i=r,o=arguments[2],s=arguments[3],a=arguments[4]):(i=r.renderTexture,o=r.clear,s=r.transform,a=r.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(i||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,r,i,o){void 0===r&&(r={});var s=n.prototype.generateTexture.call(this,e,r,i,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,r){n.prototype.resize.call(this,e,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Vc("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,r){(t.__plugins=t.__plugins||{})[e]=r}}(Jie),function n(){this.texArray=null,this.blend=0,this.type=ro.TRIANGLES,this.start=0,this.size=0,this.data=null}),toe=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),noe=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),roe=function(n){function t(e){var r=n.call(this,e)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=MO.for2d(),r.size=4*rt.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),e.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return Ar(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;rt.PREFER_ENV===$i.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),rt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function Eie(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var r=yie.replace(/%forloop%/gi,bie(n));if(t.shaderSource(e,r),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new eoe);for(;r.length<o;)r.push(new toe);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this._bufferedTextures,i=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++Gi._globalBatch,c=0,y=o[0],M=0;s.copyBoundTextures(a,i);for(var w=0;w<this._bufferSize;++w){var A=r[w];r[w]=null,A._batchEnabled!==u&&(y.count>=i&&(s.boundArray(y,a,u,i),this.buildDrawCalls(y,M,w),M=w,y=o[++c],++u),A._batchEnabled=u,A.touched=l,y.elements[y.count++]=A)}for(y.count>0&&(s.boundArray(y,a,u,i),this.buildDrawCalls(y,M,this._bufferSize),++c,++u),w=0;w<a.length;w++)a[w]=null;Gi._globalBatch=u},t.prototype.buildDrawCalls=function(e,r,i){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,u=o.vertexSize,c=t._drawCallPool,y=this._dcIndex,M=this._aIndex,w=this._iIndex,A=c[y];A.start=this._iIndex,A.texArray=e;for(var D=r;D<i;++D){var I=s[D],W=jre[I._texture.baseTexture.alphaMode?1:0][I.blendMode];s[D]=null,r<D&&A.blend!==W&&(A.size=w-A.start,r=D,(A=c[++y]).texArray=e,A.start=w),this.packInterleavedGeometry(I,a,l,M,w),M+=I.vertexData.length/2*u,w+=I.indices.length,A.blend=W}r<i&&(A.size=w-A.start,++y),this._dcIndex=y,this._aIndex=M,this._iIndex=w},t.prototype.bindAndClearTexArray=function(e){for(var r=this.renderer.texture,i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,r=e._packedGeometries,i=e._attributeBuffer,o=e._indexBuffer;rt.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(i.rawBinaryData),r[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,i=r.gl,o=r.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var u=s[l],c=u.texArray,y=u.type,M=u.size,w=u.start,A=u.blend;a!==c&&(a=c,this.bindAndClearTexArray(c)),this.state.blendMode=A,o.set(this.state),i.drawElements(y,M,i.UNSIGNED_SHORT,2*w)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),rt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var r=Cy(Math.ceil(e/8)),i=pB(r),o=8*r;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new noe(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var r=Cy(Math.ceil(e/12)),i=pB(r),o=12*r;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,r,i,o,s){for(var a=r.uint32View,l=r.float32View,u=o/this.vertexSize,c=e.uvs,y=e.indices,M=e.vertexData,w=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?function Hre(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,r=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,A):e._tintRGB+(255*A<<24),I=0;I<M.length;I+=2)l[o++]=M[I],l[o++]=M[I+1],l[o++]=c[I],l[o++]=c[I+1],a[o++]=D,l[o++]=w;for(I=0;I<y.length;I++)i[s++]=u+y[I]},t._drawCallPool=[],t._textureArrayPool=[],t}(DB),ioe=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),r=0;r<t;r++)e[r]=r;this.defaultGroupCache[t]=Of.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new yO(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new _s,default:this.defaultGroupCache[t]};return new WB(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),ooe=function(n){function t(e){void 0===e&&(e=!1);var r=n.call(this)||this;return r._buffer=new gs(null,e,!1),r._indexBuffer=new gs(null,e,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,_t.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,_t.FLOAT).addAttribute("aColor",r._buffer,4,!0,_t.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,_t.FLOAT).addIndex(r._indexBuffer),r}return Ar(t,n),t}(_O),sL="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",aL="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",soe=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:sL,fragment:aL,geometryClass:ooe,vertexSize:6},t),r=e.vertex,i=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(u){var c=a.call(this,u)||this;return c.shaderGenerator=new ioe(r,i),c.geometryClass=s,c.vertexSize=o,c}return Ar(l,a),l}(roe)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return sL},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return aL},enumerable:!1,configurable:!0}),n}(),aoe=(soe.create(),{}),loe=function(n){Object.defineProperty(aoe,n,{get:function(){return Vc("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),CB[n]}})};for(var AO in CB)loe(AO);var uoe={},coe=function(n){Object.defineProperty(uoe,n,{get:function(){return Vc("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),oL[n]}})};for(var AO in oL)coe(AO);var lL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,r=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(r,t.roundPixels),t.drawMode!==ro.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,r=0;r<e-2;r++){var i=2*r;this._renderDrawTriangle(t,i,i+2,i+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,r=e.length,i=0;i<r;i+=3)this._renderDrawTriangle(t,2*e[i],2*e[i+1],2*e[i+2])},n.prototype._renderDrawTriangle=function(t,e,r,i){var o=this.renderer.context,s=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var u=16777215!==t.tint,c=l.baseTexture,y=c.width,M=c.height;u&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new nl(c),t._tintedCanvas=yi.getTintedCanvas({texture:t._cachedTexture},t.tint));var w=u?t._tintedCanvas:c.getDrawableSource(),A=a[e]*c.width,D=a[r]*c.width,I=a[i]*c.width,j=a[e+1]*c.height,W=a[r+1]*c.height,re=a[i+1]*c.height,ae=s[e],Z=s[r],ee=s[i],Ee=s[e+1],Pe=s[r+1],ge=s[i+1],Fe=t.canvasPadding/this.renderer.resolution;if(Fe>0){var Ze=t.worldTransform,et=Ze.a,Ke=Ze.b,wt=Ze.c,Ye=Ze.d,we=(ae+Z+ee)/3,ze=(Ee+Pe+ge)/3,st=ae-we,Tt=Ee-ze,Ve=et*st+wt*Tt,gt=Ke*st+Ye*Tt,Rt=Math.sqrt(Ve*Ve+gt*gt),xt=1+Fe/Rt;ae=we+st*xt,Ee=ze+Tt*xt,Ve=et*(st=Z-we)+wt*(Tt=Pe-ze),gt=Ke*st+Ye*Tt,Z=we+st*(xt=1+Fe/(Rt=Math.sqrt(Ve*Ve+gt*gt))),Pe=ze+Tt*xt,Ve=et*(st=ee-we)+wt*(Tt=ge-ze),gt=Ke*st+Ye*Tt,ee=we+st*(xt=1+Fe/(Rt=Math.sqrt(Ve*Ve+gt*gt))),ge=ze+Tt*xt}o.save(),o.beginPath(),o.moveTo(ae,Ee),o.lineTo(Z,Pe),o.lineTo(ee,ge),o.closePath(),o.clip();var At=A*W+j*I+D*re-W*I-j*D-A*re;o.transform((ae*W+j*ee+Z*re-W*ee-j*Z-ae*re)/At,(Ee*W+j*ge+Pe*re-W*ge-j*Pe-Ee*re)/At,(A*Z+ae*I+D*ee-Z*I-ae*D-A*ee)/At,(A*Pe+Ee*I+D*ge-Pe*I-Ee*D-A*ge)/At,(A*W*ee+j*Z*I+ae*D*re-ae*W*I-j*D*ee-A*Z*re)/At,(A*W*ge+j*Pe*I+Ee*D*re-Ee*W*I-j*D*ge-A*Pe*re)/At),o.drawImage(w,0,0,y*c.resolution,M*c.resolution,0,0,y,M),o.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,r=t.geometry.getBuffer("aVertexPosition").data,i=r.length/2;e.beginPath();for(var o=1;o<i-2;++o){var s=2*o,u=r[s+2],c=r[s+3],y=r[s+4],M=r[s+5];e.moveTo(r[s],r[s+1]),e.lineTo(u,c),e.lineTo(y,M)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();rt.MESH_CANVAS_PADDING=0,Gc.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},L_.prototype._cachedTint=16777215,L_.prototype._tintedCanvas=null,L_.prototype._canvasUvs=null,L_.prototype._renderCanvas=function(t){var e=t.context,r=this.worldTransform,i=16777215!==this.tint,o=this.texture;if(o.valid){i&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=yi.getTintedCanvas(this,this.tint));var s=i?this._tintedCanvas:o.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,u=i?0:o.frame.x,c=i?0:o.frame.y,y=u+o.frame.width,M=c+o.frame.height;l[0]=u,l[1]=u+this._leftWidth,l[2]=y-this._rightWidth,l[3]=y,l[4]=c,l[5]=c+this._topHeight,l[6]=M-this._bottomHeight,l[7]=M;for(var w=0;w<8;w++)l[w]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(r,this.roundPixels);for(var A=0;A<3;A++)for(var D=0;D<3;D++){var I=2*D+8*A,j=Math.max(1,l[D+1]-l[D]),W=Math.max(1,l[A+5]-l[A+4]),re=Math.max(1,a[I+10]-a[I]),ae=Math.max(1,a[I+11]-a[I+1]);e.drawImage(s,l[D],l[A+4],j,W,a[I],a[I+1],re,ae)}}};var uL=!1;Hs.prototype._cachedTint=16777215,Hs.prototype._tintedCanvas=null,Hs.prototype._cachedTexture=null,Hs.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):uL||(uL=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Hs.prototype._canvasPadding=null,Object.defineProperty(Hs.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:rt.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),rB.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},tB.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var RO,cL=function(){function n(){}return n.offsetPolygon=function(t,e){var r=[],i=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var o=0;o<i;o+=2){var s=o-2;s<0&&(s+=i);var a=(o+2)%i,l=t[o]-t[s],u=t[o+1]-t[s+1],c=Math.sqrt(l*l+u*u);l/=c,u/=c;var y=-(u*=e),w=[t[s]+y,t[s+1]+(l*=e)],A=[t[o]+y,t[o+1]+l],D=t[a]-t[o],I=t[a+1]-t[o+1];D/=c=Math.sqrt(D*D+I*I),I/=c;var j=-(I*=e),re=[t[o]+j,t[o+1]+(D*=e)],ae=[t[a]+j,t[a+1]+D],Z=n.findIntersection(w[0],w[1],A[0],A[1],re[0],re[1],ae[0],ae[1]);Z&&r.push.apply(r,Z)}return r},n.findIntersection=function(t,e,r,i,o,s,a,l){var u=(l-s)*(r-t)-(a-o)*(i-e),c=(a-o)*(e-s)-(l-s)*(t-o);if(0===u)return 0===c&&0==(r-t)*(e-s)-(i-e)*(t-o)?[(t+r)/2,(e+i)/2]:null;var M=c/u;return[t+M*(r-t),e+M*(i-e)]},n.isPolygonClockwise=function(t){for(var e=0,r=0;r<t.length-2;r+=2)e+=(t[r+2]-t[r])*(t[r+3]+t[r+1]);return e>0},n}(),hL=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new cr,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var r;return t.texture&&t.texture.baseTexture!==Bt.WHITE.baseTexture?t.texture.valid?(r=yi.getTintedPattern(t.texture,e),this.setPatternTransform(r,t.matrix||cr.IDENTITY)):r="#808080":r="#"+("00000"+(0|e).toString(16)).substr(-6),r},n.prototype.render=function(t){var e=this.renderer,r=e.context,i=t.worldAlpha,o=t.transform.worldTransform;e.setContextTransform(o),e.setBlendMode(t.blendMode);for(var a,l,s=t.geometry.graphicsData,u=(t.tint>>16&255)/255,c=(t.tint>>8&255)/255,y=(255&t.tint)/255,M=0;M<s.length;M++){var w=s[M],A=w.shape,D=w.fillStyle,I=w.lineStyle,j=0|w.fillStyle.color,W=0|w.lineStyle.color;if(w.matrix&&e.setContextTransform(o.copyTo(this._tempMatrix).append(w.matrix)),D.visible&&(a=this._calcCanvasStyle(D,((j>>16&255)/255*u*255<<16)+((j>>8&255)/255*c*255<<8)+(255&j)/255*y*255)),I.visible&&(l=this._calcCanvasStyle(I,((W>>16&255)/255*u*255<<16)+((W>>8&255)/255*c*255<<8)+(255&W)/255*y*255)),r.lineWidth=I.width,r.lineCap=I.cap,r.lineJoin=I.join,r.miterLimit=I.miterLimit,w.type===Qn.POLY){r.beginPath();var ee=(Z=A).points,Ee=w.holes,Pe=void 0,ge=void 0,Fe=void 0,Ze=void 0,et=void 0;r.moveTo(ee[0],ee[1]);for(var Ke=2;Ke<ee.length;Ke+=2)r.lineTo(ee[Ke],ee[Ke+1]);if(Z.closeStroke&&r.closePath(),Ee.length>0){for(et=[],Pe=0,Fe=ee[0],Ze=ee[1],Ke=2;Ke+2<ee.length;Ke+=2)Pe+=(ee[Ke]-Fe)*(ee[Ke+3]-Ze)-(ee[Ke+2]-Fe)*(ee[Ke+1]-Ze);for(var wt=0;wt<Ee.length;wt++)if(ee=Ee[wt].shape.points){for(ge=0,Fe=ee[0],Ze=ee[1],Ke=2;Ke+2<ee.length;Ke+=2)ge+=(ee[Ke]-Fe)*(ee[Ke+3]-Ze)-(ee[Ke+2]-Fe)*(ee[Ke+1]-Ze);if(ge*Pe<0)for(r.moveTo(ee[0],ee[1]),Ke=2;Ke<ee.length;Ke+=2)r.lineTo(ee[Ke],ee[Ke+1]);else for(r.moveTo(ee[ee.length-2],ee[ee.length-1]),Ke=ee.length-4;Ke>=0;Ke-=2)r.lineTo(ee[Ke],ee[Ke+1]);Ee[wt].shape.closeStroke&&r.closePath(),et[wt]=ge*Pe<0}}D.visible&&(r.globalAlpha=D.alpha*i,r.fillStyle=a,r.fill()),I.visible&&this.paintPolygonStroke(Z,I,l,Ee,et,i,r)}else if(w.type===Qn.RECT){var Z=A;if(D.visible&&(r.globalAlpha=D.alpha*i,r.fillStyle=a,r.fillRect(Z.x,Z.y,Z.width,Z.height)),I.visible){var we=Z.width+2*(Ye=I.width*(.5-(1-I.alignment))),ze=Z.height+2*Ye;r.globalAlpha=I.alpha*i,r.strokeStyle=l,r.strokeRect(Z.x-Ye,Z.y-Ye,we,ze)}}else if(w.type===Qn.CIRC){if(Z=A,r.beginPath(),r.arc(Z.x,Z.y,Z.radius,0,2*Math.PI),r.closePath(),D.visible&&(r.globalAlpha=D.alpha*i,r.fillStyle=a,r.fill()),I.visible){if(.5!==I.alignment){var Ye=I.width*(.5-(1-I.alignment));r.beginPath(),r.arc(Z.x,Z.y,Z.radius+Ye,0,2*Math.PI),r.closePath()}r.globalAlpha=I.alpha*i,r.strokeStyle=l,r.stroke()}}else if(w.type===Qn.ELIP){if(Z=A,(st=1===I.alignment)||this.paintEllipse(Z,D,I,a,i,r),I.visible){if(.5!==I.alignment){var Tt=.5522848,Ve=2*(Z.width+(Ye=I.width*(.5-(1-I.alignment)))),gt=2*(Z.height+Ye),Rt=Z.x-Ve/2,xt=Z.y-gt/2,At=Ve/2*Tt,ir=gt/2*Tt,Fn=Rt+Ve,_n=xt+gt,Vn=Rt+Ve/2,bn=xt+gt/2;r.beginPath(),r.moveTo(Rt,bn),r.bezierCurveTo(Rt,bn-ir,Vn-At,xt,Vn,xt),r.bezierCurveTo(Vn+At,xt,Fn,bn-ir,Fn,bn),r.bezierCurveTo(Fn,bn+ir,Vn+At,_n,Vn,_n),r.bezierCurveTo(Vn-At,_n,Rt,bn+ir,Rt,bn),r.closePath()}r.globalAlpha=I.alpha*i,r.strokeStyle=l,r.stroke()}st&&this.paintEllipse(Z,D,I,a,i,r)}else if(w.type===Qn.RREC){var st;if(Z=A,(st=1===I.alignment)||this.paintRoundedRectangle(Z,D,I,a,i,r),I.visible){if(.5!==I.alignment){we=Z.width,ze=Z.height;var on=Z.x-(Ye=I.width*(.5-(1-I.alignment))),Qt=Z.y-Ye,jn=Z.width+2*Ye,Zt=Z.height+2*Ye,eo=Ye*(I.alignment>=1?Math.min(jn/we,Zt/ze):Math.min(we/jn,ze/Zt)),lr=Z.radius+eo,Dn=Math.min(jn,Zt)/2;lr=lr>Dn?Dn:lr,r.beginPath(),r.moveTo(on,Qt+lr),r.lineTo(on,Qt+Zt-lr),r.quadraticCurveTo(on,Qt+Zt,on+lr,Qt+Zt),r.lineTo(on+jn-lr,Qt+Zt),r.quadraticCurveTo(on+jn,Qt+Zt,on+jn,Qt+Zt-lr),r.lineTo(on+jn,Qt+lr),r.quadraticCurveTo(on+jn,Qt,on+jn-lr,Qt),r.lineTo(on+lr,Qt),r.quadraticCurveTo(on,Qt,on,Qt+lr),r.closePath()}r.globalAlpha=I.alpha*i,r.strokeStyle=l,r.stroke()}st&&this.paintRoundedRectangle(Z,D,I,a,i,r)}}},n.prototype.paintPolygonStroke=function(t,e,r,i,o,s,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),u=cL.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(u[0],u[1]);for(var y=2;y<u.length;y+=2)a.lineTo(u[y],u[y+1]);t.closeStroke&&a.closePath();for(var M=0;M<i.length;M++){if(u=cL.offsetPolygon(i[M].shape.points,l),o[M])for(a.moveTo(u[0],u[1]),y=2;y<u.length;y+=2)a.lineTo(u[y],u[y+1]);else for(a.moveTo(u[u.length-2],u[u.length-1]),y=u.length-4;y>=0;y-=2)a.lineTo(u[y],u[y+1]);i[M].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*s,a.strokeStyle=r,a.stroke()},n.prototype.paintEllipse=function(t,e,r,i,o,s){var a=2*t.width,l=2*t.height,u=t.x-a/2,c=t.y-l/2,y=.5522848,M=a/2*y,w=l/2*y,A=u+a,D=c+l,I=u+a/2,j=c+l/2;0===r.alignment&&s.save(),s.beginPath(),s.moveTo(u,j),s.bezierCurveTo(u,j-w,I-M,c,I,c),s.bezierCurveTo(I+M,c,A,j-w,A,j),s.bezierCurveTo(A,j+w,I+M,D,I,D),s.bezierCurveTo(I-M,D,u,j+w,u,j),s.closePath(),0===r.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=i,s.fill()),0===r.alignment&&s.restore()},n.prototype.paintRoundedRectangle=function(t,e,r,i,o,s){var a=t.x,l=t.y,u=t.width,c=t.height,y=t.radius,M=Math.min(u,c)/2;y=y>M?M:y,0===r.alignment&&s.save(),s.beginPath(),s.moveTo(a,l+y),s.lineTo(a,l+c-y),s.quadraticCurveTo(a,l+c,a+y,l+c),s.lineTo(a+u-y,l+c),s.quadraticCurveTo(a+u,l+c,a+u,l+c-y),s.lineTo(a+u,l+y),s.quadraticCurveTo(a+u,l,a+u-y,l),s.lineTo(a+y,l),s.quadraticCurveTo(a,l,a,l+y),s.closePath(),0===r.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=i,s.fill()),0===r.alignment&&s.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");if(r&&r.createSVGMatrix&&(this._svgMatrix=r.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),W_=new cr;fs.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var r=this.getLocalBounds(),i=Vs.create({width:r.width,height:r.height,scaleMode:t,resolution:e});RO||(RO=new el),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(W_),W_.invert(),W_.tx-=r.x,W_.ty-=r.y,RO.render(this,{renderTexture:i,clear:!0,transform:W_});var o=Bt.from(i.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return o.baseTexture.setResolution(e),o},fs.prototype.cachedGraphicsData=[],fs.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var dL=new cr,fL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,r=this.renderer,i=r.context;if(e.valid){var o=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,u=0,c=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&c){r.setBlendMode(t.blendMode,!0),r.context.globalAlpha=t.worldAlpha;var y=e.baseTexture.scaleMode===Mi.LINEAR;r.smoothProperty&&r.context[r.smoothProperty]!==y&&(i[r.smoothProperty]=y),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,u=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,u=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(dL),kr.matrixAppendRotationInv(a=dL,e.rotate,l,u),l=0,u=0),l-=o/2,u-=s/2,r.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,u|=0);var M=e.baseTexture.resolution,w=r._outerBlend;w&&(i.save(),i.beginPath(),i.rect(l*r.resolution,u*r.resolution,o*r.resolution,s*r.resolution),i.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=yi.getTintedCanvas(t,t.tint)),i.drawImage(t._tintedCanvas,0,0,Math.floor(o*M),Math.floor(s*M),Math.floor(l*r.resolution),Math.floor(u*r.resolution),Math.floor(o*r.resolution),Math.floor(s*r.resolution))):i.drawImage(c,e._frame.x*M,e._frame.y*M,Math.floor(o*M),Math.floor(s*M),Math.floor(l*r.resolution),Math.floor(u*r.resolution),Math.floor(o*r.resolution),Math.floor(s*r.resolution)),w&&i.restore(),r.setBlendMode(xe.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();Bo.prototype._tintedCanvas=null,Bo.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var pL=new Un,_L=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},n.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},n.prototype.canvas=function(t){var r,i,o,s,e=this.renderer;t&&(s=t instanceof Vs?t:e.generateTexture(t)),s?(r=s.baseTexture._canvasRenderTarget.context,i=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(r=e.rootContext,i=e.resolution,(o=pL).width=this.renderer.width,o.height=this.renderer.height);var a=Math.floor(o.width*i+1e-4),l=Math.floor(o.height*i+1e-4),u=new cf(a,l,1),c=r.getImageData(o.x*i,o.y*i,a,l);return u.context.putImageData(c,0,0),u.canvas},n.prototype.pixels=function(t){var r,i,o,s,e=this.renderer;return t&&(s=t instanceof Vs?t:e.generateTexture(t)),s?(r=s.baseTexture._canvasRenderTarget.context,i=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(r=e.rootContext,i=e.resolution,(o=pL).width=e.width,o.height=e.height),r.getImageData(o.x*i,o.y*i,o.width*i,o.height*i).data},n.prototype.destroy=function(){this.renderer=null},n}(),DO=function(n,t){return(DO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])})(n,t)};function doe(n,t){var e=n;if(t instanceof Xn){var r=t.source,i=0===r.width?e.canvas.width:Math.min(e.canvas.width,r.width),o=0===r.height?e.canvas.height:Math.min(e.canvas.height,r.height);return e.ctx.drawImage(r,0,0,i,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}var mL=function(n){function t(e){var r=n.call(this,e)||this;return r.uploadHookHelper=r,r.canvas=document.createElement("canvas"),r.canvas.width=16,r.canvas.height=16,r.ctx=r.canvas.getContext("2d"),r.registerUploadHook(doe),r}return function hoe(n,t){function e(){this.constructor=n}DO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(IC),By=new cr,z_=new cr,rl=[new wr,new wr,new wr,new wr];jk.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var r=t.context,i=this.worldTransform,o=e.baseTexture,s=o.getDrawableSource(),a=o.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new cf(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=yi.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(s,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var u=this.tileTransform.localTransform,c=this._width,y=this._height;By.identity(),z_.copyFrom(u),this.uvRespectAnchor||z_.translate(-this.anchor.x*c,-this.anchor.y*y),z_.scale(this.tileScale.x/a,this.tileScale.y/a),By.prepend(z_),By.prepend(i),t.setContextTransform(By),r.fillStyle=this._canvasPattern;var M=this.anchor.x*-c,w=this.anchor.y*-y;rl[0].set(M,w),rl[1].set(M+c,w),rl[2].set(M+c,w+y),rl[3].set(M,w+y);for(var A=0;A<4;A++)z_.applyInverse(rl[A],rl[A]);for(r.beginPath(),r.moveTo(rl[0].x,rl[0].y),A=1;A<4;A++)r.lineTo(rl[A].x,rl[A].y);r.closePath(),r.fill()}},Ck.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,r=this.worldTransform,i=!0,o=0,s=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var c=this.children[u];if(c.visible&&c._texture.valid){var y=c._texture.frame;e.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)==0?(i&&(t.setContextTransform(r,!1,1),i=!1),o=c.anchor.x*(-y.width*c.scale.x)+c.position.x+.5,s=c.anchor.y*(-y.height*c.scale.y)+c.position.y+.5,a=y.width*c.scale.x,l=y.height*c.scale.y):(i||(i=!0),c.displayObjectUpdateTransform(),t.setContextTransform(c.worldTransform,this.roundPixels,1),o=c.anchor.x*-y.width+.5,s=c.anchor.y*-y.height+.5,a=y.width,l=y.height);var w=c._texture.baseTexture.resolution;e.drawImage(c._texture.baseTexture.getDrawableSource(),y.x*w,y.y*w,y.width*w,y.height*w,o*t.resolution,s*t.resolution,a*t.resolution,l*t.resolution)}}}},Ur.prototype._renderCanvas=function(t){},Ur.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},zr.prototype.renderCanvas=function(t){},I_.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Bo.prototype._renderCanvas.call(this,t)},el.registerPlugin("accessibility",ET),el.registerPlugin("extract",_L),el.registerPlugin("graphics",hL),el.registerPlugin("interaction",OT),el.registerPlugin("mesh",lL),el.registerPlugin("prepare",mL),el.registerPlugin("sprite",fL);let foe=(()=>{class n{static load(e,r=null,i=1){const o=this.versionResources(e);return new Promise(s=>{o.forEach(a=>{yo.shared.resources[a.name]||yo.shared.add(a)}),"function"==typeof r&&(this.onProgressID=yo.shared.onProgress.add(a=>{r(null==a?void 0:a.progress,i)})),yo.shared.load(()=>{this.onProgressID&&yo.shared.onProgress.detach(this.onProgressID),s()})})}static versionResources(e){return e.map(r=>({name:r.name,url:r.url+=`?v=${Lr_version}`}))}}return n.onProgressID=null,n})();var wf=(()=>(function(n){n.CancelBet="cancelBet",n.None="none"}(wf||(wf={})),wf))();function il(n){return!!n&&(n instanceof ie||E(n.lift)&&E(n.subscribe))}const{isArray:poe}=Array,{getPrototypeOf:_oe,prototype:goe,keys:moe}=Object;function vL(n){if(1===n.length){const t=n[0];if(poe(t))return{args:t,keys:null};if(function voe(n){return n&&"object"==typeof n&&_oe(n)===goe}(t)){const e=moe(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}function yL(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}function bL(...n){const t=Sr(n),{args:e,keys:r}=vL(n),i=new ie(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let c=0;c<s;c++){let y=!1;lt(e[c]).subscribe(ne(o,M=>{y||(y=!0,u--),a[c]=M},()=>l--,void 0,()=>{(!l||!y)&&(u||o.next(r?yL(r,a):a),o.complete())}))}});return t?i.pipe(zS(t)):i}function Ly(n){return new ie(t=>{lt(n()).subscribe(t)})}class yoe extends De{constructor(t=1/0,e=1/0,r=YS){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const s=e.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function xO(n,t,e){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=n):r=null!=n?n:1/0,Mo({connector:()=>new yoe(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ys(n,t){return Ne((e,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();e.subscribe(ne(r,l=>{null==i||i.unsubscribe();let u=0;const c=o++;lt(n(l,c)).subscribe(i=ne(r,y=>r.next(t?t(l,y,c,u++):y),()=>{i=null,a()}))},()=>{s=!0,a()}))})}class $_{}let EL=(()=>{class n extends $_{getTranslation(e){return Gt({})}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class IO{}let SL=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function X_(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let i,o,s,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!X_(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&void 0!==t[o])return!1;return!0}if(!Array.isArray(t))return!1;if((i=n.length)==t.length){for(o=0;o<i;o++)if(!X_(n[o],t[o]))return!1;return!0}}return!1}function ms(n){return null!=n}function NO(n){return n&&"object"==typeof n&&!Array.isArray(n)}function TL(n,t){let e=Object.assign({},n);return NO(n)&&NO(t)&&Object.keys(t).forEach(r=>{NO(t[r])?r in n?e[r]=TL(n[r],t[r]):Object.assign(e,{[r]:t[r]}):Object.assign(e,{[r]:t[r]})}),e}class Uy{}let CL=(()=>{class n extends Uy{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,r){let i;return i="string"==typeof e?this.interpolateString(e,r):"function"==typeof e?this.interpolateFunction(e,r):e,i}getValue(e,r){let i="string"==typeof r?r.split("."):[r];r="";do{r+=i.shift(),!ms(e)||!ms(e[r])||"object"!=typeof e[r]&&i.length?i.length?r+=".":e=void 0:(e=e[r],r="")}while(i.length);return e}interpolateFunction(e,r){return e(r)}interpolateString(e,r){return r?e.replace(this.templateMatcher,(i,o)=>{let s=this.getValue(r,o);return ms(s)?s:i}):e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class Gy{}let OL=(()=>{class n extends Gy{compile(e,r){return e}compileTranslations(e,r){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class ML{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new Lt,this.onLangChange=new Lt,this.onDefaultLangChange=new Lt}}const FO=new qt("USE_STORE"),kO=new qt("USE_DEFAULT_LANG"),BO=new qt("DEFAULT_LANGUAGE"),LO=new qt("USE_EXTEND");let Xc=(()=>{class n{constructor(e,r,i,o,s,a=!0,l=!1,u=!1,c){this.store=e,this.currentLoader=r,this.compiler=i,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=u,this.pending=!1,this._onTranslationChange=new Lt,this._onLangChange=new Lt,this._onDefaultLangChange=new Lt,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let r=this.retrieveTranslations(e);void 0!==r?(null==this.defaultLang&&(this.defaultLang=e),r.pipe(Kn(1)).subscribe(i=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Gt(this.translations[e]);let r=this.retrieveTranslations(e);return void 0!==r?(this.currentLang||(this.currentLang=e),r.pipe(Kn(1)).subscribe(i=>{this.changeLang(e)}),r):(this.changeLang(e),Gt(this.translations[e]))}retrieveTranslations(e){let r;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),r=this._translationRequests[e]),r}getTranslation(e){this.pending=!0;const r=this.currentLoader.getTranslation(e).pipe(xO(1),Kn(1));return this.loadingTranslations=r.pipe(fe(i=>this.compiler.compileTranslations(i,e)),xO(1),Kn(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),r}setTranslation(e,r,i=!1){r=this.compiler.compileTranslations(r,e),this.translations[e]=(i||this.extend)&&this.translations[e]?TL(this.translations[e],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,r,i){let o;if(r instanceof Array){let s={},a=!1;for(let l of r)s[l]=this.getParsedResult(e,l,i),il(s[l])&&(a=!0);return a?bL(r.map(u=>il(s[u])?s[u]:Gt(s[u]))).pipe(fe(u=>{let c={};return u.forEach((y,M)=>{c[r[M]]=y}),c})):s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,r),i)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),i)),void 0===o){let s={key:r,translateService:this};void 0!==i&&(s.interpolateParams=i),o=this.missingTranslationHandler.handle(s)}return void 0!==o?o:r}get(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Ec(i=>il(i=this.getParsedResult(i,e,r))?i:Gt(i)));{let i=this.getParsedResult(this.translations[this.currentLang],e,r);return il(i)?i:Gt(i)}}getStreamOnTranslationChange(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');return Tu(Ly(()=>this.get(e,r)),this.onTranslationChange.pipe(Ys(i=>{const o=this.getParsedResult(i.translations,e,r);return"function"==typeof o.subscribe?o:Gt(o)})))}stream(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');return Tu(Ly(()=>this.get(e,r)),this.onLangChange.pipe(Ys(i=>{const o=this.getParsedResult(i.translations,e,r);return il(o)?o:Gt(o)})))}instant(e,r){if(!ms(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,r);if(il(i)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}return i}set(e,r,i=this.currentLang){this.translations[i][e]=this.compiler.compile(r,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(ke(ML),ke($_),ke(Gy),ke(Uy),ke(IO),ke(kO),ke(FO),ke(LO),ke(BO))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),qn=(()=>{class n{constructor(e,r,i){this.translateService=e,this.element=r,this._ref=i,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(o=>{o.lang===this.translateService.currentLang&&this.checkNodes(!0,o.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(o=>{this.checkNodes(!0,o.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(o=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){X_(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,r){let i=this.element.nativeElement.childNodes;i.length||(this.setContent(this.element.nativeElement,this.key),i=this.element.nativeElement.childNodes);for(let o=0;o<i.length;++o){let s=i[o];if(3===s.nodeType){let a;if(e&&(s.lastKey=null),ms(s.lookupKey))a=s.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(s),u=l.trim();u.length&&(s.lookupKey=u,l!==s.currentValue?(a=u,s.originalContent=l||s.originalContent):s.originalContent?a=s.originalContent.trim():l!==s.currentValue&&(a=u,s.originalContent=l||s.originalContent))}this.updateValue(a,s,r)}}}updateValue(e,r,i){if(e){if(r.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let o=s=>{s!==e&&(r.lastKey=e),r.originalContent||(r.originalContent=this.getContent(r)),r.currentValue=ms(s)?s:r.originalContent||e,this.setContent(r,this.key?r.currentValue:r.originalContent.replace(e,r.currentValue)),this._ref.markForCheck()};if(ms(i)){let s=this.translateService.getParsedResult(i,e,this.currentParams);il(s)?s.subscribe({next:o}):o(s)}else this.translateService.get(e,this.currentParams).subscribe(o)}}getContent(e){return ms(e.textContent)?e.textContent:e.data}setContent(e,r){ms(e.textContent)?e.textContent=r:e.data=r}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(q(Xc),q(ar),q(Bn))},n.\u0275dir=pt({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),n})(),pr=(()=>{class n{constructor(e,r){this.translate=e,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,r,i){let o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,e,r);il(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,r).subscribe(o)}transform(e,...r){if(!e||!e.length)return e;if(X_(e,this.lastKey)&&X_(r,this.lastParams))return this.value;let i;if(ms(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let o=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(i=r[0]);return this.lastKey=e,this.lastParams=r,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(q(Xc,16),q(Bn,16))},n.\u0275pipe=Po({name:"translate",type:n,pure:!1}),n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),Zn=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:$_,useClass:EL},e.compiler||{provide:Gy,useClass:OL},e.parser||{provide:Uy,useClass:CL},e.missingTranslationHandler||{provide:IO,useClass:SL},ML,{provide:FO,useValue:e.isolate},{provide:kO,useValue:e.useDefaultLang},{provide:LO,useValue:e.extend},{provide:BO,useValue:e.defaultLanguage},Xc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:$_,useClass:EL},e.compiler||{provide:Gy,useClass:OL},e.parser||{provide:Uy,useClass:CL},e.missingTranslationHandler||{provide:IO,useClass:SL},{provide:FO,useValue:e.isolate},{provide:kO,useValue:e.useDefaultLang},{provide:LO,useValue:e.extend},{provide:BO,useValue:e.defaultLanguage},Xc]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();var q_=(()=>(function(n){n.SessionStorage="sessionStorage",n.LocalStorage="localStorage"}(q_||(q_={})),q_))();class boe{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return this.storage.keys()[t]?this.storage.keys()[t]:null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)?this.storage.get(t):null}setItem(t,e){this.storage.set(t,""+e)}}let wL=(()=>{class n{constructor(){this._session=this.setStorage(q_.SessionStorage),this._local=this.setStorage(q_.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const r="__storage_test__";return window[e].setItem(r,r),window[e].removeItem(r),window[e]}catch(r){return new boe}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ra=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction"}(Ra||(Ra={})),Ra))(),K_=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(K_||(K_={})),K_))();let Du=(()=>{class n{constructor(){this.DEFAULT_LANG="en",this.user=this.getRequiredParam(Ra.user),this.operator=this.getRequiredParam(Ra.operator),this.currency=this.getRequiredParam(Ra.currency),this.lang=this.getOptionalLangParam(Ra.lang),this.returnUrl=this.getOptionalParam(Ra.returnUrl),this.accountHistoryUrl=this.getOptionalParam(Ra.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(Ra.jurisdiction),this.additionalParams=[],Object.values(K_).forEach(e=>{const r=this.getOptionalParam(e);null!==r&&this.additionalParams.push({[e]:r})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(K_.sisalToken):this.getRequiredParam(Ra.token),mu("url.param.user",this.user),mu("url.param.operator",this.operator),mu("url.param.currency",this.currency),mu("url.param.token",this.token),mu("url.param.lang",this.lang),mu("url.param.return_url",this.returnUrl),mu("url.param.account_history_url",this.accountHistoryUrl),mu("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const r=this.searchURLParam(e);if(null===r||""===r)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${r}`);return r}getOptionalLangParam(e){const r=this.searchURLParam(e);return null===r||""===r?this.DEFAULT_LANG:r.toLowerCase()}getOptionalParam(e){const r=this.searchURLParam(e);return null===r||""===r?null:r}searchURLParam(e){const r=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pn=(()=>{class n{constructor(e,r,i,o,s){this.translate=e,this.http=r,this.storage=i,this.deviceService=o,this.urlParams=s,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const a=[];return a.push(document.fonts.load(`16px ${Cu.Base}`)),Promise.all(a)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===A2.IOS&&parseInt(function bK(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&jS()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${Lr_clientConfig.path}${this.urlParams.operator}${Lr_clientConfig.ext}?v=${Lr_version}`;return new Promise((u,c)=>{this.http.get(l).pipe(function eJ(n){return Ne((t,e)=>{let r,o,i=!1;const s=()=>{r=t.subscribe(ne(e,void 0,void 0,a=>{o||(o=new De,n(o).subscribe(ne(e,()=>r?s():i=!0))),o&&o.next(a)})),i&&(r.unsubscribe(),r=null,i=!1,s())};s()})}(y=>y.pipe(Kn(5),I2(2e3),M=>Tu(M,p_(new Error(e)))))).subscribe(y=>{this._clientConfig=Object.freeze(y),u()},()=>c(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function EK(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===Av.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,v2(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)}setLanguage(){return this.translate.setDefaultLang(this.urlParams.DEFAULT_LANG),new Promise(e=>{this.translate.use(this.urlParams.lang).subscribe(()=>{e()},()=>{this.urlParams.lang=this.urlParams.DEFAULT_LANG,e()})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const r="./assets/images/canvas/",i=[{name:"bg",url:`${r}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${r}prop/prop.svg`},{name:"multiplier-bg-blur",url:`${r}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${r}icons/login-timer.svg`},{name:"icon-clock",url:`${r}icons/clock.svg`},{name:"icon-up-down",url:`${r}icons/up-down.svg`}],o=[];for(let s=0;s<4;s++)o.push({name:`plane-${s}`,url:`${r}plane/${n}/plane-${s}.svg`});return i.concat(o)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return foe.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===Dv.modal}get isGameInited(){return this._isGameInited}getFormattedUsername(e){return this._clientConfig&&!1!==this._clientConfig.isUseMaskedUsername?function CK(n){return n&&function TK(n){return"string"==typeof n||n instanceof String}(n)?`${n.charAt(0)}***${n.charAt(n.length-1)}`.toLowerCase():"*****"}(e):e}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:wf.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return Lr_avatarPath+e+`?v=${Lr_version}`}}return n.\u0275fac=function(e){return new(e||n)(ke(Xc),ke(kS),ke(wL),ke(ZK),ke(Du))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pf=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new De,this._clearSubject=new De,this._message$=this._messageSubject.asObservable(),this._clear$=this._clearSubject.asObservable()}add(e,r=!1){e&&(!1===r?this._messageSubject.next(e):!0===r&&this.zone.run(()=>this._messageSubject.next(e)))}clear(e=null,r=!1){!1===r?this._clearSubject.next(e):!0===r&&this.zone.run(()=>this._clearSubject.next(e))}get clear$(){return this._clear$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lo=(()=>{class n{constructor(){this._subject=new De,this._onOpen$=this._subject.asObservable()}open(e,r=null){this._subject.next({key:e,params:r})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_r=(()=>{class n{constructor(e,r,i,o,s){this.app=e,this.zone=r,this.message=i,this.modal=o,this.urlParams=s,this._display=new De,this.responseSubject=new De,this.isOnLoginError=!1,this.reconnection=new AK}get display(){return this._display.asObservable()}init(){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.zone.runOutsideAngular(()=>{console.log("[ SFS ] instantiate"),this.smartFox=new Yr.SmartFox(this.app.clientConfig.ws),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),this.pingMonitor=new $K(this.smartFox,e=>{this.setDisplay(e)},15e3)}),this.response(dn.Init)}shutdown(e){this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.reconnection.reset(),this.pingMonitor.reset(),this.setDisplay(e)}bindEvents(e=!0){e?(this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Yr.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Yr.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Yr.SFSEvent.EXTENSION_RESPONSE,this.onResponse))}request(e,r){if(null==this.smartFox)return;console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",r);let i=null;null!==r&&r.constructor==={}.constructor&&(i=b2.toSFSObject(r)),this.smartFox.send(new Yr.ExtensionRequest(e+"Handler",i))}response(e,r=null){return this.responseSubject.pipe(Wt(null===r?i=>i.cmd===e:i=>{var o;return i.cmd===e&&(null===(o=i.data)||void 0===o?void 0:o.code)===r}),fe(i=>i.data))}setDisplay(e,r){this.zone.run(()=>this._display.next({state:e,data:r}))}onConnection(e){if(console.log("[ SFS ] onConnection",e),e.success){this.reconnection.reset(),this.setDisplay(null),this.pingMonitor.reset();const r=new Yr.SFSObject;r.putUtfString("token",this.urlParams.token),r.putUtfString("currency",this.urlParams.currency),r.putUtfString("lang",this.urlParams.lang),r.putUtfString("sessionToken",this.app.sessionToken),r.putSFSObject("platform",function RK(n){let t=new Yr.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",ef.Desktop):n.isMobile?t.putUtfString("deviceType",ef.Mobile):n.isTablet&&t.putUtfString("deviceType",ef.Tablet),t}(this.app)),r.putUtfString("version",Lr_version),this.urlParams.jurisdiction&&r.putUtfString("jurisdiction",this.urlParams.jurisdiction);const i=this.urlParams.additionalParams;if(Array.isArray(i)){const s=new Yr.SFSObject;i.forEach(a=>{const l=function SK(n){return"object"!=typeof n?"":Object.keys(n)[0]}(a);s.putUtfString(l,a[l])}),r.putSFSObject("additionalParams",s)}let o=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(o=o+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),this.smartFox.send(new Yr.LoginRequest(o,"",r))}else this.setDisplay(yr.reconnect),this.reconnection.try(this.smartFox,()=>{this.setDisplay(yr.connectionLost)})}onConnectionLost(e){if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===Yr.ClientDisconnectionReason.KICK||e.reason===Yr.ClientDisconnectionReason.BAN)return this.pingMonitor.reset(),void this.setDisplay(yr.kicked);this.setDisplay(yr.reconnect),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin"),this.pingMonitor.start()}onLoginError(e){console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,this.smartFox.disconnect(),this.setDisplay(yr.loginError,this.getDisplayData(e.errorMessage))}getDisplayData(e){if(function OK(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return{additionalOperatorData:JSON.parse(e)}}onResponse(e){if(e.cmd===tf.Response)return;const r=b2.toObject(e.params);r.code===Sc.RealityCheck&&this.zone.run(()=>{this.modal.open(Ln.notification,{type:Dl.RealityCheck,message:r.errorMessage})}),r.code!==Sc.Success&&r.code!==Sc.RealityCheck&&this.zone.run(()=>{this.message.add({value:r.errorMessage,context:Eu.danger})}),e.cmd!==dn.CurrentMultiplier&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",r);const i={cmd:e.cmd,data:r};e.cmd===dn.CurrentMultiplier?this.responseSubject.next(i):this.zone.run(()=>{this.responseSubject.next(i)})}}return n.\u0275fac=function(e){return new(e||n)(ke(pn),ke(Pn),ke(Pf),ke(Lo),ke(Du))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Rr extends De{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var hi=(()=>(function(n){n[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay"}(hi||(hi={})),hi))(),PL=P(6461),Gl=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win"}(Gl||(Gl={})),Gl))();let Af=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const r={src:[`${this.soundPath}sprite_audio.mp3?v=${Lr_version}`],autoplay:!1,loop:!1,volume:.3,sprite:{bet_placed:[0,522.4489795918367],fly_away:[2e3,2574.126984126984],round_start:[6e3,1515.102040816327],win:[9e3,4022.857142857143]}};this._music=new PL.Howl({src:[`${this.soundPath}bg_music.mp3?v=${Lr_version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new PL.Howl(r),this.soundOn=!1,this.musicOn=!1}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qr=(()=>{class n{constructor(e,r,i){this.connector=e,this.sound=r,this.modal=i,this._events=new De,this._eventsObs=this._events.asObservable(),this._stateSubject=new Rr(null),this._stateObs=this._stateSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._onlinePlayers=e.onlinePlayers,this._timeLeft=e.betTimeLeft,this._stateSubject.next(e.stageId),this.changeState$=this.connector.response(dn.ChangeState,200).pipe(Wt(r=>r.newStateId!==hi.End)).subscribe(r=>this.onChangeState(r)),this.connector.response(dn.CurrentMultiplier,200).pipe(Wt(r=>!!r.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:hi.End,roundId:this.roundId})),this.onlinePlayers$=this.connector.response(dn.OnlinePlayers,200).subscribe(r=>this._onlinePlayers=r.onlinePlayers)}onChangeState(e){this._roundId=e.roundId,this._timeLeft=e.timeLeft,e.newStateId===hi.End&&this.sound.play(Gl.FlyAway),e.newStateId===hi.Run&&this.sound.play(Gl.RoundStart),this._stateSubject.next(e.newStateId)}getState(e=null){return null===e?this._stateObs:this._stateObs.pipe(Wt(r=>r===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get onlinePlayers(){return this._onlinePlayers}get isBettingState(){return this.state===hi.Bet}get isRunningState(){return this.state===hi.Run}get isEndingState(){return this.state===hi.End||this.state===hi.EndDelay}emitEvent(e,r){this._events.next({type:e,data:r})}event(e){return this._eventsObs.pipe(Wt(r=>r.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(Ln.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe(),this.onlinePlayers$&&this.onlinePlayers$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(ke(_r),ke(Af),ke(Lo))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var oo=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(oo||(oo={})),oo))();let UO=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(oo.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(oo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(oo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(oo.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(oo.isRandomSeed);return null===e||e&&"true"===e}set isRandomSeed(e){this.setItem(oo.isRandomSeed,e)}get randomSeed(){return null===this.getItem(oo.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(oo.randomSeed)}set randomSeed(e){this.setItem(oo.randomSeed,e)}get manualSeed(){return null===this.getItem(oo.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(oo.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(oo.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(oo.sid))}set sid(e){this.setItem(oo.sid,e)}getRandomSeed(){return v2(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,r){this.storage.local.setItem(this.STORE_PREFIX+e,`${r}`)}}return n.\u0275fac=function(e){return new(e||n)(ke(wL))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gr=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(gr||(gr={})),gr))(),mr=(()=>(function(n){n.Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.AccountHistory="ifc.account.history",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.InternalRealityCheck="ifc.internal.reality.check",n.Autoplay="ifc.autoplay"}(mr||(mr={})),mr))(),qc=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(qc||(qc={})),qc))(),Da=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Da||(Da={})),Da))();let Vl=(()=>{class n{constructor(){this._selfInited=!1,this.isInited=!1,this._commands=new De,this._commandsObs=this._commands.asObservable(),this.sendPostMessage=(e,r)=>{console.log("%c[ IFC EVENT ] "+e,"background: #222; color: #caa817","\n",r);try{parent.postMessage({type:e,data:r},"*")}catch(i){}}}setup(){this._selfInited||(this._selfInited=!0,Fr(window,"message").pipe(Wt(e=>Object.values(vi).includes(e.data.cmd))).subscribe(e=>this.onMessageCommand(e.data)))}onMessageCommand(e){console.log("%c[ IFC COMMAND ] "+e.cmd,"background: #222; color: #bada55","\n",e.data),this._commands.next(e)}command(e){return this._commandsObs.pipe(Wt(r=>r.cmd===e),fe(r=>r.data))}emitEvent(e,r){!this._selfInited||this.sendPostMessage(e,r)}emitCloseEvent(e){!jS()||this.sendPostMessage(mr.Close,e)}emitInitEvent(e){this.emitEvent(mr.Init,{isReInit:this.isInited,balance:e.user.balance,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),this.isInited=!0}emitUpdateStakeEvent(e,r){this.emitEvent(mr.UpdateStake,{id:e,amount:r})}emitEventStartRound(e){const r=[];e&&Array.isArray(e)&&e.forEach(i=>{r.push({id:i.betId,amount:i.data.bet})}),this.emitEvent(mr.StartRound,{bets:r})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Soe=(()=>{class n{constructor(e,r,i){this.connector=e,this.soundService=r,this.ifc=i,this._animationSubject=new Rr(null),this._soundSubject=new Rr(null),this._musicSubject=new Rr(null),this._secondBetSubject=new Rr(null),this.otherSubject=new De,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Da),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet,"other"in e&&this.otherSettingNames.forEach(r=>{r in e.other&&this.other.set(r,e.other[r])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,r){this.other.set(e,r),this.otherSubject.next({name:e,value:r}),this.save(e,r)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.emitEvent(mr.Sound,{value:e}),this.save(qc.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.emitEvent(mr.Music,{value:e}),this.save(qc.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.emitEvent(mr.Animation,{value:e}),this.save(qc.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(qc.SecondBet,e))}save(e,r){!1!==this.saveLock&&this.connector.request(gr.SetPlayerSetting,{settingName:e,value:r})}}return n.\u0275fac=function(e){return new(e||n)(ke(_r),ke(Af),ke(Vl))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xa=(()=>{class n{constructor(e,r,i){this.seed=e,this.app=r,this.settings=i}init(e){this._id=e.userId,this._balance=e.balance,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this._balance}get formattedBalance(){return(this._balance>=0?this._balance:0).toFixed(this.app.config.betPrecision)}set balance(e){this._balance=e}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(ke(UO),ke(pn),ke(Soe))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jl=(()=>{class n{constructor(e,r){this.modal=e,this.connector=r,this._list=[],this._activeId=null,this._activateSource=new De,this._updateSource=new De,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(dn.FreeBetInfo).subscribe(i=>{i.activeFreeBetsInfo&&200===i.code&&this.update(i.activeFreeBetsInfo)}),this.connector.response(dn.FreeBetFinish,200).subscribe(()=>{this.remove(this.activeFreeBet),this.activate(null)})}setList(e,r=!0){!Array.isArray(e)||(this._list=e,r&&this.autoActivation())}autoActivation(){this.activate(this._list.length>0?this._list[0].freeBetsId:null)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(null!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(r=>r.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(r=>r.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const r=this._list.findIndex(i=>i.freeBetsId===e.freeBetsId);this._list.splice(r,1),this._updateSource.next(e)}activate(e=null){e!==this._activeId&&(this._activeId=e,this._activateSource.next(e))}onClaim(){this.connector.request(gr.FreeBetFinish,{freeBetsId:this.activeFreeBet.freeBetsId})}onManage(){this.modal.open(Ln.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(ke(Lo),ke(_r))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Hl=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(Hl||(Hl={})),Hl))();function Ia(n,t=d_){return function Toe(n){return Ne((t,e)=>{let r=!1,i=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const u=i;i=null,e.next(u)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ne(e,u=>{r=!0,i=u,o||lt(n(u)).subscribe(o=ne(e,a,l))},()=>{s=!0,(!r||!o||o.closed)&&e.complete()}))})}(()=>bu(n,t))}let Vy=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new Rr(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Fr(window,"resize").pipe(fe(()=>this.getSize()),Ia(this.AUDIT_TIME)).subscribe(r=>this.zone.run(()=>this.resizeSubject.next(r)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=Hl.md}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RL=(()=>{class n{constructor(){this.fakeElem=null,this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const r="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[r?"right":"left"]="-9999px";const i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${i}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null),window.getSelection().removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ol=(()=>{class n{constructor(e,r,i,o){this.app=e,this.window=r,this.clipBoard=i,this.bsMessage=o,this._isOpen=!1,this._top10Gifs=[],this.tagUserSubject=new De,this._openSubject=new Rr(!1),this.isOpen$=this._openSubject.asObservable()}init(e){if(this.app.config.chat.isEnabled){const r=this.window.getSize().width;r>=Hl.md&&(this.isOpen=!(r<Hl.xl1300&&r>=Hl.lg)),this.messages=function yK(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages),this._top10Gifs=y2(e.chatSettings.top10Gifs)}}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen!==e&&(this._isOpen=e,this._openSubject.next(e),this.window.manualEmitResizeEvent())}shareBet(e){this.clipBoard.copyToClipBoard(`/share_bet:${e} `),this.bsMessage.add({value:"copied-for-chat",context:Eu.success,lifeTime:1e3,closable:!1})}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}}return n.\u0275fac=function(e){return new(e||n)(ke(pn),ke(Vy),ke(RL),ke(Pf))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jy=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new De,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(r,i)=>{try{parent.postMessage({name:r,status:i},"*")}catch(o){}},this.sendActionPostMessage=(r,i)=>{try{parent.postMessage({action:r,data:i},"*")}catch(o){}}}setup(){this.inited||(this.inited=!0,Fr(window,"message").pipe(Wt(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Fr(window,"message").pipe(Wt(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(gr.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(ke(_r))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GO=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,r,i,o){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{i(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(i.bind(this,window[this.windowGrecaptcha]));const s=document.createElement("script");s.innerHTML="",s.src=this.getCaptchaScriptUrl(e,r,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,r,i){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${r}${this.getLanguageParam(i)}`}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),DL=(()=>{class n{constructor(e,r){this.scriptService=e,this.zone=r}execute(e,r,i,o,s){this.executeAsPromise(e,r,o).then(i).catch(a=>s?s(a):console.error(a))}executeAsPromise(e,r,i){return new Promise((o,s)=>{this.scriptService.registerCaptchaScript(!(!i||!i.useGlobalDomain),e,u=>{this.zone.runOutsideAngular(()=>{try{u.execute(e,{action:r}).then(c=>this.zone.run(()=>o(c)))}catch(c){s(c)}})})})}}return n.\u0275fac=function(e){return new(e||n)(ke(GO),ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),Coe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[GO,DL],imports:[[Ut]]}),n})(),sl=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new De,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new De,this.betSetted=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(r=>r.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(r=>r.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(r=>r.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(r=>{this.setBet({betId:r.betId,preBet:!1,data:r})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,r){return void 0===r||e>r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Kc=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(Kc||(Kc={})),Kc))(),Rf=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(Rf||(Rf={})),Rf))();class Ooe{getString(t){return t<Kc.Medium?Rf.Low:t<Kc.High?Rf.Medium:Rf.High}getHex(t){return ko(this.getString(t))}}let VO=(()=>{class n{constructor(){this._startingValue=1,this.levelColor=new Ooe}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:Moe}=Array;function xL(n){return 1===n.length&&Moe(n[0])?n[0]:n}function IL(...n){return 1===(n=xL(n)).length?lt(n[0]):new ie(function woe(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push(lt(n[r]).subscribe(ne(t,i=>{if(e){for(let o=0;o<e.length;o++)o!==r&&e[o].unsubscribe();e=null}t.next(i)})))}}(n))}function NL(n,t,e){n?Oo(e,n,t):t()}function Hy(...n){const t=Sr(n),e=xL(n);return e.length?new ie(r=>{let i=e.map(()=>[]),o=e.map(()=>!1);r.add(()=>{i=o=null});for(let s=0;!r.closed&&s<e.length;s++)lt(e[s]).subscribe(ne(r,a=>{if(i[s].push(a),i.every(l=>l.length)){const l=i.map(u=>u.shift());r.next(t?t(...l):l),i.some((u,c)=>!u.length&&o[c])&&r.complete()}},()=>{o[s]=!0,!i[s].length&&r.complete()}));return()=>{i=o=null}}):qe}function Df(...n){const t=ts(n);return Ne((e,r)=>{(t?Tu(n,e,t):Tu(n,e)).subscribe(r)})}function J_(n,t=oe){return n=null!=n?n:Roe,Ne((e,r)=>{let i,o=!0;e.subscribe(ne(r,s=>{const a=t(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function Roe(n,t){return n===t}function bi(n,t,e){const r=E(n)||t||e?{next:n,error:t,complete:e}:n;return r?Ne((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ne(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):oe}function HO(...n){const t=Sr(n);return Ne((e,r)=>{const i=n.length,o=new Array(i);let s=n.map(()=>!1),a=!1;for(let l=0;l<i;l++)lt(n[l]).subscribe(ne(r,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(oe))&&(s=null))},S));e.subscribe(ne(r,l=>{if(a){const u=[l,...o];r.next(t?t(...u):u)}}))})}new ie(S);let kL=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(q(Io),q(ar))},n.\u0275dir=pt({type:n}),n})(),Jc=(()=>{class n extends kL{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275dir=pt({type:n,features:[sr]}),n})();const Uo=new qt("NgValueAccessor"),Ioe={provide:Uo,useExisting:gn(()=>Qc),multi:!0},Foe=new qt("CompositionEventMode");let Qc=(()=>{class n extends kL{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Noe(){const n=$a()?$a().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(q(Io),q(ar),q(Foe,8))},n.\u0275dir=pt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&Oe("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Jn([Ioe]),sr]}),n})();function LL(n){return null!=n&&"number"==typeof n.length}const So=new qt("NgValidators"),Iu=new qt("NgAsyncValidators");function Yy(n){return null}function $L(n){return null!=n}function XL(n){const t=kp(n)?kn(n):n;return gE(t),t}function qL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function KL(n,t){return t.map(e=>e(n))}function JL(n){return n.map(t=>function Boe(n){return!n.validate}(t)?t:e=>t.validate(e))}function YO(n){return null!=n?function QL(n){if(!n)return null;const t=n.filter($L);return 0==t.length?null:function(e){return qL(KL(e,t))}}(JL(n)):null}function WO(n){return null!=n?function ZL(n){if(!n)return null;const t=n.filter($L);return 0==t.length?null:function(e){return bL(KL(e,t).map(XL)).pipe(fe(qL))}}(JL(n)):null}function e3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function zO(n){return n?Array.isArray(n)?n:[n]:[]}function Wy(n,t){return Array.isArray(n)?n.includes(t):n===t}function r3(n,t){const e=zO(t);return zO(n).forEach(i=>{Wy(e,i)||e.push(i)}),e}function o3(n,t){return zO(t).filter(e=>!Wy(n,e))}class s3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=YO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=WO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Nu extends s3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Go extends s3{get formDirective(){return null}get path(){return null}}let Ws=(()=>{class n extends class a3{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(q(Nu,2))},n.\u0275dir=pt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ut("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[sr]}),n})();function Q_(n,t){(function qO(n,t){const e=function t3(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(e3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function n3(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(e3(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qy(t._rawValidators,i),qy(t._rawAsyncValidators,i)})(n,t),t.valueAccessor.writeValue(n.value),function zoe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&u3(n,t)})}(n,t),function Xoe(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function $oe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&u3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Woe(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function qy(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function u3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QO(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Z_="VALID",Jy="INVALID",xf="PENDING",eg="DISABLED";function eM(n){return(Qy(n)?n.validators:n)||null}function d3(n){return Array.isArray(n)?YO(n):n||null}function tM(n,t){return(Qy(t)?t.asyncValidators:n)||null}function f3(n){return Array.isArray(n)?WO(n):n||null}function Qy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nM=n=>n instanceof iM;function _3(n){return(n=>n instanceof v3)(n)?n.value:n.getRawValue()}function g3(n,t){const e=nM(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new It(1e3,"");if(!r[t])throw new It(1001,"")}function m3(n,t){nM(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new It(1002,"")})}class rM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=d3(this._rawValidators),this._composedAsyncValidatorFn=f3(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Z_}get invalid(){return this.status===Jy}get pending(){return this.status==xf}get disabled(){return this.status===eg}get enabled(){return this.status!==eg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=d3(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=f3(t)}addValidators(t){this.setValidators(r3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(r3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(o3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(o3(t,this._rawAsyncValidators))}hasValidator(t){return Wy(this._rawValidators,t)}hasAsyncValidator(t){return Wy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=eg,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Z_,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Z_||this.status===xf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eg:Z_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xf,this._hasOwnPendingAsyncValidator=!0;const e=XL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Qoe(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=nM(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof ese)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Lt,this.statusChanges=new Lt}_calculateStatus(){return this._allControlsDisabled()?eg:this.errors?Jy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xf)?xf:this._anyControlsHaveStatus(Jy)?Jy:Z_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qy(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class v3 extends rM{constructor(t=null,e,r){super(eM(e),tM(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qy(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){QO(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){QO(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class iM extends rM{constructor(t,e,r){super(eM(e),tM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){m3(this,t),Object.keys(t).forEach(r=>{g3(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=_3(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,o)=>{r=e(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ese extends rM{constructor(t,e,r){super(eM(e),tM(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){m3(this,t),t.forEach((r,i)=>{g3(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>_3(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const rse={provide:Nu,useExisting:gn(()=>vs)},E3=(()=>Promise.resolve(null))();let vs=(()=>{class n extends Nu{constructor(e,r,i,o,s){super(),this._changeDetectorRef=s,this.control=new v3,this._registered=!1,this.update=new Lt,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function JO(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Qc?e=o:function Joe(n){return Object.getPrototypeOf(n.constructor)===Jc}(o)?r=o:i=o}),i||r||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function KO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Q_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){E3.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;E3.then(()=>{var o;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function $y(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(q(Go,9),q(So,10),q(Iu,10),q(Uo,10),q(Bn,8))},n.\u0275dir=pt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([rse]),sr,to]}),n})(),T3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();const sM=new qt("NgModelWithFormControlWarning");function D3(n){return"number"==typeof n?n:parseInt(n,10)}let Zc=(()=>{class n{constructor(){this._validator=Yy}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Yy,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=pt({type:n,features:[to]}),n})();const Mse={provide:So,useExisting:gn(()=>Zy),multi:!0};let Zy=(()=>{class n extends Zc{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>D3(e),this.createValidator=e=>function YL(n){return t=>function xu(n){return null==n||0===n.length}(t.value)||!LL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275dir=pt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&nr("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[Jn([Mse]),sr]}),n})();const wse={provide:So,useExisting:gn(()=>e0),multi:!0};let e0=(()=>{class n extends Zc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>D3(e),this.createValidator=e=>function WL(n){return t=>LL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=Ni(n)))(r||n)}}(),n.\u0275dir=pt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&nr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jn([wse]),sr]}),n})(),L3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[T3]]}),n})(),zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[L3]}),n})(),Ase=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[L3]}),n})();const Bse=["*"],tae=["dialog"];function eh(n){return null!=n}function If(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const G3={animation:!0,transitionTimerDelayMs:5},Kae=()=>{},{transitionTimerDelayMs:Jae}=G3,ng=new Map,Vo=(n,t,e,r)=>{let i=r.context||{};const o=ng.get(t);if(o)switch(r.runningTransition){case"continue":return qe;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),ng.delete(t)}const s=e(t,r.animation,i)||Kae;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),Gt(void 0).pipe(function Xae(n){return t=>new ie(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new De,l=new De,u=a.pipe(function Aoe(...n){return t=>Tu(t,Gt(...n))}(!0));ng.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:i});const c=function qae(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const y=Fr(t,"transitionend").pipe(Wr(u),Wt(({target:w})=>w===t));IL(bu(c+Jae).pipe(Wr(u)),y,l).pipe(Wr(u)).subscribe(()=>{ng.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let n0=(()=>{class n{constructor(){this.animation=G3.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),$3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();var Vi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Vi||(Vi={})),Vi))();const o0=(n,t)=>!!t&&t.some(e=>e.contains(n)),eU=(n,t)=>!t||null!=function $ae(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),_le="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const tU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function nU(n){const t=Array.from(n.querySelectorAll(tU)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const ble=/\s+/,rU=new class yle{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))r=t.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const o=this.offsetParent(t);r=this.offset(t,!1),o!==document.documentElement&&(i=this.offset(o,!1)),i.top+=o.clientTop,i.left+=o.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(t,e=!0){const r=t.getBoundingClientRect(),i_top=window.scrollY-document.documentElement.clientTop,i_left=window.scrollX-document.documentElement.clientLeft;let o={height:r.height||t.offsetHeight,width:r.width||t.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,r,i){const[o="top",s="center"]=r.split("-"),a=i?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),u=parseFloat(l.marginTop),c=parseFloat(l.marginBottom),y=parseFloat(l.marginLeft),M=parseFloat(l.marginRight);let w=0,A=0;switch(o){case"top":w=a.top-(e.offsetHeight+u+c);break;case"bottom":w=a.top+a.height;break;case"left":A=a.left-(e.offsetWidth+y+M);break;case"right":A=a.left+a.width}switch(s){case"top":w=a.top;break;case"bottom":w=a.top+a.height-e.offsetHeight;break;case"left":A=a.left;break;case"right":A=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?A=a.left+a.width/2-e.offsetWidth/2:w=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(A)}px, ${Math.round(w)}px)`;const D=e.getBoundingClientRect(),I=document.documentElement,j=window.innerHeight||I.clientHeight,W=window.innerWidth||I.clientWidth;return D.left>=0&&D.top>=0&&D.right<=W&&D.bottom<=j}};new Date(1882,10,12),new Date(2174,10,25);let uU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,zs]]}),n})(),Rle=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=pt({type:n,selectors:[["",8,"navbar"]]}),n})(),EM=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(q(ar))},n.\u0275dir=pt({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,r){2&e&&ut("disabled",r.disabled)},inputs:{disabled:"disabled"}}),n})(),u0=(()=>{class n{constructor(e,r){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(q(gn(()=>Ff)),q(ar))},n.\u0275dir=pt({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,r,i){if(1&e&&pi(i,EM,4),2&e){let o;zn(o=$n())&&(r.menuItems=o)}},hostVars:5,hostBindings:function(e,r){1&e&&Oe("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return r.dropdown.onKeyDown(o)})("keydown.Space",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&e&&(nr("x-placement",r.placement),ut("dropdown-menu",!0)("show",r.dropdown.isOpen()))}}),n})(),c0=(()=>{class n{constructor(e,r){this.dropdown=e,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(q(gn(()=>Ff)),q(ar))},n.\u0275dir=pt({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){2&e&&nr("aria-expanded",r.dropdown.isOpen())}}),n})(),SM=(()=>{class n extends c0{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(q(gn(()=>Ff)),q(ar))},n.\u0275dir=pt({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){1&e&&Oe("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&e&&nr("aria-expanded",r.dropdown.isOpen())},features:[Jn([{provide:c0,useExisting:gn(()=>n)}]),sr]}),n})(),Ff=(()=>{class n{constructor(e,r,i,o,s,a,l){this._changeDetector=e,this._document=i,this._ngZone=o,this._elementRef=s,this._renderer=a,this._closed$=new De,this._bodyContainer=null,this._open=!1,this.openChange=new Lt,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(Kn(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:r,previousValue:i}=e.dropdownClass;this._applyCustomDropdownClass(r,i)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function mle(n,t,e,r,i,o,s,a){e&&n.runOutsideAngular((n=>_le?()=>setTimeout(()=>n(),100):n)(()=>{const u=Fr(t,"keydown").pipe(Wr(i),Wt(M=>M.which===Vi.Escape),bi(M=>M.preventDefault())),c=Fr(t,"mousedown").pipe(fe(M=>{const w=M.target;return 2!==M.button&&!o0(w,s)&&("inside"===e?o0(w,o)&&eU(w,a):"outside"===e?!o0(w,o):eU(w,a)||!o0(w,o))}),Wr(i)),y=Fr(t,"mouseup").pipe(HO(c),Wt(([M,w])=>w),I2(0),Wr(i));IL([u.pipe(fe(M=>0)),y.pipe(fe(M=>1))]).subscribe(M=>n.run(()=>r(M)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const r=e.which,i=this._getMenuElements();let o=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&i.length&&i.forEach((l,u)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(o=u)}),r!==Vi.Space&&r!==Vi.Enter){if(r!==Vi.Tab){if(a||s){if(this.open(),i.length){switch(r){case Vi.ArrowDown:o=Math.min(o+1,i.length-1);break;case Vi.ArrowUp:if(this._isDropup()&&-1===o){o=i.length-1;break}o=Math.max(o-1,0);break;case Vi.Home:o=0;break;case Vi.End:o=i.length-1}i[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(tU);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Fr(e.target,"focusout").pipe(Kn(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Fr(s,"click").pipe(Kn(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function Ele(n,t,e,r,i){let o=Array.isArray(e)?e:e.split(ble);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=w=>{const[A,D]=w.split("-"),I=[];return i&&(I.push(`${i}-${A}`),D&&I.push(`${i}-${A}-${D}`),I.forEach(j=>{a.add(j)})),I};i&&s.forEach(w=>{a.remove(`${i}-${w}`)});let u=o.findIndex(w=>"auto"===w);u>=0&&s.forEach(function(w){null==o.find(A=>-1!==A.search("^"+w))&&o.splice(u++,1,w)});const c=t.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";let y=null,M=!1;for(y of o){let w=l(y);if(rU.positionElements(n,t,y,r)){M=!0;break}i&&w.forEach(A=>{a.remove(A)})}return M||(y=o[0],l(y),rU.positionElements(n,t,y,r)),y}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const i=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,i),e.removeStyle(i,"position"),e.removeStyle(i,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const r=this._renderer,i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(o,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(o,"z-index","1050"),r.appendChild(o,i),r.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),e&&this._renderer.addClass(i,e))}_applyPlacementClasses(e){const r=this._menu;if(r){e||(e=this._getFirstPlacement(this.placement));const i=this._renderer,o=this._elementRef.nativeElement;i.removeClass(o,"dropup"),i.removeClass(o,"dropdown"),r.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";i.addClass(o,s);const a=this._bodyContainer;a&&(i.removeClass(a,"dropup"),i.removeClass(a,"dropdown"),i.addClass(a,s))}}}return n.\u0275fac=function(e){return new(e||n)(q(Bn),q(Rle),q(Nr),q(Pn),q(ar),q(Io),q(cU,8))},n.\u0275dir=pt({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,r,i){if(1&e&&(pi(i,u0,5),pi(i,c0,5)),2&e){let o;zn(o=$n())&&(r._menu=o.first),zn(o=$n())&&(r._anchor=o.first)}},hostVars:2,hostBindings:function(e,r){2&e&&ut("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[to]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();class ih{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let Dle=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{Vo(this._zone,this._el.nativeElement,(e,r)=>{r&&If(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vo(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(q(ar),q(Pn))},n.\u0275cmp=Pt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,r){2&e&&(cc("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ut("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class jo{close(t){}dismiss(t){}}class xle{constructor(t,e,r,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new De,this._dismissed=new De,this._hidden=new De,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function zae(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Gt(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Hy(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sg=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(sg||(sg={})),sg))();let Ile=(()=>{class n{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new De,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Lt,this.shown=new De,this.hidden=new De}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Kn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Hy(Vo(this._zone,e,()=>e.classList.remove("show"),r),Vo(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},r=Vo(this._zone,this._elRef.nativeElement,(o,s)=>{s&&If(o),o.classList.add("show")},e);Hy(r,Vo(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Fr(e,"keydown").pipe(Wr(this._closed$),Wt(i=>i.which===Vi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(sg.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Fr(this._dialogEl.nativeElement,"mousedown").pipe(Wr(this._closed$),bi(()=>r=!1),Ys(()=>Fr(e,"mouseup").pipe(Wr(this._closed$),Kn(1))),Wt(({target:i})=>e===i)).subscribe(()=>{r=!0}),Fr(e,"click").pipe(Wr(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(sg.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=nU(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vo(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(q(Nr),q(ar),q(Pn))},n.\u0275cmp=Pt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&Yo(tae,7),2&e){let i;zn(i=$n())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(nr("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),cc("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ut("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Bse,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(Um(),x(0,"div",0,1)(2,"div",2),Gm(3),F()()),2&e&&cc("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Nle=()=>{};let Fle=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Nle}_adjustBody(e){const r=this._document.body,i=r.style.paddingRight,o=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${o+e}px`,()=>r.style["padding-right"]=i}_isPresent(e){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(e);const i=e.getBoundingClientRect().width-e.clientWidth;return r.removeChild(e),i}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kle=(()=>{class n{constructor(e,r,i,o,s,a){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new De,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Lt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Fr(t,"focusin").pipe(Wr(e),fe(o=>o.target));Fr(t,"keydown").pipe(Wr(e),Wt(o=>o.which===Vi.Tab),HO(i)).subscribe(([o,s])=>{const[a,l]=nU(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),r&&Fr(t,"click").pipe(Wr(e),HO(i),fe(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,r,i,o){const s=o.container instanceof HTMLElement?o.container:eh(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const c=new jo,y=this._getContentRef(e,o.injector||r,i,c,o);let M=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,w=this._attachWindowComponent(e,s,y),A=new xle(w,y,M,o.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(w),A.result.then(l,l),A.result.then(u,u),c.close=D=>{A.close(D)},c.dismiss=D=>{A.dismiss(D)},this._applyWindowOptions(w.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),M&&M.instance&&(this._applyBackdropOptions(M.instance,o),M.changeDetectorRef.detectChanges()),w.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let o=e.resolveComponentFactory(Dle).create(this._injector);return this._applicationRef.attachView(o.hostView),r.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,r,i){let s=e.resolveComponentFactory(Ile).create(this._injector,i.nodes);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{eh(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{eh(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,o,s){return i?i instanceof Vr?this._createFromTemplateRef(i,o):function U3(n){return"string"==typeof n}(i)?this._createFromString(i):this._createFromComponent(e,r,i,o,s):new ih([])}_createFromTemplateRef(e,r){const o=e.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(o),new ih([o.rootNodes],o)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new ih([[r]])}_createFromComponent(e,r,i,o,s){const a=e.resolveComponentFactory(i),l=Si.create({providers:[{provide:jo,useValue:o}],parent:r}),u=a.create(l),c=u.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new ih([[c]],u.hostView,u)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(ke(nv),ke(Si),ke(Nr),ke(Fle),ke(Vd),ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ble=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(ke(n0))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TM=(()=>{class n{constructor(e,r,i,o){this._moduleCFR=e,this._injector=r,this._modalStack=i,this._config=o}open(e,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(ke(Ud),ke(Si),ke(kle),ke(Ble))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[TM]}),n})(),gU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),PU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),RU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();new qt("live announcer delay",{providedIn:"root",factory:function Kle(){return 100}});let xU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})();const Jle=[z3,$3,q3,Q3,Z3,uU,hU,dU,gU,CU,MU,wU,PU,AU,RU,DU,xU];let h0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[Jle,z3,$3,q3,Q3,Z3,uU,hU,dU,gU,CU,MU,wU,PU,AU,RU,DU,xU]}),n})(),IU=(()=>{class n{constructor(e,r){this.elRef=e,this.multiplierService=r}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(q(ar),q(VO))},n.\u0275dir=pt({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const Qle=function(n,t){return{padding:n,borderRadius:t}};let Wl=(()=>{class n{constructor(){this.padding="2px 11px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:2,vars:5,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,r){1&e&&(x(0,"div",0),$(1),F()),2&e&&(Q("ngStyle",va(2,Qle,r.padding,r.borderRadius)),V(1),He(" ",r.multiplier.toFixed(2),"x\n"))},directives:[IU,t_],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),oh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,r){1&e&&Ge(0,"div",0),2&e&&Q("ngClass",r.size)},directives:[Zp],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@-webkit-keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function Zle(n,t){if(1&n&&(x(0,"div",12)(1,"div",13),Ge(2,"app-bubble-multiplier",14),F(),x(3,"div",15),$(4),it(5,"date"),F()()),2&n){const e=ve();V(2),Q("multiplier",e.fairnessData.result),V(2),He(" ",Bi(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const eue=function(n){return{value:n}};function tue(n,t){if(1&n&&(x(0,"div",23)(1,"div",36)(2,"span",37),$(3," shared.modals.fairness.player "),F(),x(4,"div",38),Ge(5,"img",39),$(6),F()(),x(7,"div",40)(8,"span",21),$(9,"shared.modals.fairness.seed"),F(),x(10,"div",41),$(11),F()()()),2&n){const e=ve(),r=e.index,i=e.$implicit,o=ve(2);V(2),Q("translateParams",ma(5,eue,r+1)),V(3),Q("src",o.getAvatar(i),fo)("alt",o.getAvatar(i)),V(1),He(" ",o.app.getFormattedUsername(i.username)," "),V(5),He(" ",i.seed," ")}}function nue(n,t){if(1&n&&(x(0,"div"),pe(1,tue,12,7,"div",35),F()),2&n){const e=t.$implicit;ve();const r=Fs(22);V(1),Q("ngIf",e)("ngIfElse",r)}}function rue(n,t){1&n&&(x(0,"div",42),$(1," shared.modals.fairness.not enough "),F())}function iue(n,t){if(1&n){const e=Ct();x(0,"div",16)(1,"div",17)(2,"div",18),Ge(3,"div",19),x(4,"div",20)(5,"span",21),$(6,"shared.modals.fairness.server seed"),F(),x(7,"div",22),$(8,"shared.modals.fairness.server tip"),F()()(),x(9,"div",23)(10,"input",24,25),Oe("ngModelChange",function(i){return dt(e),ve().fairnessData.serverSeed=i})("click",function(){dt(e);const i=Fs(11);return ve().onSelect(i)}),F()()(),x(12,"div",26)(13,"div",18),Ge(14,"div",27),x(15,"div",20)(16,"span",21),$(17,"shared.modals.fairness.client seed"),F(),x(18,"div",22),$(19,"shared.modals.fairness.client tip"),F()()(),pe(20,nue,2,2,"div",28),pe(21,rue,2,0,"ng-template",null,29,za),F(),x(23,"div",30)(24,"div",18),Ge(25,"div",31),x(26,"div",20)(27,"span",21),$(28,"shared.modals.fairness.hash"),F(),x(29,"div",22),$(30,"shared.modals.fairness.hash tip"),F()()(),x(31,"div",23)(32,"input",24,32),Oe("ngModelChange",function(i){return dt(e),ve().fairnessData.seedSHA256=i})("click",function(){dt(e);const i=Fs(33);return ve().onSelect(i)}),F()()(),x(34,"div",33)(35,"div",18)(36,"span",21),$(37,"shared.modals.fairness.hex"),F(),x(38,"span",21),$(39,"shared.modals.fairness.decimal"),F(),x(40,"span",21),$(41,"shared.modals.fairness.result"),F()(),x(42,"div",23)(43,"span"),$(44),F(),x(45,"span"),$(46),F(),x(47,"span"),$(48),F()()(),x(49,"div",34)(50,"div",18)(51,"span",21),$(52,"shared.modals.fairness.hex"),F()(),x(53,"div",23)(54,"span"),$(55),F()(),x(56,"div",18)(57,"span",21),$(58,"shared.modals.fairness.decimal"),F()(),x(59,"div",23)(60,"span"),$(61),F()(),x(62,"div",18)(63,"span",21),$(64,"shared.modals.fairness.result"),F()(),x(65,"div",23)(66,"span"),$(67),F()()()()}if(2&n){const e=ve();V(10),Q("readonly",!0)("ngModel",e.fairnessData.serverSeed),V(10),Q("ngForOf",e.players),V(12),Q("readonly",!0)("ngModel",e.fairnessData.seedSHA256),V(12),jt(e.fairnessData.partSeedHexNumber),V(2),jt(e.fairnessData.partSeedDecimalNumber),V(2),jt(e.fairnessData.result),V(7),jt(e.fairnessData.partSeedHexNumber),V(6),jt(e.fairnessData.partSeedDecimalNumber),V(6),jt(e.fairnessData.result)}}function oue(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader"),F())}let sh=class{constructor(t,e,r,i){this.activeModal=t,this.app=e,this.modal=r,this.connector=i,this.loaded=!1}ngOnInit(){this.connector.request(gr.RoundFairness,{roundId:this.betId}),this.connector.response(dn.RoundFairness,200).pipe(Mt(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(Ln.whatIsPf)}onSelect(t){t.select()}get players(){const t=this.fairnessData.playerSeeds;for(let e=t.length;e<3;e++)t.push(null);return t}getAvatar(t){return Lr_avatarPath+t.profileImage+`?v=${Lr_version}`}ngOnDestroy(){this.loaded=!1}};sh.\u0275fac=function(t){return new(t||sh)(q(jo),q(pn),q(Lo),q(_r))},sh.\u0275cmp=Pt({type:sh,selectors:[["app-fairness"]],decls:17,vars:7,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["translate","",1,"help"],["translate","",3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server"],[1,"text"],["translate",""],["translate","",1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],["translate","",3,"translateParams"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],["translate","",1,"value","empty"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F(),pe(4,Zle,6,5,"div",2),x(5,"button",3),Oe("click",function(){return e.activeModal.close()}),x(6,"span",4),$(7,"\xd7"),F()()(),x(8,"div",5)(9,"div",6),pe(10,iue,68,11,"div",7),pe(11,oue,2,0,"div",8),F()(),x(12,"div",9)(13,"div",10),$(14," shared.modals.fairness.help "),x(15,"span",11),Oe("click",function(){return e.onPFModalOpen()}),$(16," shared.what_is_provably_fair "),F()()()),2&t&&(V(2),Wi(" ",yt(3,5,"shared.round")," ",e.betId," "),V(2),Q("ngIf",e.loaded),V(6),Q("ngIf",e.loaded),V(1),Q("ngIf",!e.loaded))},directives:[hn,Wl,qn,Qc,Ws,vs,Hr,oh],pipes:[pr,mc],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.14ac68b338b918d9.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.72620f2a0ac61808.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.8df4a583745aa47b.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),sh=Ue([ui()],sh);let sue=(()=>{class n{constructor(e,r){this.activeModal=e,this.app=r}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-what-is-pf-modal"]],decls:53,vars:39,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],["translate",""],[1,"text-center","text-uppercase"],["translate","",1,"description","mt-2"],["translate","",1,"mt-3"],[1,"description","mt-2"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F(),x(4,"button",2),Oe("click",function(){return r.activeModal.close()}),x(5,"span",3),$(6,"\xd7"),F()()(),x(7,"div",4)(8,"div",5),Ge(9,"div",6),F(),x(10,"div",7)(11,"span"),$(12),it(13,"translate"),F()(),x(14,"div",8)(15,"span",9),$(16,"shared.modals.provably-fair.top text"),F()(),x(17,"div",10),$(18),it(19,"translate"),F(),x(20,"div",9),$(21,"shared.modals.provably-fair.Simple"),F(),x(22,"div",11),$(23," shared.modals.provably-fair.text1 "),F(),x(24,"div",12),$(25,"shared.modals.provably-fair.more"),F(),x(26,"div",13),$(27),it(28,"translate"),it(29,"translate"),it(30,"translate"),F(),x(31,"div",13),$(32),it(33,"translate"),F(),x(34,"div",14),Ge(35,"div",15),F(),x(36,"div",10),$(37),it(38,"translate"),F(),x(39,"div",16)(40,"div"),$(41),it(42,"translate"),F(),x(43,"div"),$(44),it(45,"translate"),F(),x(46,"div"),$(47),it(48,"translate"),it(49,"translate"),F(),x(50,"div"),$(51),it(52,"translate"),F()()()),2&e&&(V(2),He(" ",yt(3,13,"shared.what_is_provably_fair"),"? "),V(10),He(" Provably Fair - ",yt(13,15,"shared.modals.provably-fair.slogan")," "),V(6),He(" ",yt(19,17,"shared.modals.provably-fair.How does it work")," "),V(9),yE(" ",yt(28,19,"shared.modals.provably-fair.text2-1")," ",yt(29,21,"shared.modals.provably-fair.text2-2")," ",yt(30,23,"shared.modals.provably-fair.text2-3")," "),V(5),He(" ",yt(33,25,"shared.modals.provably-fair.text2-4")," "),V(5),He(" ",yt(38,27,"shared.modals.provably-fair.video title")," "),V(4),He("- ",yt(42,29,"shared.modals.provably-fair.stats-1"),""),V(3),He("- ",yt(45,31,"shared.modals.provably-fair.stats-2"),""),V(3),Wi(" - ",yt(48,33,"shared.modals.provably-fair.settings-1")," ",yt(49,35,"shared.modals.provably-fair.settings-2")," "),V(4),He("- ",yt(52,37,"shared.modals.provably-fair.settings-3"),""))},directives:[qn],pipes:[pr],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.77cec112dd06b391.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),aue=(()=>{class n{constructor(e){this.seed=e,this.finish=new Lt,this.isSaveBtnEnabled=!0}ngOnInit(){this.seedValue=this.seed.manualSeed}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const r=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(r)}}return n.\u0275fac=function(e){return new(e||n)(q(UO))},n.\u0275cmp=Pt({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:26,vars:11,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["translate",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"seed-body"],["translate","",1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),$(4," shared.modals.fairness-settings.seed-change.change seed "),F(),x(5,"button",4),Oe("click",function(){return r.handlerClose()}),x(6,"span",5),$(7,"\xd7"),F()()(),x(8,"div",6)(9,"div",7),$(10," shared.modals.fairness-settings.seed-change.enter new seed "),F(),x(11,"div",8)(12,"input",9),Oe("ngModelChange",function(o){return r.seedValue=o})("ngModelChange",function(o){return r.validateSeedValue(o)}),F(),x(13,"button",10),Oe("click",function(){return r.handlerRandom()}),x(14,"span",11),$(15),it(16,"translate"),F()()(),x(17,"div",12)(18,"button",13),Oe("click",function(){return r.handlerSave()}),x(19,"span",11),$(20),it(21,"translate"),F()(),x(22,"button",14),Oe("click",function(){return r.handlerClose()}),x(23,"span",11),$(24),it(25,"translate"),F()()()()()()),2&e&&(V(12),Q("ngModel",r.seedValue),V(3),jt(yt(16,5,"shared.random")),V(3),Q("disabled",!r.isSaveBtnEnabled),V(2),jt(yt(21,7,"shared.save")),V(4),jt(yt(25,9,"shared.cancel")))},directives:[qn,Qc,Ws,vs],pipes:[pr],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function lue(n,t){1&n&&(x(0,"div",34)(1,"div",35),$(2," shared.modals.fairness-settings.alert "),F()())}function uue(n,t){if(1&n){const e=Ct();x(0,"app-seed-change",36),Oe("finish",function(){return dt(e),ve().changeSeed=!1}),F()}}let ah=class{constructor(t,e,r,i,o,s,a){this.modal=t,this.seed=e,this.bsMessage=r,this.connector=i,this.betControl=o,this.clipboard=s,this.activeModal=a,this.changeSeed=!1,this.serverSeed=null,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(gr.ServerSeed,null),this.connector.response(dn.ServerSeed,200).pipe(Mt(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Eu.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(Ln.whatIsPf)}};function cue(n,t){if(1&n){const e=Ct();x(0,"img",9),Oe("click",function(){const o=dt(e).$implicit;return ve().onSaveAvatar(o.name)}),F()}if(2&n){const e=t.$implicit,r=ve();ut("active",r.user.avatar===e.name),Q("src",r.getAvatar(e.name),fo)("alt",r.getAvatar(e.name))}}ah.\u0275fac=function(t){return new(t||ah)(q(Lo),q(UO),q(Pf),q(_r),q(sl),q(RL),q(jo))},ah.\u0275cmp=Pt({type:ah,selectors:[["app-fairness-settings"]],decls:70,vars:16,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],["translate",""],["translate","",1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],["translate","",1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],["translate","",1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],["translate","",1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),$(2),it(3,"translate"),F(),x(4,"button",2),Oe("click",function(){return e.activeModal.close()}),x(5,"span",3),$(6,"\xd7"),F()()(),x(7,"div",4),pe(8,lue,3,0,"div",5),x(9,"div",6)(10,"p",7),$(11,"shared.modals.fairness-settings.tooltip.text"),F(),x(12,"p",8),Oe("click",function(){return e.onPFModalOpen()}),Ge(13,"i",9),$(14," shared.what_is_provably_fair "),F()(),x(15,"div",10)(16,"div",11)(17,"div",12),Ge(18,"i",13),x(19,"span",7),$(20,"shared.modals.fairness-settings.client-part.title"),F()(),x(21,"div",14)(22,"span",7),$(23,"shared.modals.fairness-settings.client-part.text"),F()()(),x(24,"div",15)(25,"label",16),Oe("click",function(){return e.onSelectClientSeedType(!0)}),x(26,"span",17),Ge(27,"i",18),F(),x(28,"span",7),$(29," shared.modals.fairness-settings.client-part.random "),F()(),x(30,"div",19)(31,"div",20)(32,"div",21)(33,"p")(34,"span",22),$(35," shared.modals.fairness-settings.client-part.current "),F(),x(36,"span"),$(37),F()()(),x(38,"i",23),Oe("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),F()()()(),x(39,"div",15)(40,"label",16),Oe("click",function(){return e.onSelectClientSeedType(!1)}),x(41,"span",17),Ge(42,"i",18),F(),x(43,"span",7),$(44," shared.modals.fairness-settings.client-part.manual "),F()(),x(45,"div",24)(46,"div",25)(47,"div",21)(48,"p")(49,"span",22),$(50," shared.modals.fairness-settings.client-part.current "),F(),x(51,"span"),$(52),F()()(),x(53,"i",23),Oe("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),F()(),x(54,"button",26),Oe("click",function(){return e.changeSeed=!0}),x(55,"span"),$(56),it(57,"translate"),F()()()()(),x(58,"div",27)(59,"div",28),Ge(60,"i",29),x(61,"span",7),$(62,"shared.modals.fairness-settings.server seed"),F()(),x(63,"div",30)(64,"div",31)(65,"div",21),$(66),F()()()()(),x(67,"div",32),$(68,"shared.modals.fairness-settings.bottom"),F(),pe(69,uue,1,0,"app-seed-change",33)),2&t&&(V(2),He(" ",yt(3,12,"shared.provably_fair_settings")," "),V(6),Q("ngIf",e.betSetted),V(16),ut("active",e.seed.isRandomSeed),V(13),jt(e.seed.randomSeed),V(2),ut("active",!e.seed.isRandomSeed),V(13),jt(e.seed.manualSeedWithId),V(2),Q("disabled",e.seed.isRandomSeed),V(2),jt(yt(57,14,"shared.change")),V(10),He(" ",null===e.serverSeed?"loading...":e.serverSeed," "),V(3),Q("ngIf",e.changeSeed))},directives:[hn,qn,aue],pipes:[pr],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.e62efb43de5363fc.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.72620f2a0ac61808.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.14ac68b338b918d9.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.163c9ecbadb7cbd9.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),ah=Ue([ui()],ah);let hue=(()=>{class n{constructor(e,r,i){this.activeModal=e,this.connector=r,this.user=i,this.avatars=[];for(let o=1;o<=72;o++)this.avatars.push({name:"av-"+o+".png"})}getAvatar(e){return Lr_avatarPath+e+`?v=${Lr_version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(gr.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(_r),q(xa))},n.\u0275cmp=Pt({type:n,selectors:[["app-game-avatar"]],decls:12,vars:1,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["translate","",1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span",1),$(2,"shared.modals.game-avatar.title"),F(),x(3,"button",2),Oe("click",function(){return r.activeModal.close()}),x(4,"span",3),$(5,"\xd7"),F()()(),x(6,"div",4)(7,"div",5),pe(8,cue,1,4,"img",6),F()(),x(9,"div",7)(10,"button",8),Oe("click",function(){return r.activeModal.close()}),$(11," shared.close "),F()()),2&e&&(V(8),Q("ngForOf",r.avatars))},directives:[qn,Hr],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function due(n,t){if(1&n){const e=Ct();x(0,"div",3)(1,"div",4)(2,"span",5),Oe("click",function(){return dt(e),ve().selectClick(null)}),Ge(3,"i",6),F(),x(4,"div",7),$(5," shared.modals.free-bets-management.play with cash "),F()()()}2&n&&ut("selected",ve().freeBets.isActive(null))}function fue(n,t){if(1&n){const e=Ct();x(0,"span",5),Oe("click",function(){dt(e);const i=ve(2);return i.selectClick(i.freeBet.freeBetsId)}),Ge(1,"i",6),F()}}function pue(n,t){if(1&n&&(x(0,"div",18),$(1),F()),2&n){const e=ve(2);V(1),He(" ",e.freeBet.numberOfFreeBets," ")}}function _ue(n,t){if(1&n&&(x(0,"div",19),$(1),F()),2&n){const e=ve(2);V(1),jt(e.freeBet.freeBetsLeft)}}function gue(n,t){if(1&n&&(x(0,"div",20)(1,"div",21)(2,"div",22),$(3," shared.modals.free-bets-management.granted "),F(),x(4,"div",23),$(5),it(6,"date"),F()(),x(7,"div",24)(8,"div",22),$(9," shared.modals.free-bets-management.min cashout coefficient "),F(),x(10,"div",23),$(11),F()(),x(12,"div",24)(13,"div",22),$(14," shared.modals.free-bets-management.expires "),F(),x(15,"div",23),$(16),it(17,"date"),F()()()),2&n){const e=ve(2);V(5),He(" ",Bi(6,3,e.freeBet.freeBetsStartDate,"dd.MM.y")," "),V(6),jt(e.freeBet.freeBetsMinCashOut),V(5),He(" ",Bi(17,6,e.freeBet.freeBetsEndDate,"dd.MM.y")," ")}}function mue(n,t){if(1&n){const e=Ct();x(0,"div",8)(1,"div",4),pe(2,fue,2,0,"span",9),pe(3,pue,2,1,"div",10),pe(4,_ue,2,1,"div",11),x(5,"div",12)(6,"div",13)(7,"span"),$(8),F()()(),x(9,"div",14)(10,"div",13),$(11),F()(),x(12,"div",15),Oe("click",function(){return dt(e),ve().toggleDisplayDetails()}),Ge(13,"div",16),F()(),pe(14,gue,18,9,"div",17),F()}if(2&n){const e=ve();ut("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),V(2),Q("ngIf",!e.isArchive),V(1),Q("ngIf",e.isArchive),V(1),Q("ngIf",!e.isArchive),V(4),He(" ",e.freeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),V(3),He(" ",e.freeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),V(2),ut("rotate",e.isDisplayedDetails),V(1),Q("ngIf",e.isDisplayedDetails)}}let vue=(()=>{class n{constructor(e,r,i,o){this.mainService=e,this.freeBets=r,this.activeModal=i,this.app=o,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(q(qr),q(jl),q(jo),q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],["translate","",1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],["translate","",1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,r){1&e&&(x(0,"div",0),pe(1,due,6,2,"div",1),pe(2,mue,15,12,"div",2),F()),2&e&&(Q("ngSwitch",r.itemType),V(1),Q("ngSwitchCase","playWithCash"))},directives:[Pl,gc,qn,e_,hn],pipes:[mc],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function yue(n,t){1&n&&Ge(0,"app-free-bet-management-item",13),2&n&&Q("itemType","playWithCash")}function bue(n,t){if(1&n){const e=Ct();x(0,"div",14)(1,"div",1),$(2,"shared.modals.free-bets-management.active free bets"),F(),x(3,"div",15),Oe("click",function(){return dt(e),ve().onClickArchiveHistory()}),Ge(4,"div",16),x(5,"div",1),$(6,"shared.archive"),F()()()}}function Eue(n,t){if(1&n){const e=Ct();x(0,"div",17)(1,"div",1),$(2,"shared.archive"),F(),x(3,"div",15),Oe("click",function(){return dt(e),ve().isArchive=!1}),Ge(4,"div",18),x(5,"div",1),$(6,"shared.back"),F()()()}if(2&n){const e=ve();V(3),ut("disabled",!e.loaded)}}function Sue(n,t){if(1&n&&(x(0,"div",27),Ge(1,"app-free-bet-management-item",28),F()),2&n){const e=t.$implicit,r=ve(2);V(1),Q("isArchive",r.isArchive)("freeBet",e)}}function Tue(n,t){if(1&n){const e=Ct();x(0,"div",29)(1,"div",30),Oe("click",function(){dt(e);const i=ve(2);return i.getFreeBetsArchive(i.freeBetsList[i.freeBetsList.length-1].freeBetsId)}),Ge(2,"div",31),x(3,"span",32),$(4,"shared.load_more"),F()()()}}function Cue(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader",33),F())}function Oue(n,t){if(1&n&&(x(0,"div",19)(1,"div",20)(2,"div",21),$(3," shared.modals.free-bets-management.quantity "),F(),x(4,"div",22),$(5),it(6,"translate"),F(),x(7,"div",23),$(8),it(9,"translate"),F()(),x(10,"div",24),pe(11,Sue,2,2,"div",25),pe(12,Tue,5,0,"div",26),pe(13,Cue,2,0,"div",11),F()()),2&n){const e=ve();V(2),ut("archive",e.isArchive),V(3),Wi(" ",yt(6,9,"shared.bet"),", ",e.app.config.currency," "),V(3),Wi(" ",yt(9,11,"shared.win"),", ",e.app.config.currency," "),V(3),Q("ngForOf",e.freeBetsList),V(1),Q("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),V(1),Q("ngIf",e.isArchive&&!e.loaded)}}function Mue(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader"),F())}function wue(n,t){1&n&&(x(0,"div",37),$(1," shared.modals.free-bets-management.no active free bets "),F())}function Pue(n,t){1&n&&(x(0,"div",37),$(1," shared.modals.free-bets-management.nothing yet "),F())}function Aue(n,t){if(1&n&&(x(0,"div",34),Ge(1,"div",35),pe(2,wue,2,0,"div",36),pe(3,Pue,2,0,"div",36),F()),2&n){const e=ve();V(2),Q("ngIf",!e.isArchive),V(1),Q("ngIf",e.isArchive)}}let lh=class{constructor(t,e,r,i){this.app=t,this.activeModal=e,this.freeBets=r,this.connector=i,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1}ngOnInit(){this.connector.response(dn.FreeBetsArchive).pipe(Mt(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(gr.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};lh.\u0275fac=function(t){return new(t||lh)(q(pn),q(jo),q(jl),q(_r))},lh.\u0275cmp=Pt({type:lh,selectors:[["app-free-bets-management"]],decls:15,vars:6,consts:[[1,"title","modal-header","canSelect"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],["translate","",1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],["translate","",1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text","translate","",4,"ngIf"],["translate","",1,"none-text"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),$(2,"shared.modals.free-bets-management.title"),F(),x(3,"button",2),Oe("click",function(){return e.activeModal.close()}),x(4,"span",3),$(5,"\xd7"),F()()(),x(6,"div",4)(7,"div",5)(8,"div",6),pe(9,yue,1,1,"app-free-bet-management-item",7),pe(10,bue,7,0,"div",8),pe(11,Eue,7,2,"div",9),pe(12,Oue,14,13,"div",10),pe(13,Mue,2,0,"div",11),pe(14,Aue,4,2,"div",12),F()()()),2&t&&(V(9),Q("ngIf",!e.isArchive),V(1),Q("ngIf",!e.isArchive),V(1),Q("ngIf",e.isArchive),V(1),Q("ngIf",e.freeBetsCount>0),V(1),Q("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),V(1),Q("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[qn,hn,vue,Hr,oh],pipes:[pr],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.adefaa8953b7a11e.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.a8377d083674a681.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.b2d16e043b6ad29d.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.3da436b8879be7c2.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.45bbe491bf39179a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.bf5127f9fcce9dbc.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),lh=Ue([ui()],lh);var Xo=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es"}(Xo||(Xo={})),Xo))();const NU=n=>{const t={};return t[Xo.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1",t[Xo.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1",t[Xo.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1",t[Xo.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1",t[Xo.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1",t[Xo.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1",t[Xo.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1",t[Xo.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1",t[Xo.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1",t[Xo.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1",t.hasOwnProperty(n)?t[n]:t[Xo.EN]};function Rue(n,t){1&n&&(x(0,"li",24),$(1," shared.modals.rules.game-rules.game-functions.bet-cashout.point2 "),F())}function Due(n,t){1&n&&(x(0,"ul",23)(1,"li",24),$(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1 "),F(),x(3,"li",24),$(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2 "),F(),x(5,"li",24),$(6," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3 "),F(),x(7,"li",24),$(8," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4 "),F(),x(9,"li",24),$(10," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5 "),F()())}function xue(n,t){1&n&&(x(0,"ul",23)(1,"li",24),$(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6 "),F(),x(3,"li",24),$(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5 "),F()())}function Iue(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),$(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title "),F(),pe(3,Due,11,0,"ul",32),pe(4,xue,5,0,"ul",32),F()),2&n){const e=ve();V(3),Q("ngIf",void 0!==e.app.config.autoBetOptions),V(1),Q("ngIf",void 0===e.app.config.autoBetOptions)}}function Nue(n,t){1&n&&(x(0,"div",27)(1,"div",22),$(2," shared.modals.rules.game-rules.game-functions.in-game-chat.title "),F(),x(3,"ul",23)(4,"li",24),$(5," shared.modals.rules.game-rules.game-functions.in-game-chat.point1 "),F()()())}function Fue(n,t){1&n&&(x(0,"div",27)(1,"div",33),$(2),it(3,"translate"),F(),x(4,"ul",23)(5,"li",24),$(6," shared.modals.rules.game-rules.game-functions.free-bets.point1 "),F()()()),2&n&&(V(2),He(" ",yt(3,1,"shared.free_bets")," "))}function kue(n,t){1&n&&(x(0,"div",27)(1,"div",22),$(2," shared.modals.rules.game-rules.game-functions.rain-feature.title "),F(),x(3,"ul",23)(4,"li",24),$(5," shared.modals.rules.game-rules.game-functions.rain-feature.point1 "),F()()())}const Bue=function(n,t){return{minBankValue:n,currency:t}};function Lue(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),$(2," shared.modals.rules.game-rules.game-functions.minimum_bank_value.title "),F(),x(3,"ul",23)(4,"li",34),$(5),it(6,"translate"),F()()()),2&n){const e=ve();V(5),He(" ",Bi(6,1,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",va(4,Bue,e.minBankValue,e.app.config.currency))," ")}}const Uue=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function Gue(n,t){if(1&n&&(x(0,"div",27)(1,"div",22),$(2," shared.modals.rules.game-rules.game-functions.return-to-player.title "),F(),x(3,"ul",23)(4,"li",34),$(5),it(6,"translate"),F()()()),2&n){const e=ve();V(5),He(" ",Bi(6,1,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",va(4,Uue,e.app.config.returnToPlayer,100-e.app.config.returnToPlayer))," ")}}function Vue(n,t){1&n&&(x(0,"li",24),$(1," shared.modals.rules.game-rules.game-functions.other.unfinished game "),F())}const jue=function(n,t){return{maxWin:n,currency:t}};function Hue(n,t){if(1&n&&(x(0,"li",34),$(1),it(2,"translate"),F()),2&n){const e=ve();V(1),He(" ",Bi(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",va(4,jue,e.app.config.maxUserWin,e.app.config.currency))," ")}}function Yue(n,t){if(1&n&&(x(0,"div",35)(1,"div")(2,"span",36),$(3," shared.modals.rules.game-rules.game-functions.version "),F(),x(4,"span"),$(5),F()()()),2&n){const e=ve();V(5),jt(e.app.config.gameVersion)}}let Wue=(()=>{class n{constructor(e,r,i,o,s){this.activeModal=e,this.app=r,this.modal=i,this.urlParams=o,this.sanitizer=s,this.minBankValue=(1.01*this.app.config.minBet).toFixed(this.app.config.betPrecision)}ngOnInit(){const e=NU(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(Ln.whatIsPf)}get isShowRainFeature(){try{return this.app.config.chat.rain.isEnabled||this.app.config.chat.promo.isEnabled}catch(e){return!0}}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(pn),q(Lo),q(Du),q(SS))},n.\u0275cmp=Pt({type:n,selectors:[["app-rules"]],decls:117,vars:26,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["translate","",1,"text-grey"],["href","#","translate","",3,"click"],[1,"mt-4","mb-2","text-uppercase"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"steps-wrapper"],["translate","",1,"pt-5","pl-2"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],["translate","",1,"step-text","pt-2"],[1,"step","step-2"],["translate","",1,"step-text"],[1,"step","step-3"],["translate","",1,"mt-3","text-grey"],[1,"rules-list","pt-3"],["translate","",1,"rules-list-title"],[1,"list-group"],["translate","",1,"list-group-item"],[1,"icon-fair"],["translate","",1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item","translate","",4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","list-group-item",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"rules-list-title","text-capitalize"],[1,"list-group-item"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"],["translate",""]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F(),x(4,"button",2),Oe("click",function(){return r.activeModal.close()}),x(5,"span",3),$(6,"\xd7"),F()()(),x(7,"div",4)(8,"p",5),$(9,"shared.modals.rules.game-rules.main-text"),F(),x(10,"a",6),Oe("click",function(o){return r.onPFModalOpen(o)}),$(11," shared.modals.rules.game-rules.link "),F(),x(12,"h6",7),$(13),it(14,"translate"),F(),x(15,"div",8)(16,"div",9),Ge(17,"iframe",10),F()(),x(18,"div",11)(19,"h6",12),$(20," shared.modals.rules.game-rules.steps.title "),F(),x(21,"div",13)(22,"div",14)(23,"h3"),$(24,"01"),F(),Ge(25,"div",15),x(26,"div",16)(27,"span",1),$(28),it(29,"translate"),F(),$(30," shared.modals.rules.game-rules.steps.first-step "),F()(),x(31,"div",17)(32,"h3"),$(33,"02"),F(),Ge(34,"div",15),x(35,"div",18)(36,"span",1),$(37),it(38,"translate"),F(),$(39," shared.modals.rules.game-rules.steps.second-step "),F()(),x(40,"div",19)(41,"h3"),$(42,"03"),F(),Ge(43,"div",15),x(44,"div",18)(45,"span",1),$(46),it(47,"translate"),F(),$(48," shared.modals.rules.game-rules.steps.third-step "),F()()(),x(49,"p",20),$(50," shared.modals.rules.game-rules.steps.text "),F(),x(51,"div",21)(52,"div",22),$(53," shared.modals.rules.game-rules.details.title "),F(),x(54,"ul",23)(55,"li",24),$(56," shared.modals.rules.game-rules.details.point1 "),F(),x(57,"li",24),$(58," shared.modals.rules.game-rules.details.point2 "),F(),x(59,"li",24),$(60," shared.modals.rules.game-rules.details.point3-1 "),Ge(61,"span",25),$(62," shared.modals.rules.game-rules.details.point3-2 "),F()()()(),x(63,"h6",26),$(64," shared.modals.rules.game-rules.game-functions.title "),F(),x(65,"div",27)(66,"div",22),$(67," shared.modals.rules.game-rules.game-functions.bet-cashout.title "),F(),x(68,"ul",23)(69,"li",24),$(70," shared.modals.rules.game-rules.game-functions.bet-cashout.point1 "),F(),pe(71,Rue,2,0,"li",28),x(72,"li",24),$(73," shared.modals.rules.game-rules.game-functions.bet-cashout.point3 "),F(),x(74,"li",24),$(75," shared.modals.rules.game-rules.game-functions.bet-cashout.point4 "),F()()(),pe(76,Iue,5,2,"div",29),x(77,"div",27)(78,"div",22),$(79," shared.modals.rules.game-rules.game-functions.live-bets-statistics.title "),F(),x(80,"ul",23)(81,"li",24),$(82," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1 "),F(),x(83,"li",24),$(84," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2 "),F(),x(85,"li",24),$(86," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3 "),F()()(),pe(87,Nue,6,0,"div",29),pe(88,Fue,7,3,"div",29),pe(89,kue,6,0,"div",29),x(90,"div",27)(91,"div",22),$(92," shared.modals.rules.game-rules.game-functions.randomization.title "),F(),x(93,"ul",23)(94,"li",24),$(95," shared.modals.rules.game-rules.game-functions.randomization.point1 "),x(96,"a",6),Oe("click",function(o){return r.onPFModalOpen(o)}),$(97," shared.modals.rules.game-rules.link "),F()(),x(98,"li",24),$(99," shared.modals.rules.game-rules.game-functions.randomization.point2 "),F(),x(100,"li",24),$(101," shared.modals.rules.game-rules.game-functions.randomization.point3-1 "),Ge(102,"span",25),$(103," shared.modals.rules.game-rules.game-functions.randomization.point3-2 "),F()()(),pe(104,Lue,7,7,"div",29),pe(105,Gue,7,7,"div",29),x(106,"div",27)(107,"div",22),$(108," shared.modals.rules.game-rules.game-functions.other.title "),F(),x(109,"ul",23)(110,"li",24),$(111," shared.modals.rules.game-rules.game-functions.other.point1 "),F(),x(112,"li",24),$(113," shared.modals.rules.game-rules.game-functions.other.point2 "),F(),pe(114,Vue,2,0,"li",28),pe(115,Hue,3,7,"li",30),F()(),pe(116,Yue,6,1,"div",31),F()),2&e&&(V(2),jt(yt(3,16,"shared.game_rules")),V(11),He(" ",yt(14,18,"shared.how_to_play")," "),V(4),Q("src",r.videoURL,Mm),V(11),jt(yt(29,20,"shared.bet")),V(9),jt(yt(38,22,"shared.watch")),V(9),He(" ",yt(47,24,"shared.cash_out")," "),V(25),Q("ngIf",r.app.config.isMultipleBetsEnabled),V(5),Q("ngIf",r.app.isAutoBetFeatureEnabled),V(11),Q("ngIf",r.app.config.chat.isEnabled),V(1),Q("ngIf",r.app.isFreeBetsEnabled),V(1),Q("ngIf",r.isShowRainFeature),V(15),Q("ngIf",r.app.config.isGameRulesHaveMinimumBankValue),V(1),Q("ngIf",r.app.config.returnToPlayer>0),V(9),Q("ngIf",r.app.config.isRuleUnfinishedGame),V(1),Q("ngIf",r.app.config.isGameRulesHaveMaxWin),V(1),Q("ngIf",r.app.config.gameVersion))},directives:[qn,hn],pipes:[pr],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.6fd455f16f929594.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.652dcfd9d89241e2.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:240px;height:140px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-1[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-01.d2bc6dfa6d5518ce.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.6aae9ac8161a78ed.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.8bd39c6ac174d9c4.png)}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"]}),n})(),zue=(()=>{class n{constructor(e,r,i,o){this.activeModal=e,this.sanitizer=r,this.modal=i,this.urlParams=o}ngOnInit(){const e=NU(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(Ln.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(SS),q(Lo),q(Du))},n.\u0275cmp=Pt({type:n,selectors:[["app-quick-help-modal"]],decls:29,vars:4,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"step"],[1,"bullet","bullet-1"],["translate",""],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],["translate","",1,"btn","btn-link","btn-sm","mx-auto",3,"click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span"),$(2),it(3,"translate"),F(),x(4,"button",1),Oe("click",function(){return r.activeModal.close()}),x(5,"span",2),$(6,"\xd7"),F()()(),x(7,"div",3)(8,"div",4)(9,"div",5),Ge(10,"iframe",6),F()(),x(11,"div",7)(12,"div",8),$(13,"01"),F(),x(14,"p",9),$(15,"shared.modals.quick-help.step1"),F()(),x(16,"div",7)(17,"div",10),$(18,"02"),F(),x(19,"p",9),$(20,"shared.modals.quick-help.step2"),F()(),x(21,"div",7)(22,"div",11),$(23,"03"),F(),x(24,"p",9),$(25,"shared.modals.quick-help.step3"),F()()(),x(26,"div",12)(27,"button",13),Oe("click",function(){return r.onShowRules()}),$(28," shared.modals.quick-help.details "),F()()),2&e&&(V(2),He("",yt(3,2,"shared.how_to_play"),"?"),V(8),Q("src",r.videoURL,Mm))},directives:[qn],pipes:[pr],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.894883471c6dcfbf.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.c3a9f1cc78219734.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var kf=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent"}(kf||(kf={})),kf))(),ag=(()=>(function(n){n.Navigate="navigate",n.IfcEvent="ifcEvent"}(ag||(ag={})),ag))(),lg=(()=>(function(n){n.RealityCheck="reality_check"}(lg||(lg={})),lg))(),uh=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(uh||(uh={})),uh))();function $ue(n,t){1&n&&(x(0,"p",7),$(1," shared.modals.notification.alderney_message "),F())}function Xue(n,t){if(1&n&&(x(0,"p",8),$(1),F()),2&n){const e=ve();V(1),jt(e.params.message)}}function que(n,t){if(1&n){const e=Ct();x(0,"p",9)(1,"button",10),Oe("click",function(){return dt(e),ve().onOpenAccountHistory()}),$(2," shared.modals.notification.account_history "),F()()}}function Kue(n,t){if(1&n){const e=Ct();x(0,"div",11)(1,"button",12),Oe("click",function(){dt(e);const i=ve();return i.onRealityCheck(i.realityCheckAction.Continue)}),$(2),it(3,"translate"),F(),x(4,"button",13),Oe("click",function(){dt(e);const i=ve();return i.onRealityCheck(i.realityCheckAction.Stop)}),$(5),it(6,"translate"),F()()}2&n&&(V(2),He(" ",yt(3,2,"shared.continue")," "),V(3),He(" ",yt(6,4,"shared.stop")," "))}function Jue(n,t){if(1&n){const e=Ct();x(0,"div",11)(1,"button",14),Oe("click",function(){return dt(e),ve().activeModal.close()}),$(2),it(3,"translate"),F()()}if(2&n){const e=ve();V(1),Q("disabled",e.isAcknowledgeDisabled),V(1),He(" ",yt(3,2,"shared.acknowledge")," ")}}let ch=class{constructor(t,e,r,i,o,s,a,l){this.activeModal=t,this.connector=e,this.modal=r,this.frontEndProxyService=i,this.betControls=o,this.ifc=s,this.app=a,this.urlParams=l,this.realityCheckAction=uh,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&bu(5e3).pipe(Mt(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===Dl.RealityCheck}get isInternalRealityCheck(){return this.params.type===Dl.InternalRealityCheck}get isAlderney(){return this.params.type===Dl.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(gr.NotificationCallback,{notificationType:lg.RealityCheck,action:t}),t===uh.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(yr.shutdown),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===kf.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===ag.IfcEvent?this.ifc.emitEvent(mr.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(Ln.myBetsHistory)}};function Que(n,t){if(1&n&&(x(0,"div",2),$(1),F()),2&n){const e=ve();V(1),jt(e.freeBetLabel)}}function Zue(n,t){if(1&n&&(x(0,"div"),$(1),F()),2&n){const e=ve();V(1),jt(e.amount.toFixed(e.app.config.betPrecision))}}ch.\u0275fac=function(t){return new(t||ch)(q(jo),q(_r),q(Lo),q(jy),q(sl),q(Vl),q(pn),q(Du))},ch.\u0275cmp=Pt({type:ch,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4","translate","",4,"ngIf"],["class","text-center p-4",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],["translate","",1,"text-center","p-4"],[1,"text-center","p-4"],[1,"text-center"],["translate","",1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F()(),x(4,"div",2),pe(5,$ue,2,0,"p",3),pe(6,Xue,2,1,"p",4),pe(7,que,3,0,"p",5),F(),pe(8,Kue,7,6,"div",6),pe(9,Jue,4,4,"div",6)),2&t&&(V(2),jt(yt(3,6,"shared.notification")),V(3),Q("ngIf",e.isAlderney),V(1),Q("ngIf",e.isRCButtonsVisible),V(1),Q("ngIf",e.isRCButtonsVisible),V(1),Q("ngIf",e.isRCButtonsVisible),V(1),Q("ngIf",e.isAlderney))},directives:[hn,qn],pipes:[pr],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),ch=Ue([ui()],ch);let wM=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[4,"ngIf"],[1,"free-bet"]],template:function(e,r){1&e&&(pe(0,Que,2,1,"div",0),pe(1,Zue,2,1,"div",1)),2&e&&(Q("ngIf",r.isFreeBet),V(1),Q("ngIf",!r.isFreeBet))},directives:[hn],styles:[".free-bet[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}"]}),n})();function ece(n,t){if(1&n&&(x(0,"div"),$(1),it(2,"date"),F()),2&n){const e=ve();V(1),jt(Bi(2,1,e.bet.cashOutDate,"dd-MM-yy"))}}function tce(n,t){if(1&n&&(x(0,"div",12),$(1),F()),2&n){const e=ve();V(1),He(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}let FU=(()=>{class n{constructor(e,r,i){this.app=e,this.chat=r,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(q(pn),q(ol),q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet",isDateDetailed:"isDateDetailed"},decls:15,vars:15,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],[4,"ngIf"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"cash-out"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div"),$(3),it(4,"date"),F(),pe(5,ece,3,4,"div",2),F(),x(6,"div",3)(7,"div",4),Ge(8,"app-bet-amount",5),F(),x(9,"div",6),Ge(10,"app-bubble-multiplier",7),F(),pe(11,tce,2,1,"div",8),F(),x(12,"div",9)(13,"div",10),Oe("click",function(){return r.main.checkFairness(r.bet.roundId)}),F(),x(14,"div",11),Oe("click",function(){return r.chat.shareBet(r.bet.roundBetId)}),F()()()),2&e&&(ut("celebrated",r.bet.winAmount),V(1),ut("detailed",r.isDateDetailed),V(2),jt(Bi(4,12,r.bet.cashOutDate,"HH:mm")),V(2),Q("ngIf",r.isDateDetailed),V(3),Q("amount",r.bet.bet)("isFreeBet",r.bet.isFreeBet),V(2),Q("multiplier",r.bet.payout||r.bet.maxMultiplier),V(1),Q("ngIf",r.bet.winAmount),V(1),ut("disabled",!r.main.canCheckFairness(r.bet.roundId)))},directives:[hn,wM,Wl],pipes:[mc],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .date.detailed[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function nce(n,t){1&n&&Ge(0,"app-bet-item",17),2&n&&Q("bet",t.$implicit)("isDateDetailed",!0)}function rce(n,t){if(1&n){const e=Ct();x(0,"button",18),Oe("click",function(){return dt(e),ve().onLoadMore()}),$(1," shared.load_more "),F()}2&n&&Q("disabled",0===ve().lastBetId)}function ice(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader"),F())}let hh=class{constructor(t,e,r){this.app=t,this.activeModal=e,this.connector=r,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(dn.BetHistory,200).pipe(Mt(this),Wt(()=>!this.loaded)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(gr.BetHistory,0===t?null:{lastBetId:t})}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}};hh.\u0275fac=function(t){return new(t||hh)(q(pn),q(jo),q(_r))},hh.\u0275cmp=Pt({type:hh,selectors:[["app-my-bets-history"]],decls:28,vars:14,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-0","pt-3","pb-4"],[1,"bet-list"],[1,"legend","px-2","d-flex","align-items-center","w-100"],["translate","",1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"bet-list-body","px-1"],[3,"bet","isDateDetailed",4,"ngFor","ngForOf"],[1,"pt-2","text-center"],["type","button","class","btn btn-secondary px-3 btn-sm","translate","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[3,"bet","isDateDetailed"],["type","button","translate","",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F(),x(4,"button",2),Oe("click",function(){return e.activeModal.close()}),x(5,"span",3),$(6,"\xd7"),F()()(),x(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),$(11,"game.bets-widget.date"),F(),x(12,"div",8)(13,"span",9),$(14),it(15,"translate"),F(),x(16,"span"),$(17,"X"),F(),x(18,"span",10),$(19),it(20,"translate"),F()(),Ge(21,"div",11),F(),x(22,"div",12),un(23),pe(24,nce,1,2,"app-bet-item",13),cn(),F()(),x(25,"div",14),pe(26,rce,2,1,"button",15),pe(27,ice,2,0,"div",16),F()()),2&t&&(V(2),jt(yt(3,8,"shared.my_bet_history")),V(12),Wi(" ",yt(15,10,"shared.bet"),", ",e.app.config.currency," "),V(5),Wi(" ",yt(20,12,"shared.cash_out"),", ",e.app.config.currency," "),V(5),Q("ngForOf",e.betHistory),V(2),Q("ngIf",e.loaded),V(1),Q("ngIf",!e.loaded))},directives:[qn,Hr,FU,hn,oh],pipes:[pr],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}"]}),hh=Ue([ui()],hh);let oce=(()=>{class n{constructor(e,r){this.activeModal=e,this.app=r}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-game-limits"]],decls:33,vars:9,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],["translate",""],[1,"badge","badge-success","px-2","font-weight-normal"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span",1),$(2),it(3,"translate"),F(),x(4,"button",2),Oe("click",function(){return r.activeModal.close()}),x(5,"span",3),$(6,"\xd7"),F()()(),x(7,"div",4)(8,"ul",5)(9,"li",6)(10,"div")(11,"span",7),$(12,"shared.modals.game-limits.min-bet"),F(),x(13,"span"),$(14),F()(),x(15,"span",8),$(16),F()(),x(17,"li",6)(18,"div")(19,"span",7),$(20,"shared.modals.game-limits.max-bet"),F(),x(21,"span"),$(22),F()(),x(23,"span",8),$(24),F()(),x(25,"li",6)(26,"div")(27,"span",7),$(28,"shared.modals.game-limits.max-win-one-bet"),F(),x(29,"span"),$(30),F()(),x(31,"span",8),$(32),F()()()()),2&e&&(V(2),jt(yt(3,7,"shared.game_limits")),V(12),He("(",r.app.config.currency,"):"),V(2),He(" ",r.app.config.minBet," "),V(6),He("(",r.app.config.currency,"):"),V(2),He(" ",r.app.config.maxBet," "),V(6),He("(",r.app.config.currency,"):"),V(2),He(" ",r.app.config.maxUserWin," "))},directives:[qn],pipes:[pr],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom:0}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-top:0}"]}),n})(),d0=(()=>{class n{constructor(e){this.cd=e,this.toggle=new Lt,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(q(Bn))},n.\u0275cmp=Pt({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[Jn([{provide:Uo,useExisting:gn(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,r){1&e&&(x(0,"div",0),Oe("click",function(){return r.onClick()}),Ge(1,"span",1),F()),2&e&&ut("off",!r.checked)("disabled",r.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function sce(n,t){if(1&n){const e=Ct();x(0,"li",6)(1,"div")(2,"span",7),$(3),F()(),x(4,"app-ui-switcher",8),Oe("toggle",function(i){const s=dt(e).$implicit;return ve().user.settings.changeOther(s,i)}),F()()}if(2&n){const e=t.$implicit,r=ve();V(3),He("shared.modals.other_settings.",r.translations.get(e),""),V(1),Q("ngModel",r.user.settings.getOther(e))}}let ace=(()=>{class n{constructor(e,r,i){this.activeModal=e,this.app=r,this.user=i,this.translations=new Map([[Da.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Da.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(pn),q(xa))},n.\u0275cmp=Pt({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],["translate",""],[3,"ngModel","toggle"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span"),$(2),it(3,"translate"),F(),x(4,"button",1),Oe("click",function(){return r.activeModal.close()}),x(5,"span",2),$(6,"\xd7"),F()()(),x(7,"div",3)(8,"ul",4),pe(9,sce,5,2,"li",5),F()()),2&e&&(V(2),jt(yt(3,2,"shared.modals.other_settings.title")),V(7),Q("ngForOf",r.user.settings.otherKeys))},directives:[Hr,qn,d0,Ws,vs],pipes:[pr],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})(),lce=(()=>{class n{constructor(e,r){this.ngbModal=e,this.modal=r}init(){this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,r=null){switch(e){case Ln.bugReport:break;case Ln.fairness:this.ngbModal.open(sh,{size:"lg"}).componentInstance.betId=r;break;case Ln.fairnessSettings:this.ngbModal.open(ah,{size:"lg"});break;case Ln.freeBets:this.ngbModal.open(lh);break;case Ln.avatar:this.ngbModal.open(hue,{size:"lg"});break;case Ln.rules:this.ngbModal.open(Wue,{size:"xl"});break;case Ln.whatIsPf:this.ngbModal.open(sue,{size:"xl"});break;case Ln.quickHelp:this.ngbModal.open(zue,{size:"lg"});break;case Ln.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.ngbModal.open(ch,{backdrop:"static"}).componentInstance.params=r;break;case Ln.myBetsHistory:this.ngbModal.open(hh);break;case Ln.gameLimits:this.ngbModal.open(oce);break;case Ln.otherSettings:this.ngbModal.open(ace)}}}return n.\u0275fac=function(e){return new(e||n)(ke(TM),ke(Lo))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uce(n,t){if(1&n&&(x(0,"div",34),$(1),F()),2&n){const e=ve(2);V(1),He(" ",e.freeBets.freeBetsCount," ")}}function cce(n,t){if(1&n){const e=Ct();x(0,"div",31),Oe("click",function(){return dt(e),ve().onFreeBetsManagementOpen()}),x(1,"div",13)(2,"div",14),Ge(3,"div",32),F(),x(4,"div",25),$(5),it(6,"translate"),F(),pe(7,uce,2,1,"div",33),F()()}if(2&n){const e=ve();V(5),He(" ",yt(6,2,"shared.free_bets")," "),V(2),Q("ngIf",e.freeBets.freeBetsCount>0)}}function hce(n,t){if(1&n){const e=Ct();x(0,"div",23),Oe("click",function(){return dt(e),ve().onOtherSettingsOpen()}),x(1,"div",13)(2,"div",14),Ge(3,"div",35),F(),x(4,"div",36),$(5),it(6,"translate"),F()()()}2&n&&(V(5),He(" ",yt(6,1,"shared.Other_Settings")," "))}function dce(n,t){if(1&n){const e=Ct();x(0,"a",37),Oe("click",function(){return dt(e),ve().onBackToHome()}),Ge(1,"div",38),x(2,"span",9),$(3,"shared.home"),F()()}}let dh=class{constructor(t,e,r,i,o,s,a,l,u,c,y,M){this.connector=t,this.mainService=e,this.app=r,this.user=i,this.sound=o,this.betControl=s,this.freeBets=a,this.proxy=l,this.ifc=u,this.cd=c,this.modal=y,this.urlParams=M}ngOnInit(){this.ifc.command(vi.OpenHelp).pipe(Mt(this)).subscribe(()=>this.onRulesOpen()),this.ifc.command(vi.SetSound).pipe(Mt(this)).subscribe(t=>this.setSetting(vi.SetSound,t.value)),this.ifc.command(vi.SetMusic).pipe(Mt(this)).subscribe(t=>this.setSetting(vi.SetMusic,t.value)),this.ifc.command(vi.SetAnimation).pipe(Mt(this)).subscribe(t=>this.setSetting(vi.SetAnimation,t.value))}setSetting(t,e){switch(t){case vi.SetSound:this.user.settings.sound=e;break;case vi.SetMusic:this.user.settings.music=e;break;case vi.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get avatar(){return Lr_avatarPath+this.user.avatar+`?v=${Lr_version}`}onChangeAvatar(){this.modal.open(Ln.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(Ln.freeBets)}onFairnessOpen(){this.modal.open(Ln.fairnessSettings)}onRulesOpen(){this.modal.open(Ln.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===ag.IfcEvent?this.ifc.emitEvent(mr.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(Ln.myBetsHistory)}onGameLimitsOpen(){this.modal.open(Ln.gameLimits)}onOtherSettingsOpen(){this.modal.open(Ln.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===kf.IfcEvent)return this.proxy.sendBackToHome(this.urlParams.returnUrl),void this.ifc.emitEvent(mr.BackToHome,{returnUrl:this.urlParams.returnUrl});window.open(this.urlParams.returnUrl,"_top")}};function fce(n,t){if(1&n&&(x(0,"a",16),Ge(1,"img",17),F()),2&n){const e=ve();ut("disabled",null===e.urlParams.returnUrl),Q("href",e.homeUrl,fo),V(1),Q("src",e.brandLogo,fo)}}function pce(n,t){if(1&n){const e=Ct();x(0,"button",18),Oe("click",function(){return dt(e),ve().onOpenHelp()}),Ge(1,"div",19),x(2,"div",20),$(3),it(4,"translate"),F()()}2&n&&(V(3),He(" ",yt(4,1,"shared.how_to_play"),"? "))}function _ce(n,t){if(1&n&&(x(0,"div",21),$(1),F()),2&n){const e=ve();V(1),He(" ",e.freeBets.freeBetsCount," ")}}function gce(n,t){if(1&n){const e=Ct();x(0,"div",22),Oe("click",function(){dt(e);const i=ve();return i.chat.isOpen=!i.chat.isOpen}),Ge(1,"div",23),F()}}dh.\u0275fac=function(t){return new(t||dh)(q(_r),q(qr),q(pn),q(xa),q(Af),q(sl),q(jl),q(jy),q(Vl),q(Bn),q(Lo),q(Du))},dh.\u0275cmp=Pt({type:dh,selectors:[["app-settings-menu"]],decls:72,vars:21,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],["translate",""],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],["translate","",1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["class","list-menu-item info-item","ngbDropdownItem","","translate","",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","fair-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","rule-icon"],[1,"icon","history-icon"],[1,"icon","limits-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","","translate","",1,"list-menu-item","info-item",3,"click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ge(4,"img",4),F(),x(5,"div",5),$(6),F()(),x(7,"div",6),Oe("click",function(){return e.onChangeAvatar()}),Ge(8,"div",7),x(9,"div",8)(10,"div",9),$(11,"shared.change"),F(),x(12,"div",9),$(13,"shared.avatar"),F()()()(),x(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),Ge(19,"div",15),F(),x(20,"span",16),$(21,"shared.sound"),F()(),x(22,"div",17)(23,"app-ui-switcher",18),Oe("ngModelChange",function(i){return e.user.settings.sound=i}),F()()(),x(24,"div",12)(25,"div",13)(26,"div",14),Ge(27,"div",19),F(),x(28,"span",16),$(29,"shared.music"),F()(),x(30,"div",17)(31,"app-ui-switcher",18),Oe("ngModelChange",function(i){return e.user.settings.music=i}),F()()(),x(32,"div",12)(33,"div",13)(34,"div",14),Ge(35,"div",20),F(),x(36,"span",16),$(37,"shared.animation"),F()(),x(38,"div",17)(39,"app-ui-switcher",18),Oe("ngModelChange",function(i){return e.user.settings.animation=i}),F()()()(),x(40,"div",21),pe(41,cce,8,4,"div",22),x(42,"div",23),Oe("click",function(){return e.onFairnessOpen()}),x(43,"div",13)(44,"div",14),Ge(45,"div",24),F(),x(46,"div",25),$(47),it(48,"translate"),F()()(),x(49,"div",23),Oe("click",function(){return e.onRulesOpen()}),x(50,"div",13)(51,"div",14),Ge(52,"div",26),F(),x(53,"div",25),$(54),it(55,"translate"),F()()(),x(56,"div",23),Oe("click",function(){return e.onMyBetsHistoryOpen()}),x(57,"div",13)(58,"div",14),Ge(59,"div",27),F(),x(60,"div",25),$(61),it(62,"translate"),F()()(),x(63,"div",23),Oe("click",function(){return e.onGameLimitsOpen()}),x(64,"div",13)(65,"div",14),Ge(66,"div",28),F(),x(67,"div",25),$(68),it(69,"translate"),F()()(),pe(70,hce,7,3,"div",29),F()(),pe(71,dce,4,0,"a",30),F()),2&t&&(V(4),Q("src",e.avatar,fo)("alt",e.avatar),V(2),jt(e.app.getFormattedUsername(e.user.username)),V(17),Q("ngModel",e.user.settings.sound),V(8),Q("ngModel",e.user.settings.music),V(8),Q("ngModel",e.user.settings.animation),V(2),Q("ngIf",e.app.isFreeBetsEnabled),V(6),He(" ",yt(48,13,"shared.provably_fair_settings")," "),V(7),He(" ",yt(55,15,"shared.game_rules")," "),V(7),He(" ",yt(62,17,"shared.my_bet_history")," "),V(7),He(" ",yt(69,19,"shared.game_limits")," "),V(2),Q("ngIf",e.user.settings.isOtherEnabled),V(1),Q("ngIf",e.urlParams.returnUrl))},directives:[EM,qn,d0,Ws,vs,hn],pipes:[pr],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.7de2fa68db9e693f.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.bab0db6ddc4f0013.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.b84ddfd4bbbc03e5.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.2420fd6cd7e47259.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.3cce29a379dde9c5.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.700839c06e198a2e.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42156111146ca273.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.31c7a66c425df21e.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.62e86bcf2523195c.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.8ea300e6c072aab3.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),dh=Ue([ui()],dh);let fh=class{constructor(t,e,r,i,o,s,a,l,u,c){this.mainService=t,this.chat=e,this.modal=r,this.cd=i,this.connector=o,this.freeBets=s,this.ifc=a,this.userService=l,this.app=u,this.urlParams=c}ngOnInit(){this.chat.isOpen$.pipe(Mt(this)).subscribe(()=>this.cd.detectChanges()),this.connector.response(dn.NewBalance,200).pipe(Mt(this)).subscribe(t=>{this.userService.balance=t.newBalance,this.ifc.emitEvent(mr.UpdateBalance,{amount:this.userService.balance,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}),this.freeBets.onUpdate$.pipe(Mt(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.command(vi.SetBalance).pipe(Mt(this)).subscribe(t=>{this.userService.balance=t.value,this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${Lr_brandPath}${this.app.clientConfig.brandLogo}?v=${Lr_version}`}onOpenHelp(){this.modal.open(Ln.quickHelp)}};fh.\u0275fac=function(t){return new(t||fh)(q(qr),q(ol),q(Lo),q(Bn),q(_r),q(jl),q(Vl),q(xa),q(pn),q(Du))},fh.\u0275cmp=Pt({type:fh,selectors:[["app-header"]],decls:20,vars:11,consts:[[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],[1,"second-block","d-flex"],["class","btn btn-warning btn-sm btn-quick-help disabled-on-game-focused shadow-none mr-1 p-0 px-1",3,"click",4,"ngIf"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-warning","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","mr-1","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"badge","badge-danger","badge-notification","position-absolute"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),pe(2,fce,2,4,"a",2),Ge(3,"div",3),F(),x(4,"div",4),pe(5,pce,5,3,"button",5),x(6,"div",6)(7,"div",7)(8,"div")(9,"span",8),$(10),F(),x(11,"span",9),$(12),F()()(),x(13,"div",10)(14,"div",11),Ge(15,"div",12),pe(16,_ce,2,1,"div",13),x(17,"div",14),Ge(18,"app-settings-menu"),F()()()(),pe(19,gce,2,0,"div",15),F()()),2&t&&(V(2),Q("ngIf",e.app.clientConfig.brandLogo),V(1),ut("game-logo-ab",e.app.isBrandAdjarabet),V(2),Q("ngIf",!0===e.app.config.quickHelp),V(2),ut("long-precision",e.app.isLongPrecision),V(3),He(" ",e.userService.formattedBalance," "),V(2),jt(e.app.config.currency),V(1),Q("placement","bottom-right"),V(3),Q("ngIf",e.freeBets.freeBetsCount>0),V(3),Q("ngIf",!e.chat.isOpen&&e.app.config.chat.isEnabled))},directives:[hn,Ff,SM,u0,dh],pipes:[pr],styles:[".header[_ngcontent-%COMP%]{background-color:#1b1c1d}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.cafbd29233306bf7.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.83de67e984debc60.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background:url(question-brown.7770399d23b5438d.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.2dd58692fde31c48.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0px;right:0px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.b016cf6877c43f2e.svg) no-repeat center center}"],changeDetection:0}),fh=Ue([ui()],fh);var Bf=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(Bf||(Bf={})),Bf))();const mce=["slider"],vce=function(n){return{width:n}};function yce(n,t){if(1&n){const e=Ct();un(0),x(1,"button",4),Oe("click",function(){const o=dt(e).$implicit;return ve().onClickTab(o)}),$(2),F(),cn()}if(2&n){const e=t.$implicit,r=ve();V(1),ut("active",r.activeTab===e),Q("ngStyle",ma(5,vce,r.tabWidth+"px")),V(1),Wi(" ",r.translatePath,".",e," ")}}const bce=function(n,t){return{width:n,background:t}};let PM=(()=>{class n{constructor(e,r){this.renderer=e,this.cd=r,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="rgb(44, 45, 48)",this.toggle=new Lt,this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,r,i){return r*i.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(i=>{this.renderer.setStyle(this.slider.nativeElement,i,`translate(${e})`)})}writeValue(e){this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(q(Io),q(Bn))},n.\u0275cmp=Pt({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,r){if(1&e&&Yo(mce,7),2&e){let i;zn(i=$n())&&(r.slider=i.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[Jn([{provide:Uo,useExisting:gn(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],["translate","",1,"tab",3,"ngStyle","click"]],template:function(e,r){1&e&&(x(0,"div",0),Ge(1,"div",1,2),pe(3,yce,3,7,"ng-container",3),F()),2&e&&(ut("disabled",r.disabled),V(1),Q("ngStyle",va(4,bce,r.tabWidth+"px",r.slidingColor)),V(2),Q("ngForOf",r.tabs))},directives:[t_,Hr,qn],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141516;border-radius:10px;border:solid 1px #141516;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function Ece(n,t){if(1&n){const e=Ct();x(0,"div",11),Oe("click",function(){dt(e);const i=ve();return i.main.checkFairness(i.roundInfo.roundId)}),Ge(1,"app-bubble-multiplier",12),F()}if(2&n){const e=ve();V(1),Q("multiplier",e.roundInfo.multiplier)}}let Sce=(()=>{class n{constructor(e,r){this.app=e,this.main=r,this.previousHand=new Lt}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}get isPreviousMultiplierShown(){return this.isPreviousHand&&!!this.roundInfo}}return n.\u0275fac=function(e){return new(e||n)(q(pn),q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand"},outputs:{previousHand:"previousHand"},decls:24,vars:15,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],["translate","",1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div")(2,"div",1),$(3),it(4,"translate"),F(),x(5,"div"),$(6),F()(),pe(7,Ece,2,1,"div",2),x(8,"div",3),Oe("click",function(){return r.setPreviousHand()}),Ge(9,"div",4),x(10,"span",5),$(11,"game.bets-widget.previous hand"),F()()(),Ge(12,"div",6),x(13,"div",7)(14,"span",8),$(15,"game.bets-widget.user"),F(),x(16,"span",9),$(17),it(18,"translate"),F(),x(19,"span"),$(20,"X"),F(),x(21,"span",10),$(22),it(23,"translate"),F()()),2&e&&(V(3),He(" ",yt(4,9,"game.bets-widget.All Bets")," "),V(3),jt(r.total),V(1),Q("ngIf",r.isPreviousMultiplierShown),V(1),ut("on",r.isPreviousHand),V(9),Wi(" ",yt(18,11,"shared.bet"),", ",r.app.config.currency," "),V(5),Wi(" ",yt(23,13,"shared.cash_out"),", ",r.app.config.currency," "))},directives:[hn,Wl,qn],pipes:[pr],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.f62b9233d6078bd1.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function f0(n,t=0){return function Cce(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const ug={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=ug;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(o=>{e=void 0,n(o)});return new _(()=>null==e?void 0:e(i))},requestAnimationFrame(...n){const{delegate:t}=ug;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ug;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Pce=new class wce extends WS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class Mce extends HS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=ug.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(ug.cancelAnimationFrame(e),t._scheduled=void 0)}});let AM,Ace=1;const p0={};function kU(n){return n in p0&&(delete p0[n],!0)}const Rce={setImmediate(n){const t=Ace++;return p0[t]=!0,AM||(AM=Promise.resolve()),AM.then(()=>kU(t)&&n()),t},clearImmediate(n){kU(n)}},{setImmediate:Dce,clearImmediate:xce}=Rce,_0={setImmediate(...n){const{delegate:t}=_0;return((null==t?void 0:t.setImmediate)||Dce)(...n)},clearImmediate(n){const{delegate:t}=_0;return((null==t?void 0:t.clearImmediate)||xce)(n)},delegate:void 0},Fce=new class Nce extends WS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class Ice extends HS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=_0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(t,e,r);t.actions.some(i=>i.id===e)||(_0.clearImmediate(e),t._scheduled=void 0)}});let RM;try{RM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){RM=!1}let g0,ph,BU=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?r_(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(ke(fc))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hg(){if("object"!=typeof document||!document)return 0;if(null==g0){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),g0=0,0===n.scrollLeft&&(n.scrollLeft=1,g0=0===n.scrollLeft?1:2),n.remove()}return g0}const Gce=new qt("cdk-dir-doc",{providedIn:"root",factory:function Vce(){return uA(Nr)}}),jce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let UU=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Lt,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function Hce(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?jce.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(ke(Gce,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();class zce extends class Yce{}{constructor(t){super(),this._data=t}connect(){return il(this._data)?this._data:Gt(this._data)}disconnect(){}}class $ce{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,r,i,o){t.forEachOperation((s,a,l)=>{let u,c;null==s.previousIndex?(u=this._insertView(()=>r(s,a,l),l,e,i(s)),c=u?1:0):null==l?(this._detachAndCacheView(a,e),c=3):(u=this._moveView(a,l,e,i(s)),c=2),o&&o({context:null==u?void 0:u.context,operation:c,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,r,i){const o=this._insertViewFromCache(e,r);if(o)return void(o.context.$implicit=i);const s=t();return r.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const r=e.detach(t);this._maybeCacheView(r,e)}_moveView(t,e,r,i){const o=r.get(t);return r.move(o,e),o.context.$implicit=i,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const r=e.indexOf(t);-1===r?t.destroy():e.remove(r)}}_insertViewFromCache(t,e){const r=this._viewCache.pop();return r&&e.insert(r,t),r||null}}const VU=new qt("_ViewRepeater"),Xce=["contentWrapper"],qce=["*"],jU=new qt("VIRTUAL_SCROLL_STRATEGY");class Kce{constructor(t,e,r){this._scrolledIndexChange=new De,this.scrolledIndexChange=this._scrolledIndexChange.pipe(J_()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=r}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,r){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=r,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},r=this._viewport.getViewportSize(),i=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>i){const l=Math.ceil(r/this._itemSize),u=Math.max(0,Math.min(s,i-l));s!=u&&(s=u,o=u*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(i,e.start+l))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(i,Math.ceil(s+(r+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(o+r);if(l<this._minBufferPx&&e.end!=i){const u=Math.ceil((this._maxBufferPx-l)/this._itemSize);u>0&&(e.end=Math.min(i,e.end+u),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function Jce(n){return n._scrollStrategy}let Qce=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Kce(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=f0(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=f0(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=f0(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=pt({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Jn([{provide:jU,useFactory:Jce,deps:[gn(()=>n)]}]),to]}),n})(),HU=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new De,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ie(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(Ia(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(Wt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=function Oce(n){return n instanceof ar?n.nativeElement:n}(r),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Fr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(ke(Pn),ke(BU),ke(Nr,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YU=(()=>{class n{constructor(e,r,i,o){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new De,this._elementScrolled=new ie(s=>this.ngZone.runOutsideAngular(()=>Fr(this.elementRef.nativeElement,"scroll").pipe(Wr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&0!=hg()?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),2==hg()?e.left=e.right:1==hg()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;!function Lce(){if(null==ph){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ph=!1,ph;if("scrollBehavior"in document.documentElement.style)ph=!0;else{const n=Element.prototype.scrollTo;ph=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ph}()?(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left)):r.scrollTo(e)}measureScrollOffset(e){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?i:r:"end"==e&&(e=s?r:i),s&&2==hg()?e==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==hg()?e==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(q(ar),q(HU),q(Pn),q(UU,8))},n.\u0275dir=pt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),the=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new De,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ia(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(ke(BU),ke(Pn),ke(Nr,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rhe="undefined"!=typeof requestAnimationFrame?Pce:Fce;let WU=(()=>{class n extends YU{constructor(e,r,i,o,s,a,l){super(e,a,i,s),this.elementRef=e,this._changeDetectorRef=r,this._scrollStrategy=o,this._detachedSubject=new De,this._renderedRangeSubject=new De,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ie(u=>this._scrollStrategy.scrolledIndexChange.subscribe(c=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(c))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=_.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function Tce(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Df(null),Ia(0,rhe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Wr(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function nhe(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,r="to-start"){const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===r?0:e,"to-end"===r&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=e:i.top=e,this.scrollTo(i)}scrollToIndex(e,r="auto"){this._scrollStrategy.scrollToIndex(e,r)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of e)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(q(ar),q(Bn),q(Pn),q(jU,8),q(UU,8),q(HU),q(the))},n.\u0275cmp=Pt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,r){if(1&e&&Yo(Xce,7),2&e){let i;zn(i=$n())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,r){2&e&&ut("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Jn([{provide:YU,useExisting:n}]),sr],ngContentSelectors:qce,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,r){1&e&&(Um(),x(0,"div",0,1),Gm(2),F(),Ge(3,"div",2)),2&e&&(V(3),Bp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function zU(n,t,e){if(!e.getBoundingClientRect)return 0;const i=e.getBoundingClientRect();return"horizontal"===n?"start"===t?i.left:i.right:"start"===t?i.top:i.bottom}let ihe=(()=>{class n{constructor(e,r,i,o,s,a){this._viewContainerRef=e,this._template=r,this._differs=i,this._viewRepeater=o,this._viewport=s,this.viewChange=new De,this._dataSourceChanges=new De,this.dataStream=this._dataSourceChanges.pipe(Df(null),function kce(){return Ne((n,t)=>{let e,r=!1;n.subscribe(ne(t,i=>{const o=e;e=i,r&&t.next([o,i]),r=!0}))})}(),Ys(([l,u])=>this._changeDataSource(l,u)),xO(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new De,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(Wr(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Wce(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new zce(il(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(r,i)=>e(r+(this._renderedRange?this._renderedRange.start:0),i):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=f0(e)}measureRangeSize(e,r){if(e.start>=e.end)return 0;const i=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let l=0;l<o;l++){const u=this._viewContainerRef.get(l+i);if(u&&u.rootNodes.length){s=a=u.rootNodes[0];break}}for(let l=o-1;l>-1;l--){const u=this._viewContainerRef.get(l+i);if(u&&u.rootNodes.length){a=u.rootNodes[u.rootNodes.length-1];break}}return s&&a?zU(r,"end",a)-zU(r,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,r)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,r):r)),this._needsUpdate=!0)}_changeDataSource(e,r){return e&&e.disconnect(this),this._needsUpdate=!0,r?r.connect(this):Gt()}_updateContext(){const e=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const i=this._viewContainerRef.get(r);i.context.index=this._renderedRange.start+r,i.context.count=e,this._updateComputedContextProperties(i.context),i.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const r=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const o=this._viewContainerRef.get(i);o.context.index=this._renderedRange.start+i,o.context.count=r,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,r){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:r}}}return n.\u0275fac=function(e){return new(e||n)(q(ks),q(Vr),q(qp),q(VU),q(WU,4),q(Pn))},n.\u0275dir=pt({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Jn([{provide:VU,useClass:$ce}])]}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})(),ohe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[GU,$U],GU,$U]}),n})();function she(n,t){1&n&&Ge(0,"app-bubble-multiplier",9),2&n&&Q("multiplier",ve().bet.payout)}let ahe=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:11,vars:9,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1),Ge(2,"img",2),x(3,"div",3),$(4),F()(),x(5,"div",4),Ge(6,"app-bet-amount",5),F(),x(7,"div",6),pe(8,she,1,1,"app-bubble-multiplier",7),F(),x(9,"div",8),$(10),F()()),2&e&&(ut("celebrated",r.bet.winAmount),V(2),Q("src",r.app.getAvatarUrl(r.bet.profileImage),fo)("alt",r.app.getAvatarUrl(r.bet.profileImage)),V(2),jt(r.app.getFormattedUsername(r.bet.username)),V(2),Q("amount",r.bet.bet)("isFreeBet",r.bet.isFreeBet),V(2),Q("ngIf",r.bet.payout),V(2),He(" ",null==r.bet.winAmount?null:r.bet.winAmount.toFixed(r.app.config.betPrecision)," "))},directives:[wM,hn,Wl],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function lhe(n,t){1&n&&Ge(0,"app-loader")}function uhe(n,t){1&n&&Ge(0,"app-bet-item",6),2&n&&Q("bet",t.$implicit)}function che(n,t){if(1&n&&(x(0,"cdk-virtual-scroll-viewport",4),pe(1,uhe,1,1,"app-bet-item",5),F()),2&n){const e=ve();Q("itemSize",e.betItemTotalHeight),V(1),Q("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let _h=class{constructor(t,e,r,i,o){this.mainService=t,this.cd=e,this.connector=r,this.user=i,this.app=o,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(dn.Bet,200).pipe(Mt(this),Wt(()=>!this.isPreviousHand),Wt(()=>!this.isUpdateCurrentBetsReceived),Wt(()=>!this.user.settings.getOther(Da.HideMyActivity)),bi(t=>this._bets.push(t)),Ia(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(dn.CancelBet,200).pipe(Mt(this),Wt(()=>!this.isPreviousHand),Wt(()=>!this.isUpdateCurrentBetsReceived),Wt(()=>!this.user.settings.getOther(Da.HideMyActivity)),bi(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),Ia(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(dn.CashOut,200).pipe(Mt(this),Wt(()=>!this.isPreviousHand),Wt(()=>!this.isUpdateCurrentBetsReceived),Wt(()=>!this.user.settings.getOther(Da.HideMyActivity)),bi(t=>this.displayCashOuts(t)),Ia(this.auditDuration)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response(dn.UpdateCurrentBets,200).pipe(Mt(this),Wt(()=>!this.isPreviousHand),bi(t=>this._bets=t.bets),Ia(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response(dn.UpdateCurrentCashOuts,200).pipe(Mt(this),Wt(()=>!this.isPreviousHand),Ia(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t),this.cd.detectChanges()}),this.connector.response(dn.CurrentBetsInfo).pipe(Mt(this)).subscribe(t=>{var e,r;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),null===(r=t.cashOuts)||void 0===r||r.forEach(i=>this.displayCashOuts(i)),this.sortBets(),this.cd.detectChanges()}),this.connector.response(dn.PreviousRoundInfo).pipe(Mt(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState(hi.Bet).pipe(Mt(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(r=>r.bet>=t&&r.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(gr.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(gr.CurrentBetsInfo,null)}displayCashOuts(t){"cashouts"in t?t.cashouts.forEach(e=>{this._bets.forEach(r=>{r.player_id===e.player_id&&r.betId===e.betId&&(r.payout="multiplier"in t?t.multiplier:e.multiplier,r.winAmount=e.winAmount)})}):this._bets.forEach(e=>{e.player_id===t.player_id&&e.betId===t.betId&&(e.payout=t.multiplier,e.winAmount=t.winAmount)})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function hhe(n,t){1&n&&Ge(0,"app-bet-item",9),2&n&&Q("bet",t.$implicit)}function dhe(n,t){if(1&n&&(un(0),pe(1,hhe,1,1,"app-bet-item",8),cn()),2&n){const e=ve();V(1),Q("ngForOf",e.betHistory)}}function fhe(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader"),F())}_h.\u0275fac=function(t){return new(t||_h)(q(qr),q(Bn),q(_r),q(xa),q(pn))},_h.\u0275cmp=Pt({type:_h,selectors:[["app-all-bets-tab"]],decls:4,vars:5,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"app-header",1),Oe("previousHand",function(i){return e.onPreviousHand(i)}),F(),pe(2,lhe,1,0,"app-loader",2),pe(3,che,2,3,"cdk-virtual-scroll-viewport",3),F()),2&t&&(V(1),Q("total",e.numberOfBets)("roundInfo",e.roundInfo)("isPreviousHand",e.isPreviousHand),V(1),Q("ngIf",!e.loaded),V(1),Q("ngIf",e.loaded))},directives:[Sce,hn,oh,WU,Qce,ihe,ahe],styles:[""],changeDetection:0}),_h=Ue([ui()],_h);let gh=class{constructor(t,e,r,i,o){this.connector=t,this.mainService=e,this.app=r,this.cd=i,this.user=o,this.isRequested=!1,this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(dn.BetHistory,200).pipe(Mt(this),Wt(()=>this.isRequested)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges()}),this.mainService.getState(hi.Bet).pipe(Mt(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(dn.CashOut,200).pipe(Mt(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(gr.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};gh.\u0275fac=function(t){return new(t||gh)(q(_r),q(qr),q(pn),q(Bn),q(xa))},gh.\u0275cmp=Pt({type:gh,selectors:[["app-my-bets-tab"]],decls:16,vars:10,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],["translate","",1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),$(2,"game.bets-widget.date"),F(),x(3,"div",2)(4,"span",3),$(5),it(6,"translate"),F(),x(7,"span"),$(8,"X"),F(),x(9,"span",4),$(10),it(11,"translate"),F()(),Ge(12,"div",5),F(),x(13,"div",6),pe(14,dhe,2,1,"ng-container",7),pe(15,fhe,2,0,"div",7),F()),2&t&&(V(5),Wi(" ",yt(6,6,"shared.bet"),", ",e.app.config.currency," "),V(5),Wi(" ",yt(11,8,"shared.cash_out"),", ",e.app.config.currency," "),V(4),Q("ngIf",e.loaded),V(1),Q("ngIf",!e.loaded))},directives:[qn,hn,Hr,FU,oh],pipes:[pr],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:48px;max-width:48px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),gh=Ue([ui()],gh);var qo=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(qo||(qo={})),qo))(),dg=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(dg||(dg={})),dg))(),m0=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(m0||(m0={})),m0))(),fg=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}(fg||(fg={})),fg))();function phe(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span",9),$(3,"shared.win"),F(),x(4,"span"),$(5),F()(),x(6,"span",21),$(7),F()()),2&n){const e=ve();V(5),He(", ",e.bet.currency,":"),V(2),He(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}function _he(n,t){1&n&&(x(0,"span"),$(1),it(2,"translate"),F()),2&n&&(V(1),He(" ",yt(2,1,"shared.cashed_out"),": "))}function ghe(n,t){1&n&&(x(0,"span"),$(1),it(2,"translate"),F()),2&n&&(V(1),He(" ",yt(2,1,"shared.multiplier"),": "))}function mhe(n,t){if(1&n&&(x(0,"div",7)(1,"div",8)(2,"span",9),$(3,"shared.win"),F(),x(4,"span"),$(5),F()(),x(6,"span",10),$(7),F()()),2&n){const e=ve();V(5),He(", ",e.bet.currency,":"),V(2),He(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}let vhe=(()=>{class n{constructor(e,r,i){this.app=e,this.chat=r,this.main=i,this.winsTab=fg}isTab(e){return this.tab===e}}return n.\u0275fac=function(e){return new(e||n)(q(pn),q(ol),q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:41,vars:22,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],["translate",""],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Ge(3,"img",3),x(4,"div",4),$(5),F()(),x(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),$(11,"shared.bet"),F(),x(12,"span"),$(13),F()(),x(14,"span",10),$(15),F()(),pe(16,phe,8,2,"div",11),x(17,"div",7)(18,"div",8),pe(19,_he,3,3,"span",12),pe(20,ghe,3,3,"span",12),F(),Ge(21,"app-bubble-multiplier",13),F(),pe(22,mhe,8,2,"div",11),F()(),x(23,"div",14),Oe("click",function(){return r.main.checkFairness(r.bet.roundId)}),F()(),x(24,"div",15)(25,"div",16)(26,"div",17)(27,"span"),$(28),it(29,"date"),F(),x(30,"span",9),$(31),it(32,"date"),F()(),x(33,"div")(34,"span"),$(35),it(36,"translate"),F(),x(37,"span",18),$(38),F()()(),x(39,"div",19),Oe("click",function(){return r.chat.shareBet(r.bet.roundBetId)}),Ge(40,"div",20),F()()()),2&e&&(V(3),Q("src",r.app.getAvatarUrl(r.bet.profileImage),fo)("alt",r.app.getAvatarUrl(r.bet.profileImage)),V(2),jt(r.app.getFormattedUsername(r.bet.username)),V(8),He(", ",r.bet.currency,":"),V(2),He(" ",r.bet.bet.toFixed(r.app.config.betPrecision)," "),V(1),Q("ngIf",r.isTab(r.winsTab.BiggestWins)),V(3),Q("ngIf",r.isTab(r.winsTab.HugeWins)),V(1),Q("ngIf",r.isTab(r.winsTab.BiggestWins)),V(1),Q("multiplier",r.bet.payout),V(1),Q("ngIf",r.isTab(r.winsTab.HugeWins)),V(6),jt(Bi(29,14,r.bet.endDate,"dd ")),V(3),He(" shared.date.month.",Bi(32,17,r.bet.endDate,"LLL")," "),V(4),He("",yt(36,20,"shared.round"),":"),V(3),He(" ",r.bet.maxMultiplier,"x"))},directives:[qn,hn,Wl],pipes:[pr,mc],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.eeb21ff9eb22b3b5.svg) no-repeat center center/contain;width:34px;height:14px}"]}),n})(),yhe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:16,vars:15,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],["translate",""],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1),Oe("click",function(){return r.main.checkFairness(r.bet.roundId)}),F(),x(2,"div")(3,"div",2)(4,"div")(5,"span"),$(6),it(7,"date"),F(),x(8,"span",3),$(9),it(10,"date"),F(),x(11,"span"),$(12),it(13,"date"),F()()(),x(14,"div",4),Ge(15,"app-bubble-multiplier",5),F()()()),2&e&&(V(6),jt(Bi(7,6,r.bet.endDate,"dd ")),V(3),He(" shared.date.month.",Bi(10,9,r.bet.endDate,"LLL")," "),V(3),jt(Bi(13,12,r.bet.endDate," HH:mm:ss")),V(3),Q("padding","2px 16px")("borderRadius","16px")("multiplier",r.bet.maxMultiplier))},directives:[qn,Wl],pipes:[mc],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),bhe=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:14,vars:13,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],["translate",""],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"span"),$(3),it(4,"date"),F(),x(5,"span",2),$(6),it(7,"date"),F(),x(8,"span"),$(9),it(10,"date"),F()(),x(11,"div",3),Ge(12,"app-bubble-multiplier",4),x(13,"div",5),Oe("click",function(){return r.main.checkFairness(r.bet.roundId)}),F()()()),2&e&&(V(3),jt(Bi(4,4,r.bet.endDate,"dd ")),V(3),He("shared.date.month.",Bi(7,7,r.bet.endDate,"LLL"),""),V(3),jt(Bi(10,10,r.bet.endDate," HH:mm:ss")),V(3),Q("multiplier",r.bet.maxMultiplier))},directives:[qn,Wl],pipes:[mc],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function Ehe(n,t){if(1&n&&(x(0,"div"),Ge(1,"app-wins-bet-item",3),F()),2&n){const e=t.$implicit,r=ve(3);V(1),Q("tab",r.winsTab.BiggestWins)("bet",e)}}function She(n,t){if(1&n&&(x(0,"div"),pe(1,Ehe,2,2,"div",2),F()),2&n){const e=ve(2);V(1),Q("ngForOf",e.topData)}}function The(n,t){if(1&n&&(x(0,"div"),Ge(1,"app-wins-bet-item",3),F()),2&n){const e=t.$implicit,r=ve(3);V(1),Q("tab",r.winsTab.HugeWins)("bet",e)}}function Che(n,t){if(1&n&&(x(0,"div"),pe(1,The,2,2,"div",2),F()),2&n){const e=ve(2);V(1),Q("ngForOf",e.topData)}}function Ohe(n,t){if(1&n&&(x(0,"div"),Ge(1,"app-multipliers-bet-item",4),F()),2&n){const e=t.$implicit;V(1),Q("bet",e)}}function Mhe(n,t){if(1&n&&(x(0,"div"),Ge(1,"app-multipliers-bet-item-first",4),pe(2,Ohe,2,1,"div",2),it(3,"slice"),F()),2&n){const e=ve(2);V(1),Q("bet",e.topData[0]),V(1),Q("ngForOf",Bi(3,2,e.topData,1))}}function whe(n,t){if(1&n&&(x(0,"div"),pe(1,She,2,1,"div",1),pe(2,Che,2,1,"div",1),pe(3,Mhe,4,5,"div",1),F()),2&n){const e=ve();V(1),Q("ngIf",e.isBiggestWins),V(1),Q("ngIf",e.isHugeWins),V(1),Q("ngIf",e.isCoefficients)}}function Phe(n,t){1&n&&(x(0,"div"),Ge(1,"app-loader"),F())}let mh=class{constructor(t,e,r,i){this.connector=t,this.cd=e,this.mainService=r,this.app=i,this.options=null,this.loaded=!1,this.winsTab=fg,this.requests=new Map([[qo.HugeWins,gr.GetHugeWinsInfo],[qo.BiggestWins,gr.GetTopWinsInfo],[qo.Multipliers,gr.GetTopRoundsInfo]]),this.responses=new Map([[qo.HugeWins,dn.GetHugeWinsInfo],[qo.BiggestWins,dn.GetTopWinsInfo],[qo.Multipliers,dn.GetTopRoundsInfo]])}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.connector.request(this.requests.get(this.options.type),{period:this.options.period}),this.statistics$=this.connector.response(this.responses.get(this.options.type)).pipe(Mt(this)).subscribe(e=>{this._topData="topRounds"in e?e.topRounds:e.topWins,this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topData(){if(this.isBiggestWins||this.isHugeWins){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topData.filter(r=>r.bet>=t&&r.bet<=e)}if(this.isCoefficients)return this._topData}get isHugeWins(){return this.options.type===qo.HugeWins}get isBiggestWins(){return this.options.type===qo.BiggestWins}get isCoefficients(){return this.options.type===qo.Multipliers}};function Ahe(n,t){1&n&&(x(0,"div",9)(1,"span",10),$(2,"game.bets-widget.date"),F(),x(3,"div",11)(4,"span",12),$(5,"X"),F(),x(6,"span",13),$(7,"game.bets-widget.fairness"),F()()())}mh.\u0275fac=function(t){return new(t||mh)(q(_r),q(Bn),q(qr),q(pn))},mh.\u0275cmp=Pt({type:mh,selectors:[["app-top-list"]],inputs:{options:"options"},features:[to],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(x(0,"div",0),pe(1,whe,4,3,"div",1),pe(2,Phe,2,0,"div",1),F()),2&t&&(V(1),Q("ngIf",e.loaded),V(1),Q("ngIf",!e.loaded))},directives:[hn,Hr,vhe,yhe,bhe,oh],pipes:[lN],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),mh=Ue([ui()],mh);let Rhe=(()=>{class n{constructor(){this.activeTab=qo.HugeWins,this.topTab=qo,this.activePeriodTab=dg.Day,this.periodTabs=Object.values(dg),this.topListOptions=null}ngOnInit(){this.updateListOptions()}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:m0[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-top-tab"]],decls:12,vars:11,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],["translate","",1,"first-type",3,"click"],["translate","",1,"second-type",3,"click"],["translate","",1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],["translate","",1,"fairness"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Oe("click",function(){return r.onShowTab(r.topTab.HugeWins)}),$(4," game.bets-widget.top.huge wins "),F(),x(5,"button",4),Oe("click",function(){return r.onShowTab(r.topTab.BiggestWins)}),$(6," game.bets-widget.top.biggest wins "),F(),x(7,"button",5),Oe("click",function(){return r.onShowTab(r.topTab.Multipliers)}),$(8," game.bets-widget.top.coefficients "),F()()(),x(9,"app-navigation-switcher",6),Oe("toggle",function(o){return r.onChangePeriodTab(o)}),F(),pe(10,Ahe,8,0,"div",7),Ge(11,"app-top-list",8),F()),2&e&&(V(3),ut("active",r.isActiveTab(r.topTab.HugeWins)),V(2),ut("active",r.isActiveTab(r.topTab.BiggestWins)),V(2),ut("active",r.isActiveTab(r.topTab.Multipliers)),V(2),Q("ngModel",r.activePeriodTab)("tabs",r.periodTabs)("translatePath","game.bets-widget.top"),V(1),Q("ngIf",r.isActiveTab(r.topTab.Multipliers)),V(1),Q("options",r.topListOptions))},directives:[qn,PM,Ws,vs,hn,mh],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function Dhe(n,t){if(1&n){const e=Ct();un(0),x(1,"div",4),Ge(2,"div",5),x(3,"span"),$(4),it(5,"translate"),F(),x(6,"div",6),Oe("click",function(){dt(e);const i=ve();return i.modal.open(i.modalKey.otherSettings)}),x(7,"u"),$(8),it(9,"translate"),F()()(),cn()}2&n&&(V(4),He(" ",yt(5,2,"shared.This_functionality_is_disabled"),""),V(4),He(" ",yt(9,4,"shared.Settings")," "))}function xhe(n,t){1&n&&Ge(0,"app-all-bets-tab",8)}function Ihe(n,t){1&n&&Ge(0,"app-my-bets-tab",8)}function Nhe(n,t){1&n&&Ge(0,"app-top-tab",8)}function Fhe(n,t){if(1&n&&(un(0),pe(1,xhe,1,0,"app-all-bets-tab",7),pe(2,Ihe,1,0,"app-my-bets-tab",7),pe(3,Nhe,1,0,"app-top-tab",7),cn()),2&n){const e=ve();V(1),Q("ngIf",e.isActive(e.betsWidgetTab.AllBets)),V(1),Q("ngIf",e.isActive(e.betsWidgetTab.MyBets)),V(1),Q("ngIf",e.isActive(e.betsWidgetTab.Top))}}let khe=(()=>{class n{constructor(e,r,i){this.user=e,this.modal=r,this.cd=i,this.activeTab=Bf.AllBets,this.betsWidgetTab=Bf,this.betsWidgetTabs=Object.values(Bf),this.hideLiveBetsAndStatistics=this.user.settings.getOther(Da.HideLiveBetsAndStatistics),this.modalKey=Ln}ngOnInit(){this.user.settings.other$.pipe(Wt(e=>e.name===Da.HideLiveBetsAndStatistics)).subscribe(e=>{this.hideLiveBetsAndStatistics=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}}return n.\u0275fac=function(e){return new(e||n)(q(xa),q(Lo),q(Bn))},n.\u0275cmp=Pt({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Oe("ngModelChange",function(o){return r.activeTab=o}),F()(),pe(3,Dhe,10,6,"ng-container",3),pe(4,Fhe,4,3,"ng-container",3),F()),2&e&&(V(2),Q("ngModel",r.activeTab)("translatePath","game.bets-widget")("tabs",r.betsWidgetTabs),V(1),Q("ngIf",r.hideLiveBetsAndStatistics),V(1),Q("ngIf",!r.hideLiveBetsAndStatistics))},directives:[PM,Ws,vs,hn,_h,gh,Rhe],pipes:[pr],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c1d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.e9f2fd657844e251.svg) no-repeat center center/contain}"],changeDetection:0}),n})(),Bhe=(()=>{class n{constructor(e){this.modal=e}onWhatIsPf(){this.modal.open(Ln.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(q(Lo))},n.\u0275cmp=Pt({type:n,selectors:[["app-spribe-footer"]],decls:13,vars:1,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],["translate",""],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href"],[1,"i-logo"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"span",2),$(3,"shared.ui-components.spribe-footer.this game is"),F(),x(4,"div",3),Oe("click",function(){return r.onWhatIsPf()}),Ge(5,"div",4),x(6,"span",5),$(7,"Provably Fair"),F()()(),x(8,"div",6)(9,"span"),$(10,"Powered by"),F(),x(11,"a",7),Ge(12,"div",8),F()()()),2&e&&(V(11),Q("href","https://spribe.co",fo))},directives:[qn],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#000;border:1px solid #2a2b2e;font-size:11px;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.eba496b407593c0e.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}"],changeDetection:0}),n})();class xM{}const zl="*";function IM(n,t){return{type:7,name:n,definitions:t,options:{}}}function Uf(n,t=null){return{type:4,styles:t,timings:n}}function XU(n,t=null){return{type:2,steps:n,options:t}}function Fa(n){return{type:6,styles:n,offset:null}}function Uhe(n,t,e){return{type:0,name:n,styles:t,options:e}}function pg(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qU(n){Promise.resolve(null).then(n)}class _g{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class KU{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const o=this.players.length;0==o?qU(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function jhe(n,t){if(1&n){const e=Ct();x(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Oe("click",function(){const o=dt(e).$implicit;return ve().mainService.checkFairness(o.roundId)}),F()()()}if(2&n){const e=t.$implicit;V(2),Q("multiplier",e.maxMultiplier)}}let Hhe=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],[3,"multiplier","click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),$(3),it(4,"translate"),F()(),x(5,"div",3),pe(6,jhe,3,1,"div",4),F()()),2&e&&(V(3),He(" ",yt(4,2,"shared.round_history")," "),V(3),Q("ngForOf",r.history))},directives:[Hr,Wl],pipes:[pr],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}"],changeDetection:0}),n})();const Yhe=["payoutsBlock"];function Whe(n,t){if(1&n){const e=Ct();un(0),x(1,"app-bubble-multiplier",12),Oe("click",function(){const o=dt(e).$implicit;return ve().mainService.checkFairness(o.roundId)}),F(),cn()}if(2&n){const e=t.$implicit;V(1),Q("multiplier",e.maxMultiplier)}}let zhe=(()=>{class n{constructor(e,r,i,o,s){this.statsService=e,this.mainService=r,this.connector=i,this.builder=o,this.cd=s}ngOnInit(){this.history=this.statsService.history,this.chartInfo$=this.connector.response(dn.RoundChartInfo,200).subscribe(e=>{this.history&&(this.history=[e,...this.history]),this.history.length>60&&this.history.pop(),this.animate()})}animate(){var e,r;null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(r=this.playerContainer)||void 0===r||r.destroy(),this.cd.detectChanges();const i=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,o=this.builder.build([Fa({transform:"scale(2)"}),Uf("1s ease-in-out",Fa({transform:"scale(1)"}))]),s=this.builder.build([Fa({transform:`translateX(-${i}px)`}),Uf("1s ease-in-out",Fa({transform:"translate(0)"}))]);this.playerPayout=o.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var e,r;this.chartInfo$.unsubscribe(),null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(r=this.playerContainer)||void 0===r||r.destroy()}}return n.\u0275fac=function(e){return new(e||n)(q(AL),q(qr),q(_r),q(xM),q(Bn))},n.\u0275cmp=Pt({type:n,selectors:[["app-stats-widget"]],viewQuery:function(e,r){if(1&e&&Yo(Yhe,7),2&e){let i;zn(i=$n())&&(r.payoutsBlock=i.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2,3),pe(4,Whe,2,1,"ng-container",4),F()(),Ge(5,"div",5),x(6,"div",6)(7,"div",7)(8,"div",8),Ge(9,"div",9)(10,"div",10),F()()(),Ge(11,"app-stats-dropdown",11),F()),2&e&&(V(4),Q("ngForOf",r.history),V(7),Q("history",r.history))},directives:[Ff,Hr,Wl,SM,Hhe,u0],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:61px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),n})();function $he(n,t){if(1&n&&(x(0,"div",14)(1,"div",15),$(2," shared.ui-components.free-bet.Free bets available: "),F(),x(3,"div",7)(4,"div",16),$(5),F(),x(6,"div",17)(7,"div"),$(8," ( "),x(9,"span"),$(10),F(),x(11,"span",18),$(12),F(),$(13," ) "),F()()()()),2&n){const e=ve();V(5),He(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),V(5),He(" ",e.freeBets.activeFreeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),V(2),jt(e.app.config.currency)}}function Xhe(n,t){if(1&n){const e=Ct();x(0,"div",19)(1,"div",20),$(2," shared.ui-components.free-bet.All free bets spent! "),F(),x(3,"div",21),Oe("click",function(){return dt(e),ve().onFinishFreeBets()}),$(4),it(5,"translate"),F()()}if(2&n){const e=ve();V(3),ut("disabled",e.uiDisabled),V(1),He(" ",yt(5,3,"shared.continue")," ")}}function qhe(n,t){if(1&n&&(un(0),x(1,"span",15),$(2," shared.ui-components.free-bet.Minimum cashout multiplier: "),F(),x(3,"span",22),$(4),F(),cn()),2&n){const e=ve();V(4),He(" ",e.freeBets.activeFreeBet.freeBetsMinCashOut.toFixed(e.app.config.multiplierPrecision)," X ")}}let vh=class{constructor(t,e,r,i,o){this.app=t,this.mainService=e,this.freeBets=r,this.betControl=i,this.connector=o,this.uiDisabled=!1,this.connector.response(dn.FreeBetFinish).pipe(Mt(this),Wt(s=>200!==s.code)).subscribe(()=>{this.uiDisabled=!1})}get isSpent(){return 0===this.freeBets.activeFreeBet.freeBetsLeft}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){return this.freeBets.activeFreeBet.freeBetsMinCashOut>1.01}get manageDisabled(){return this.betControl.isBetSetted||this.uiDisabled}};function $l(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JU(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}vh.\u0275fac=function(t){return new(t||vh)(q(pn),q(qr),q(jl),q(sl),q(_r))},vh.\u0275cmp=Pt({type:vh,selectors:[["app-free-bet"]],decls:21,vars:7,consts:[[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],["translate",""],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],["translate","",1,"label"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],["translate","",1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1),pe(2,$he,14,3,"div",2),pe(3,Xhe,6,5,"div",3),x(4,"div",4)(5,"div",5)(6,"span",6),$(7,"shared.win"),F(),x(8,"span"),$(9),F()(),x(10,"div",7)(11,"span"),$(12),F()()()(),x(13,"div",8)(14,"div",9)(15,"div",10),pe(16,qhe,5,1,"ng-container",11),F(),x(17,"div",12),Oe("click",function(){return e.onManagementClick()}),x(18,"span",6),$(19,"shared.ui-components.free-bet.Manage"),F(),Ge(20,"div",13),F()()()()),2&t&&(V(2),Q("ngIf",!e.isSpent),V(1),Q("ngIf",e.isSpent),V(6),He(", ",e.app.config.currency,""),V(3),He(" ",e.freeBets.activeFreeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),V(4),Q("ngIf",e.isShowMinCashOut),V(1),ut("disabled",e.manageDisabled))},directives:[hn,qn],pipes:[pr],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:320px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.9cfee43f29b6ac94.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b676beda1782e280.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"]}),vh=Ue([ui()],vh);var FM,Kr,ll,GM,VM,i5,a5,Wf,w0,ys={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Gf={duration:.5,overwrite:!1,delay:0},$s=1e8,br=1e-8,kM=2*Math.PI,Khe=kM/4,Jhe=0,QU=Math.sqrt,Qhe=Math.cos,Zhe=Math.sin,Ki=function(t){return"string"==typeof t},Ji=function(t){return"function"==typeof t},Xl=function(t){return"number"==typeof t},BM=function(t){return void 0===t},ql=function(t){return"object"==typeof t},Ko=function(t){return!1!==t},ZU=function(){return"undefined"!=typeof window},v0=function(t){return Ji(t)||Ki(t)},e5="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},To=Array.isArray,LM=/(?:-?\.?\d|\.)+/gi,t5=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Vf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,UM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,n5=/[+-]=-?[.\d]+/,r5=/[^,'"\[\]\s]+/gi,ede=/[\d.+\-=]+(?:e[-+]\d*)*/i,bs={},y0={},o5=function(t){return(y0=jf(t,bs))&&cl},jM=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},b0=function(t,e){return!e&&console.warn(t)},s5=function(t,e){return t&&(bs[t]=e)&&y0&&(y0[t]=e)||bs},gg=function(){return 0},HM={},ku=[],YM={},Es={},WM={},l5=30,E0=[],zM="",$M=function(t){var r,i,e=t[0];if(ql(e)||Ji(e)||(t=[t]),!(r=(e._gsap||{}).harness)){for(i=E0.length;i--&&!E0[i].targetTest(e););r=E0[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new F5(t[i],r)))||t.splice(i,1);return t},yh=function(t){return t._gsap||$M(Ks(t))[0]._gsap},u5=function(t,e,r){return(r=t[e])&&Ji(r)?t[e]():BM(r)&&t.getAttribute&&t.getAttribute(e)||r},Jo=function(t,e){return(t=t.split(",")).forEach(e)||t},Ri=function(t){return Math.round(1e5*t)/1e5||0},Co=function(t){return Math.round(1e7*t)/1e7||0},tde=function(t,e){for(var r=e.length,i=0;t.indexOf(e[i])<0&&++i<r;);return i<r},S0=function(){var r,i,t=ku.length,e=ku.slice(0);for(YM={},ku.length=0,r=0;r<t;r++)(i=e[r])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},c5=function(t,e,r,i){ku.length&&S0(),t.render(e,r,i),ku.length&&S0()},h5=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(r5).length<2?e:Ki(t)?t.trim():t},d5=function(t){return t},Xs=function(t,e){for(var r in e)r in t||(t[r]=e[r]);return t},jf=function(t,e){for(var r in e)t[r]=e[r];return t},f5=function n(t,e){for(var r in e)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=ql(e[r])?n(t[r]||(t[r]={}),e[r]):e[r]);return t},T0=function(t,e){var i,r={};for(i in t)i in e||(r[i]=t[i]);return r},mg=function(t){var e=t.parent||Kr,r=t.keyframes?function(t){return function(e,r){for(var i in r)i in e||"duration"===i&&t||"ease"===i||(e[i]=r[i])}}(To(t.keyframes)):Xs;if(Ko(t.inherit))for(;e;)r(t,e.vars.defaults),e=e.parent||e._dp;return t},C0=function(t,e,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var o=e._prev,s=e._next;o?o._next=s:t[r]===e&&(t[r]=s),s?s._prev=o:t[i]===e&&(t[i]=o),e._next=e._prev=e.parent=null},Kl=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},bh=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var r=t;r;)r._dirty=1,r=r.parent;return t},ode=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},sde=function n(t){return!t||t._ts&&n(t.parent)},p5=function(t){return t._repeat?Hf(t._tTime,t=t.duration()+t._rDelay)*t:0},Hf=function(t,e){var r=Math.floor(t/=e);return t&&r===t?r-1:r},O0=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},M0=function(t){return t._end=Co(t._start+(t._tDur/Math.abs(t._ts||t._rts||br)||0))},_5=function(t,e){var r=t._dp;return r&&r.smoothChildTiming&&t._ts&&(t._start=Co(r._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),M0(t),r._dirty||bh(r,t)),t},g5=function(t,e){var r;if((e._time||e._initted&&!e._dur)&&(r=O0(t.rawTime(),e),(!e._dur||yg(0,e.totalDuration(),r)-e._tTime>br)&&e.render(r,!0)),bh(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(r=t;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;t._zTime=-br}},ul=function(t,e,r,i){return e.parent&&Kl(e),e._start=Co((Xl(r)?r:r||t!==Kr?qs(t,r,e):t._time)+e._delay),e._end=Co(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,r,i,o){void 0===r&&(r="_first"),void 0===i&&(i="_last");var a,s=t[i];if(o)for(a=e[o];s&&s[o]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[r],t[r]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),XM(e)||(t._recent=e),i||g5(t,e),t},m5=function(t,e){return(bs.ScrollTrigger||jM("scrollTrigger",e))&&bs.ScrollTrigger.create(e,t)},v5=function(t,e,r,i){return Ade(t,e),t._initted?!r&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&a5!==Qs.frame?(ku.push(t),t._lazy=[e,i],1):void 0:1},ade=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},XM=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Yf=function(t,e,r,i){var o=t._repeat,s=Co(e)||0,a=t._tTime/t._tDur;return a&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:Co(s*(o+1)+t._rDelay*o):s,a>0&&!i?_5(t,t._tTime=t._tDur*a):t.parent&&M0(t),r||bh(t.parent,t),t},y5=function(t){return t instanceof Zo?bh(t):Yf(t,t._dur)},cde={_start:0,endTime:gg,totalDuration:gg},qs=function n(t,e,r){var a,l,u,i=t.labels,o=t._recent||cde,s=t.duration()>=$s?o.endTime(!1):t._dur;return Ki(e)&&(isNaN(e)||e in i)?(l=e.charAt(0),u="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?o:r).totalDuration()/100:1)):a<0?(e in i||(i[e]=s),i[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&r&&(l=l/100*(To(r)?r[0]:r).totalDuration()),a>1?n(t,e.substr(0,a-1),r)+l:s+l)):null==e?s:+e},vg=function(t,e,r){var a,l,i=Xl(e[1]),o=(i?2:1)+(t<2?0:1),s=e[o];if(i&&(s.duration=e[1]),s.parent=r,t){for(a=s,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Ko(l.vars.inherit)&&l.parent;s.immediateRender=Ko(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return new Qi(e[0],s,e[o+1])},Bu=function(t,e){return t||0===t?e(t):e},yg=function(t,e,r){return r<t?t:r>e?e:r},Qo=function(t,e){return Ki(t)&&(e=ede.exec(t))?t.substr(e.index+e[0].length):""},qM=[].slice,b5=function(t,e){return t&&ql(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&ql(t[0]))&&!t.nodeType&&t!==ll},Ks=function(t,e,r){return!Ki(t)||r||!GM&&zf()?To(t)?function(t,e,r){return void 0===r&&(r=[]),t.forEach(function(i){var o;return Ki(i)&&!e||b5(i,1)?(o=r).push.apply(o,Ks(i)):r.push(i)})||r}(t,r):b5(t)?qM.call(t,0):t?[t]:[]:qM.call((e||VM).querySelectorAll(t),0)},E5=function(t){return t.sort(function(){return.5-Math.random()})},S5=function(t){if(Ji(t))return t;var e=ql(t)?t:{each:t},r=Eh(e.ease),i=e.from||0,o=parseFloat(e.base)||0,s={},a=i>0&&i<1,l=isNaN(i)||a,u=e.axis,c=i,y=i;return Ki(i)?c=y={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],y=i[1]),function(M,w,A){var j,W,re,ae,Z,ee,Ee,Pe,ge,D=(A||e).length,I=s[D];if(!I){if(!(ge="auto"===e.grid?0:(e.grid||[1,$s])[1])){for(Ee=-$s;Ee<(Ee=A[ge++].getBoundingClientRect().left)&&ge<D;);ge--}for(I=s[D]=[],j=l?Math.min(ge,D)*c-.5:i%ge,W=ge===$s?0:l?D*y/ge-.5:i/ge|0,Ee=0,Pe=$s,ee=0;ee<D;ee++)re=ee%ge-j,ae=W-(ee/ge|0),I[ee]=Z=u?Math.abs("y"===u?ae:re):QU(re*re+ae*ae),Z>Ee&&(Ee=Z),Z<Pe&&(Pe=Z);"random"===i&&E5(I),I.max=Ee-Pe,I.min=Pe,I.v=D=(parseFloat(e.amount)||parseFloat(e.each)*(ge>D?D-1:u?"y"===u?D/ge:ge:Math.max(ge,D/ge))||0)*("edges"===i?-1:1),I.b=D<0?o-D:o,I.u=Qo(e.amount||e.each)||0,r=r&&D<0?x5(r):r}return D=(I[M]-I.min)/I.max||0,Co(I.b+(r?r(D):D)*I.v)+I.u}},KM=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(r){var i=Math.round(parseFloat(r)/t)*t*e;return(i-i%1)/e+(Xl(r)?0:Qo(r))}},T5=function(t,e){var i,o,r=To(t);return!r&&ql(t)&&(i=r=t.radius||$s,t.values?(t=Ks(t.values),(o=!Xl(t[0]))&&(i*=i)):t=KM(t.increment)),Bu(e,r?Ji(t)?function(s){return o=t(s),Math.abs(o-s)<=i?o:s}:function(s){for(var M,w,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),u=$s,c=0,y=t.length;y--;)(M=o?(M=t[y].x-a)*M+(w=t[y].y-l)*w:Math.abs(t[y]-a))<u&&(u=M,c=y);return c=!i||u<=i?t[c]:s,o||c===s||Xl(s)?c:c+Qo(s)}:KM(t))},C5=function(t,e,r,i){return Bu(To(t)?!e:!0===r?!!(r=0):!i,function(){return To(t)?t[~~(Math.random()*t.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((t-r/2+Math.random()*(e-t+.99*r))/r)*r*i)/i})},O5=function(t,e,r){return Bu(r,function(i){return t[~~e(i)]})},bg=function(t){for(var i,o,s,a,e=0,r="";~(i=t.indexOf("random(",e));)s=t.indexOf(")",i),a="["===t.charAt(i+7),o=t.substr(i+7,s-i-7).match(a?r5:LM),r+=t.substr(e,i-e)+C5(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=s+1;return r+t.substr(e,t.length-e)},M5=function(t,e,r,i,o){var s=e-t,a=i-r;return Bu(o,function(l){return r+((l-t)/s*a||0)})},w5=function(t,e,r){var s,a,l,i=t.labels,o=$s;for(s in i)(a=i[s]-e)<0==!!r&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},Js=function(t,e,r){var s,a,i=t.vars,o=i[e];if(o)return s=i[e+"Params"],a=i.callbackScope||t,r&&ku.length&&S0(),s?o.apply(a,s):o.call(a)},Eg=function(t){return Kl(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&Js(t,"onInterrupt"),t},bde=function(t){var e=(t=!t.name&&t.default||t).name,r=Ji(t),i=e&&!r&&t.init?function(){this._props=[]}:t,o={init:gg,render:rw,add:ew,kill:kde,modifier:Fde,rawVars:0},s={targetTest:0,get:0,getSetter:nw,aliases:{},register:0};if(zf(),t!==i){if(Es[e])return;Xs(i,Xs(T0(t,o),s)),jf(i.prototype,jf(o,T0(t,s))),Es[i.prop=e]=i,t.targetTest&&(E0.push(i),HM[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}s5(e,i),t.register&&t.register(cl,i,es)},Er=255,Sg={aqua:[0,Er,Er],lime:[0,Er,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Er],navy:[0,0,128],white:[Er,Er,Er],olive:[128,128,0],yellow:[Er,Er,0],orange:[Er,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Er,0,0],pink:[Er,192,203],cyan:[0,Er,Er],transparent:[Er,Er,Er,0]},JM=function(t,e,r){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(r-e)*t*6:t<.5?r:3*t<2?e+(r-e)*(2/3-t)*6:e)*Er+.5|0},P5=function(t,e,r){var o,s,a,l,u,c,y,M,w,A,i=t?Xl(t)?[t>>16,t>>8&Er,t&Er]:0:Sg.black;if(!i){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Sg[t])i=Sg[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(i=parseInt(t.substr(1,6),16))>>16,i>>8&Er,i&Er,parseInt(t.substr(7),16)/255];i=[(t=parseInt(t.substr(1),16))>>16,t>>8&Er,t&Er]}else if("hsl"===t.substr(0,3))if(i=A=t.match(LM),e){if(~t.indexOf("="))return i=t.match(t5),r&&i.length<4&&(i[3]=1),i}else l=+i[0]%360/360,u=+i[1]/100,o=2*(c=+i[2]/100)-(s=c<=.5?c*(u+1):c+u-c*u),i.length>3&&(i[3]*=1),i[0]=JM(l+1/3,o,s),i[1]=JM(l,o,s),i[2]=JM(l-1/3,o,s);else i=t.match(LM)||Sg.transparent;i=i.map(Number)}return e&&!A&&(o=i[0]/Er,s=i[1]/Er,a=i[2]/Er,c=((y=Math.max(o,s,a))+(M=Math.min(o,s,a)))/2,y===M?l=u=0:(w=y-M,u=c>.5?w/(2-y-M):w/(y+M),l=y===o?(s-a)/w+(s<a?6:0):y===s?(a-o)/w+2:(o-s)/w+4,l*=60),i[0]=~~(l+.5),i[1]=~~(100*u+.5),i[2]=~~(100*c+.5)),r&&i.length<4&&(i[3]=1),i},A5=function(t){var e=[],r=[],i=-1;return t.split(Lu).forEach(function(o){var s=o.match(Vf)||[];e.push.apply(e,s),r.push(i+=s.length+1)}),e.c=r,e},R5=function(t,e,r){var l,u,c,y,i="",o=(t+i).match(Lu),s=e?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(M){return(M=P5(M,e,1))&&s+(e?M[0]+","+M[1]+"%,"+M[2]+"%,"+M[3]:M.join(","))+")"}),r&&(c=A5(t),(l=r.c).join(i)!==c.c.join(i)))for(y=(u=t.replace(Lu,"1").split(Vf)).length-1;a<y;a++)i+=u[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(c.length?c:o.length?o:r).shift());if(!u)for(y=(u=t.split(Lu)).length-1;a<y;a++)i+=u[a]+o[a];return i+u[y]},Lu=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Sg)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),Ede=/hsl[a]?\(/,D5=function(t){var r,e=t.join(" ");if(Lu.lastIndex=0,Lu.test(e))return r=Ede.test(e),t[1]=R5(t[1],r),t[0]=R5(t[0],r,A5(t[1])),!0},Qs=function(){var l,u,c,y,M,w,n=Date.now,t=500,e=33,r=n(),i=r,o=1e3/240,s=o,a=[],A=function D(I){var re,ae,Z,ee,j=n()-i,W=!0===I;if(j>t&&(r+=j-e),((re=(Z=(i+=j)-r)-s)>0||W)&&(ee=++y.frame,M=Z-1e3*y.time,y.time=Z/=1e3,s+=re+(re>=o?4:o-re),ae=1),W||(l=u(D)),ae)for(w=0;w<a.length;w++)a[w](Z,M,ee,I)};return y={time:0,frame:0,tick:function(){A(!0)},deltaRatio:function(I){return M/(1e3/(I||60))},wake:function(){i5&&(!GM&&ZU()&&(ll=GM=window,VM=ll.document||{},bs.gsap=cl,(ll.gsapVersions||(ll.gsapVersions=[])).push(cl.version),o5(y0||ll.GreenSockGlobals||!ll.gsap&&ll||{}),c=ll.requestAnimationFrame),l&&y.sleep(),u=c||function(I){return setTimeout(I,s-1e3*y.time+1|0)},w0=1,A(2))},sleep:function(){(c?ll.cancelAnimationFrame:clearTimeout)(l),w0=0,u=gg},lagSmoothing:function(I,j){t=I||1/br,e=Math.min(j,t,0)},fps:function(I){s=1e3*y.time+(o=1e3/(I||240))},add:function(I){a.indexOf(I)<0&&a.push(I),zf()},remove:function(I,j){~(j=a.indexOf(I))&&a.splice(j,1)&&w>=j&&w--},_listeners:a}}(),zf=function(){return!w0&&Qs.wake()},Gn={},Sde=/^[\d.\-M][\d.\-,\s]/,Tde=/["']/g,Cde=function(t){for(var a,l,u,e={},r=t.substr(1,t.length-3).split(":"),i=r[0],o=1,s=r.length;o<s;o++)l=r[o],a=o!==s-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[i]=isNaN(u)?u.replace(Tde,"").trim():+u,i=l.substr(a+1).trim();return e},x5=function(t){return function(e){return 1-t(1-e)}},I5=function n(t,e){for(var i,r=t._first;r;)r instanceof Zo?n(r,e):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==e&&(r.timeline?n(r.timeline,e):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=e)),r=r._next},Eh=function(t,e){return t&&(Ji(t)?t:Gn[t]||function(t){var e=(t+"").split("("),r=Gn[e[0]];return r&&e.length>1&&r.config?r.config.apply(null,~t.indexOf("{")?[Cde(e[1])]:function(t){var e=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<r?t.indexOf(")",r+1):r)}(t).split(",").map(h5)):Gn._CE&&Sde.test(t)?Gn._CE("",t):r}(t))||e},Sh=function(t,e,r,i){void 0===r&&(r=function(l){return 1-e(1-l)}),void 0===i&&(i=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var s,o={easeIn:e,easeOut:r,easeInOut:i};return Jo(t,function(a){for(var l in Gn[a]=bs[a]=o,Gn[s=a.toLowerCase()]=r,o)Gn[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Gn[a+"."+l]=o[l]}),o},N5=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},QM=function n(t,e,r){var i=e>=1?e:1,o=(r||(t?.3:.45))/(e<1?e:1),s=o/kM*(Math.asin(1/i)||0),a=function(c){return 1===c?1:i*Math.pow(2,-10*c)*Zhe((c-s)*o)+1},l="out"===t?a:"in"===t?function(u){return 1-a(1-u)}:N5(a);return o=kM/o,l.config=function(u,c){return n(t,u,c)},l},ZM=function n(t,e){void 0===e&&(e=1.70158);var r=function(s){return s?--s*s*((e+1)*s+e)+1:0},i="out"===t?r:"in"===t?function(o){return 1-r(1-o)}:N5(r);return i.config=function(o){return n(t,o)},i};Jo("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Sh(n+",Power"+(e-1),t?function(r){return Math.pow(r,e)}:function(r){return r},function(r){return 1-Math.pow(1-r,e)},function(r){return r<.5?Math.pow(2*r,e)/2:1-Math.pow(2*(1-r),e)/2})}),Gn.Linear.easeNone=Gn.none=Gn.Linear.easeIn,Sh("Elastic",QM("in"),QM("out"),QM()),function(n,t){var o=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Sh("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),Sh("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Sh("Circ",function(n){return-(QU(1-n*n)-1)}),Sh("Sine",function(n){return 1===n?1:1-Qhe(n*Khe)}),Sh("Back",ZM("in"),ZM("out"),ZM()),Gn.SteppedEase=Gn.steps=bs.SteppedEase={config:function(t,e){void 0===t&&(t=1);var r=1/t,i=t+(e?0:1),o=e?1:0;return function(a){return((i*yg(0,.99999999,a)|0)+o)*r}}},Gf.ease=Gn["quad.out"],Jo("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return zM+=n+","+n+"Params,"});var F5=function(t,e){this.id=Jhe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:u5,this.set=e?e.getSetter:nw},Tg=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Yf(this,+e.duration,1,1),this.data=e.data,w0||Qs.wake()}var t=n.prototype;return t.delay=function(r){return r||0===r?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},t.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},t.totalDuration=function(r){return arguments.length?(this._dirty=0,Yf(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(r,i){if(zf(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(_5(this,r),!o._dp||o.parent||g5(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&ul(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===br||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),c5(this,r,i)),this},t.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+p5(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},t.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?r:1-r)+p5(this),i):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(r,i){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*o,i):this._repeat?Hf(this._tTime,o)+1:1},t.timeScale=function(r){if(!arguments.length)return this._rts===-br?0:this._rts;if(this._rts===r)return this;var i=this.parent&&this._ts?O0(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-br?0:this._rts,ode(this.totalTime(yg(-this._delay,this._tDur,i),!0)),M0(this),this},t.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(zf(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==br&&(this._tTime-=br)))),this):this._ps},t.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ul(i,this,r-this._delay),this}return this._start},t.endTime=function(r){return this._start+(Ko(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?O0(i.rawTime(r),this):this._tTime:this._tTime},t.globalTime=function(r){for(var i=this,o=arguments.length?r:i.rawTime();i;)o=i._start+o/(i._ts||1),i=i._dp;return o},t.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,y5(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,y5(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},t.seek=function(r,i){return this.totalTime(qs(this,r),Ko(i))},t.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Ko(i))},t.play=function(r,i){return null!=r&&this.seek(r,i),this.reversed(!1).paused(!1)},t.reverse=function(r,i){return null!=r&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(r,i){return null!=r&&this.seek(r,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-br:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-br,this},t.isActive=function(){var o,r=this.parent||this._dp,i=this._start;return!(r&&!(this._ts&&this._initted&&r.isActive()&&(o=r.rawTime(!0))>=i&&o<this.endTime(!0)-br))},t.eventCallback=function(r,i,o){var s=this.vars;return arguments.length>1?(i?(s[r]=i,o&&(s[r+"Params"]=o),"onUpdate"===r&&(this._onUpdate=i)):delete s[r],this):s[r]},t.then=function(r){var i=this;return new Promise(function(o){var s=Ji(r)?r:d5,a=function(){var u=i.then;i.then=null,Ji(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),o(s),i.then=u};i._initted&&1===i.totalProgress()&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},t.kill=function(){Eg(this)},n}();Xs(Tg.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-br,_prom:0,_ps:!1,_rts:1});var Zo=function(n){function t(r,i){var o;return void 0===r&&(r={}),(o=n.call(this,r)||this).labels={},o.smoothChildTiming=!!r.smoothChildTiming,o.autoRemoveChildren=!!r.autoRemoveChildren,o._sort=Ko(r.sortChildren),Kr&&ul(r.parent||Kr,$l(o),i),r.reversed&&o.reverse(),r.paused&&o.paused(!0),r.scrollTrigger&&m5($l(o),r.scrollTrigger),o}JU(t,n);var e=t.prototype;return e.to=function(i,o,s){return vg(0,arguments,this),this},e.from=function(i,o,s){return vg(1,arguments,this),this},e.fromTo=function(i,o,s,a){return vg(2,arguments,this),this},e.set=function(i,o,s){return o.duration=0,o.parent=this,mg(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new Qi(i,o,qs(this,s),1),this},e.call=function(i,o,s){return ul(this,Qi.delayedCall(0,i,o),s)},e.staggerTo=function(i,o,s,a,l,u,c){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=u,s.onCompleteParams=c,s.parent=this,new Qi(i,s,qs(this,l)),this},e.staggerFrom=function(i,o,s,a,l,u,c){return s.runBackwards=1,mg(s).immediateRender=Ko(s.immediateRender),this.staggerTo(i,o,s,a,l,u,c)},e.staggerFromTo=function(i,o,s,a,l,u,c,y){return a.startAt=s,mg(a).immediateRender=Ko(a.immediateRender),this.staggerTo(i,o,a,l,u,c,y)},e.render=function(i,o,s){var M,w,A,D,I,j,W,re,ae,Z,ee,Ee,a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:Co(i),y=this._zTime<0!=i<0&&(this._initted||!u);if(this!==Kr&&c>l&&i>=0&&(c=l),c!==this._tTime||s||y){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),M=c,ae=this._start,j=!(re=this._ts),y&&(u||(a=this._zTime),(i||!o)&&(this._zTime=i)),this._repeat){if(ee=this._yoyo,I=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*I+i,o,s);if(M=Co(c%I),c===l?(D=this._repeat,M=u):((D=~~(c/I))&&D===c/I&&(M=u,D--),M>u&&(M=u)),Z=Hf(this._tTime,I),!a&&this._tTime&&Z!==D&&(Z=D),ee&&1&D&&(M=u-M,Ee=1),D!==Z&&!this._lock){var Pe=ee&&1&Z,ge=Pe===(ee&&1&D);if(D<Z&&(Pe=!Pe),a=Pe?0:u,this._lock=1,this.render(a||(Ee?0:Co(D*I)),o,!u)._lock=0,this._tTime=c,!o&&this.parent&&Js(this,"onRepeat"),this.vars.repeatRefresh&&!Ee&&(this.invalidate()._lock=1),a&&a!==this._time||j!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,ge&&(this._lock=2,this.render(a=Pe?u:-1e-4,!0),this.vars.repeatRefresh&&!Ee&&this.invalidate()),this._lock=0,!this._ts&&!j)return this;I5(this,Ee)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(W=function(t,e,r){var i;if(r>e)for(i=t._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,Co(a),Co(M)),W&&(c-=M-(M=W._start))),this._tTime=c,this._time=M,this._act=!re,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&M&&!o&&(Js(this,"onStart"),this._tTime!==c))return this;if(M>=a&&i>=0)for(w=this._first;w;){if(A=w._next,(w._act||M>=w._start)&&w._ts&&W!==w){if(w.parent!==this)return this.render(i,o,s);if(w.render(w._ts>0?(M-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(M-w._start)*w._ts,o,s),M!==this._time||!this._ts&&!j){W=0,A&&(c+=this._zTime=-br);break}}w=A}else{w=this._last;for(var Fe=i<0?i:M;w;){if(A=w._prev,(w._act||Fe<=w._end)&&w._ts&&W!==w){if(w.parent!==this)return this.render(i,o,s);if(w.render(w._ts>0?(Fe-w._start)*w._ts:(w._dirty?w.totalDuration():w._tDur)+(Fe-w._start)*w._ts,o,s),M!==this._time||!this._ts&&!j){W=0,A&&(c+=this._zTime=Fe?-br:br);break}}w=A}}if(W&&!o&&(this.pause(),W.render(M>=a?0:-br)._zTime=M>=a?1:-1,this._ts))return this._start=ae,M0(this),this.render(i,o,s);this._onUpdate&&!o&&Js(this,"onUpdate",!0),(c===l&&l>=this.totalDuration()||!c&&a)&&(ae===this._start||Math.abs(re)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Kl(this,1),!o&&(!(i<0)||a)&&(c||a||!l)&&(Js(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(i,o){var s=this;if(Xl(o)||(o=qs(this,o,i)),!(i instanceof Tg)){if(To(i))return i.forEach(function(a){return s.add(a,o)}),this;if(Ki(i))return this.addLabel(i,o);if(!Ji(i))return this;i=Qi.delayedCall(0,i)}return this!==i?ul(this,i,o):this},e.getChildren=function(i,o,s,a){void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-$s);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Qi?o&&l.push(u):(s&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,o,s)))),u=u._next;return l},e.getById=function(i){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===i)return o[s]},e.remove=function(i){return Ki(i)?this.removeLabel(i):Ji(i)?this.killTweensOf(i):(C0(this,i),i===this._recent&&(this._recent=this._last),bh(this))},e.totalTime=function(i,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Co(Qs.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,o),this._forcing=0,this):this._tTime},e.addLabel=function(i,o){return this.labels[i]=qs(this,o),this},e.removeLabel=function(i){return delete this.labels[i],this},e.addPause=function(i,o,s){var a=Qi.delayedCall(0,o||gg,s);return a.data="isPause",this._hasPause=1,ul(this,a,qs(this,i))},e.removePause=function(i){var o=this._first;for(i=qs(this,i);o;)o._start===i&&"isPause"===o.data&&Kl(o),o=o._next},e.killTweensOf=function(i,o,s){for(var a=this.getTweensOf(i,s),l=a.length;l--;)Uu!==a[l]&&a[l].kill(i,o);return this},e.getTweensOf=function(i,o){for(var c,s=[],a=Ks(i),l=this._first,u=Xl(o);l;)l instanceof Qi?tde(l._targets,a)&&(u?(!Uu||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(c=l.getTweensOf(a,o)).length&&s.push.apply(s,c),l=l._next;return s},e.tweenTo=function(i,o){o=o||{};var w,s=this,a=qs(s,i),u=o.startAt,c=o.onStart,y=o.onStartParams,M=o.immediateRender,A=Qi.to(s,Xs({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale())||br,onStart:function(){if(s.pause(),!w){var I=o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale());A._dur!==I&&Yf(A,I,0,1).render(A._time,!0,!0),w=1}c&&c.apply(A,y||[])}},o));return M?A.render(0):A},e.tweenFromTo=function(i,o,s){return this.tweenTo(o,Xs({startAt:{time:qs(this,i)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(i){return void 0===i&&(i=this._time),w5(this,qs(this,i))},e.previousLabel=function(i){return void 0===i&&(i=this._time),w5(this,qs(this,i),1)},e.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+br)},e.shiftChildren=function(i,o,s){void 0===s&&(s=0);for(var u,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=i,a._end+=i),a=a._next;if(o)for(u in l)l[u]>=s&&(l[u]+=i);return bh(this)},e.invalidate=function(){var i=this._first;for(this._lock=0;i;)i.invalidate(),i=i._next;return n.prototype.invalidate.call(this)},e.clear=function(i){void 0===i&&(i=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),bh(this)},e.totalDuration=function(i){var u,c,y,o=0,s=this,a=s._last,l=$s;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(y=s.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),(c=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,ul(s,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(o-=c,(!y&&!s._dp||y&&y.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=u;Yf(s,s===Kr&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(i){if(Kr._ts&&(c5(Kr,O0(i,Kr)),a5=Qs.frame),Qs.frame>=l5){l5+=ys.autoSleep||120;var o=Kr._first;if((!o||!o._ts)&&ys.autoSleep&&Qs._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Qs.sleep()}}},t}(Tg);Xs(Zo.prototype,{_lock:0,_hasPause:0,_forcing:0});var Uu,wde=function(t,e,r,i,o,s,a){var y,M,w,A,D,I,j,W,l=new es(this._pt,t,e,0,1,V5,null,o),u=0,c=0;for(l.b=r,l.e=i,r+="",(j=~(i+="").indexOf("random("))&&(i=bg(i)),s&&(s(W=[r,i],t,e),r=W[0],i=W[1]),M=r.match(UM)||[];y=UM.exec(i);)A=y[0],D=i.substring(u,y.index),w?w=(w+1)%5:"rgba("===D.substr(-5)&&(w=1),A!==M[c++]&&(I=parseFloat(M[c-1])||0,l._pt={_next:l._pt,p:D||1===c?D:",",s:I,c:"="===A.charAt(1)?parseFloat(A.substr(2))*("-"===A.charAt(0)?-1:1):parseFloat(A)-I,m:w&&w<4?Math.round:0},u=UM.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(n5.test(i)||j)&&(l.e=0),this._pt=l,l},ew=function(t,e,r,i,o,s,a,l,u){Ji(i)&&(i=i(o||0,t,s));var w,c=t[e],y="get"!==r?r:Ji(c)?u?t[e.indexOf("set")||!Ji(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():c,M=Ji(c)?u?xde:U5:tw;if(Ki(i)&&(~i.indexOf("random(")&&(i=bg(i)),"="===i.charAt(1)&&((w=parseFloat(y)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(Qo(y)||0))||0===w)&&(i=w)),y!==i)return isNaN(y*i)||""===i?(!c&&!(e in t)&&jM(e,i),wde.call(this,t,e,y,i,M,l||ys.stringFilter,u)):(w=new es(this._pt,t,e,+y||0,i-(y||0),"boolean"==typeof c?Nde:G5,0,M),u&&(w.fp=u),a&&w.modifier(a,this,t),this._pt=w)},k5=function(t,e,r,i,o,s){var a,l,u,c;if(Es[t]&&!1!==(a=new Es[t]).init(o,a.rawVars?e[t]:function(t,e,r,i,o){if(Ji(t)&&(t=Cg(t,o,e,r,i)),!ql(t)||t.style&&t.nodeType||To(t)||e5(t))return Ki(t)?Cg(t,o,e,r,i):t;var a,s={};for(a in t)s[a]=Cg(t[a],o,e,r,i);return s}(e[t],i,o,s,r),r,i,s)&&(r._pt=l=new es(r._pt,o,t,0,1,a.render,a,0,a.priority),r!==Wf))for(u=r._ptLookup[r._targets.indexOf(o)],c=a._props.length;c--;)u[a._props[c]]=l;return a},Ade=function n(t,e){var ee,Ee,Pe,ge,Fe,Ze,et,Ke,wt,Ye,we,ze,st,r=t.vars,i=r.ease,o=r.startAt,s=r.immediateRender,a=r.lazy,l=r.onUpdate,u=r.onUpdateParams,c=r.callbackScope,y=r.runBackwards,M=r.yoyoEase,w=r.keyframes,A=r.autoRevert,D=t._dur,I=t._startAt,j=t._targets,W=t.parent,re=W&&"nested"===W.data?W.parent._targets:j,ae="auto"===t._overwrite&&!FM,Z=t.timeline;if(Z&&(!w||!i)&&(i="none"),t._ease=Eh(i,Gf.ease),t._yEase=M?x5(Eh(!0===M?i:M,Gf.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),t._from=!Z&&!!r.runBackwards,!Z||w&&!r.stagger){if(ze=(Ke=j[0]?yh(j[0]).harness:0)&&r[Ke.prop],ee=T0(r,HM),I&&Kl(I.render(-1,!0)),o)if(Kl(t._startAt=Qi.set(j,Xs({data:"isStart",overwrite:!1,parent:W,immediateRender:!0,lazy:Ko(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:c,stagger:0},o))),e<0&&!s&&!A&&t._startAt.render(-1,!0),s){if(e>0&&!A&&(t._startAt=0),D&&e<=0)return void(e&&(t._zTime=e))}else!1===A&&(t._startAt=0);else if(y&&D)if(I)!A&&(t._startAt=0);else if(e&&(s=!1),Pe=Xs({overwrite:!1,data:"isFromStart",lazy:s&&Ko(a),immediateRender:s,stagger:0,parent:W},ee),ze&&(Pe[Ke.prop]=ze),Kl(t._startAt=Qi.set(j,Pe)),e<0&&t._startAt.render(-1,!0),t._zTime=e,s){if(!e)return}else n(t._startAt,br);for(t._pt=0,a=D&&Ko(a)||a&&!D,Ee=0;Ee<j.length;Ee++){if(et=(Fe=j[Ee])._gsap||$M(j)[Ee]._gsap,t._ptLookup[Ee]=Ye={},YM[et.id]&&ku.length&&S0(),we=re===j?Ee:re.indexOf(Fe),Ke&&!1!==(wt=new Ke).init(Fe,ze||ee,t,we,re)&&(t._pt=ge=new es(t._pt,Fe,wt.name,0,1,wt.render,wt,0,wt.priority),wt._props.forEach(function(Tt){Ye[Tt]=ge}),wt.priority&&(Ze=1)),!Ke||ze)for(Pe in ee)Es[Pe]&&(wt=k5(Pe,ee,t,we,Fe,re))?wt.priority&&(Ze=1):Ye[Pe]=ge=ew.call(t,Fe,Pe,"get",ee[Pe],we,re,0,r.stringFilter);t._op&&t._op[Ee]&&t.kill(Fe,t._op[Ee]),ae&&t._pt&&(Uu=t,Kr.killTweensOf(Fe,Ye,t.globalTime(e)),st=!t.parent,Uu=0),t._pt&&a&&(YM[et.id]=1)}Ze&&j5(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!st,w&&e<=0&&Z.render($s,!0,!0)},Dde=function(t,e,r,i){var s,a,o=e.ease||i||"power1.inOut";if(To(e))a=r[t]||(r[t]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:o})});else for(s in e)a=r[s]||(r[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:e[s],e:o})},Cg=function(t,e,r,i,o){return Ji(t)?t.call(e,r,i,o):Ki(t)&&~t.indexOf("random(")?bg(t):t},B5=zM+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",L5={};Jo(B5+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return L5[n]=1});var Qi=function(n){function t(r,i,o,s){var a;"number"==typeof i&&(o.duration=i,i=o,o=null);var ae,Z,ee,Ee,Pe,ge,Fe,Ze,l=(a=n.call(this,s?i:mg(i))||this).vars,u=l.duration,c=l.delay,y=l.immediateRender,M=l.stagger,w=l.overwrite,A=l.keyframes,D=l.defaults,I=l.scrollTrigger,j=l.yoyoEase,W=i.parent||Kr,re=(To(r)||e5(r)?Xl(r[0]):"length"in i)?[r]:Ks(r);if(a._targets=re.length?$M(re):b0("GSAP target "+r+" not found. https://greensock.com",!ys.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=w,A||M||v0(u)||v0(c)){if(i=a.vars,(ae=a.timeline=new Zo({data:"nested",defaults:D||{}})).kill(),ae.parent=ae._dp=$l(a),ae._start=0,M||v0(u)||v0(c)){if(Ee=re.length,Fe=M&&S5(M),ql(M))for(Pe in M)~B5.indexOf(Pe)&&(Ze||(Ze={}),Ze[Pe]=M[Pe]);for(Z=0;Z<Ee;Z++)(ee=T0(i,L5)).stagger=0,j&&(ee.yoyoEase=j),Ze&&jf(ee,Ze),ge=re[Z],ee.duration=+Cg(u,$l(a),Z,ge,re),ee.delay=(+Cg(c,$l(a),Z,ge,re)||0)-a._delay,!M&&1===Ee&&ee.delay&&(a._delay=c=ee.delay,a._start+=c,ee.delay=0),ae.to(ge,ee,Fe?Fe(Z,ge,re):0),ae._ease=Gn.none;ae.duration()?u=c=0:a.timeline=0}else if(A){mg(Xs(ae.vars.defaults,{ease:"none"})),ae._ease=Eh(A.ease||i.ease||"none");var Ke,wt,Ye,et=0;if(To(A))A.forEach(function(we){return ae.to(re,we,">")});else{for(Pe in ee={},A)"ease"===Pe||"easeEach"===Pe||Dde(Pe,A[Pe],ee,A.easeEach);for(Pe in ee)for(Ke=ee[Pe].sort(function(we,ze){return we.t-ze.t}),et=0,Z=0;Z<Ke.length;Z++)(Ye={ease:(wt=Ke[Z]).e,duration:(wt.t-(Z?Ke[Z-1].t:0))/100*u})[Pe]=wt.v,ae.to(re,Ye,et),et+=Ye.duration;ae.duration()<u&&ae.to({},{duration:u-ae.duration()})}}u||a.duration(u=ae.duration())}else a.timeline=0;return!0===w&&!FM&&(Uu=$l(a),Kr.killTweensOf(re),Uu=0),ul(W,$l(a),o),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(y||!u&&!A&&a._start===Co(W._time)&&Ko(y)&&sde($l(a))&&"nested"!==W.data)&&(a._tTime=-br,a.render(Math.max(0,-c))),I&&m5($l(a),I),a}JU(t,n);var e=t.prototype;return e.render=function(i,o,s){var y,M,w,A,D,I,j,W,re,a=this._time,l=this._tDur,u=this._dur,c=i>l-br&&i>=0?l:i<br?0:i;if(u){if(c!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=i<0){if(y=c,W=this.timeline,this._repeat){if(A=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*A+i,o,s);if(y=Co(c%A),c===l?(w=this._repeat,y=u):((w=~~(c/A))&&w===c/A&&(y=u,w--),y>u&&(y=u)),(I=this._yoyo&&1&w)&&(re=this._yEase,y=u-y),D=Hf(this._tTime,A),y===a&&!s&&this._initted)return this;w!==D&&(W&&this._yEase&&I5(W,I),this.vars.repeatRefresh&&!I&&!this._lock&&(this._lock=s=1,this.render(Co(A*w),!0).invalidate()._lock=0))}if(!this._initted){if(v5(this,i<0?i:y,s,o))return this._tTime=0,this;if(u!==this._dur)return this.render(i,o,s)}if(this._tTime=c,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=j=(re||this._ease)(y/u),this._from&&(this.ratio=j=1-j),y&&!a&&!o&&(Js(this,"onStart"),this._tTime!==c))return this;for(M=this._pt;M;)M.r(j,M.d),M=M._next;W&&W.render(i<0?i:!y&&I?-br:W._dur*W._ease(y/this._dur),o,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!o&&(i<0&&this._startAt&&this._startAt.render(i,!0,s),Js(this,"onUpdate")),this._repeat&&w!==D&&this.vars.onRepeat&&!o&&this.parent&&Js(this,"onRepeat"),(c===this._tDur||!c)&&this._tTime===c&&(i<0&&this._startAt&&!this._onUpdate&&this._startAt.render(i,!0,!0),(i||!u)&&(c===this._tDur&&this._ts>0||!c&&this._ts<0)&&Kl(this,1),!o&&(!(i<0)||a)&&(c||a)&&(Js(this,c===l?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,r,i){var u,c,y,o=t.ratio,s=e<0||!e&&(!t._start&&ade(t)&&(t._initted||!XM(t))||(t._ts<0||t._dp._ts<0)&&!XM(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=yg(0,t._tDur,e),c=Hf(l,a),t._yoyo&&1&c&&(s=1-s),c!==Hf(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||i||t._zTime===br||!e&&t._zTime){if(!t._initted&&v5(t,e,i,r))return;for(y=t._zTime,t._zTime=e||(r?br:0),r||(r=e&&!y),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,u=t._pt;u;)u.r(s,u.d),u=u._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!r&&Js(t,"onUpdate"),l&&t._repeat&&!r&&t.parent&&Js(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&Kl(t,1),r||(Js(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,i,o,s);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(i,o){if(void 0===o&&(o="all"),!(i||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?Eg(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,o,Uu&&!0!==Uu.vars.overwrite)._first||Eg(this),this.parent&&s!==this.timeline.totalDuration()&&Yf(this,this._dur*this.timeline._tDur/s,0,1),this}var y,M,w,A,D,I,j,a=this._targets,l=i?Ks(i):a,u=this._ptLookup,c=this._pt;if((!o||"all"===o)&&function(t,e){for(var r=t.length,i=r===e.length;i&&r--&&t[r]===e[r];);return r<0}(a,l))return"all"===o&&(this._pt=0),Eg(this);for(y=this._op=this._op||[],"all"!==o&&(Ki(o)&&(D={},Jo(o,function(W){return D[W]=1}),o=D),o=function(t,e){var o,s,a,l,r=t[0]?yh(t[0]).harness:0,i=r&&r.aliases;if(!i)return e;for(s in o=jf({},e),i)if(s in o)for(a=(l=i[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),j=a.length;j--;)if(~l.indexOf(a[j]))for(D in M=u[j],"all"===o?(y[j]=o,A=M,w={}):(w=y[j]=y[j]||{},A=o),A)(I=M&&M[D])&&((!("kill"in I.d)||!0===I.d.kill(D))&&C0(this,I,"_pt"),delete M[D]),"all"!==w&&(w[D]=1);return this._initted&&!this._pt&&c&&Eg(this),this},t.to=function(i,o){return new t(i,o,arguments[2])},t.from=function(i,o){return vg(1,arguments)},t.delayedCall=function(i,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(i,o,s){return vg(2,arguments)},t.set=function(i,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(i,o)},t.killTweensOf=function(i,o,s){return Kr.killTweensOf(i,o,s)},t}(Tg);Xs(Qi.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Jo("staggerTo,staggerFrom,staggerFromTo",function(n){Qi[n]=function(){var t=new Zo,e=qM.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var tw=function(t,e,r){return t[e]=r},U5=function(t,e,r){return t[e](r)},xde=function(t,e,r,i){return t[e](i.fp,r)},Ide=function(t,e,r){return t.setAttribute(e,r)},nw=function(t,e){return Ji(t[e])?U5:BM(t[e])&&t.setAttribute?Ide:tw},G5=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},Nde=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},V5=function(t,e){var r=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*t):Math.round(1e4*(r.s+r.c*t))/1e4)+i,r=r._next;i+=e.c}e.set(e.t,e.p,i,e)},rw=function(t,e){for(var r=e._pt;r;)r.r(t,r.d),r=r._next},Fde=function(t,e,r,i){for(var s,o=this._pt;o;)s=o._next,o.p===i&&o.modifier(t,e,r),o=s},kde=function(t){for(var r,i,e=this._pt;e;)i=e._next,e.p===t&&!e.op||e.op===t?C0(this,e,"_pt"):e.dep||(r=1),e=i;return!r},Bde=function(t,e,r,i){i.mSet(t,e,i.m.call(i.tween,r,i.mt),i)},j5=function(t){for(var r,i,o,s,e=t._pt;e;){for(r=e._next,i=o;i&&i.pr>e.pr;)i=i._next;(e._prev=i?i._prev:s)?e._prev._next=e:o=e,(e._next=i)?i._prev=e:s=e,e=r}t._pt=o},es=function(){function n(e,r,i,o,s,a,l,u,c){this.t=r,this.s=o,this.c=s,this.p=i,this.r=a||G5,this.d=l||this,this.set=u||tw,this.pr=c||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(r,i,o){this.mSet=this.mSet||this.set,this.set=Bde,this.m=r,this.mt=o,this.tween=i},n}();Jo(zM+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return HM[n]=1}),bs.TweenMax=bs.TweenLite=Qi,bs.TimelineLite=bs.TimelineMax=Zo,Kr=new Zo({sortChildren:!1,defaults:Gf,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),ys.stringFilter=D5;var P0={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach(function(i){return bde(i)})},timeline:function(t){return new Zo(t)},getTweensOf:function(t,e){return Kr.getTweensOf(t,e)},getProperty:function(t,e,r,i){Ki(t)&&(t=Ks(t)[0]);var o=yh(t||{}).get,s=r?d5:h5;return"native"===r&&(r=""),t&&(e?s((Es[e]&&Es[e].get||o)(t,e,r,i)):function(a,l,u){return s((Es[a]&&Es[a].get||o)(t,a,l,u))})},quickSetter:function(t,e,r){if((t=Ks(t)).length>1){var i=t.map(function(c){return cl.quickSetter(c,e,r)}),o=i.length;return function(c){for(var y=o;y--;)i[y](c)}}var s=Es[e],a=yh(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,u=s?function(c){var y=new s;Wf._pt=0,y.init(t,r?c+r:c,Wf,0,[t]),y.render(1,y),Wf._pt&&rw(1,Wf)}:a.set(t,l);return s?u:function(c){return u(t,l,r?c+r:c,a,1)}},isTweening:function(t){return Kr.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Eh(t.ease,Gf.ease)),f5(Gf,t||{})},config:function(t){return f5(ys,t||{})},registerEffect:function(t){var e=t.name,r=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!Es[a]&&!bs[a]&&b0(e+" effect requires "+a+" plugin.")}),WM[e]=function(a,l,u){return r(Ks(a),Xs(l||{},o),u)},s&&(Zo.prototype[e]=function(a,l,u){return this.add(WM[e](a,ql(l)?l:(u=l)&&{},this),u)})},registerEase:function(t,e){Gn[t]=Eh(e)},parseEase:function(t,e){return arguments.length?Eh(t,e):Gn},getById:function(t){return Kr.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var i,o,r=new Zo(t);for(r.smoothChildTiming=Ko(t.smoothChildTiming),Kr.remove(r),r._dp=0,r._time=r._tTime=Kr._time,i=Kr._first;i;)o=i._next,(e||!(!i._dur&&i instanceof Qi&&i.vars.onComplete===i._targets[0]))&&ul(r,i,i._start-i._delay),i=o;return ul(Kr,r,0),r},utils:{wrap:function n(t,e,r){var i=e-t;return To(t)?O5(t,n(0,t.length),e):Bu(r,function(o){return(i+(o-t)%i)%i+t})},wrapYoyo:function n(t,e,r){var i=e-t,o=2*i;return To(t)?O5(t,n(0,t.length-1),e):Bu(r,function(s){return t+((s=(o+(s-t)%o)%o||0)>i?o-s:s)})},distribute:S5,random:C5,snap:T5,normalize:function(t,e,r){return M5(t,e,0,1,r)},getUnit:Qo,clamp:function(t,e,r){return Bu(r,function(i){return yg(t,e,i)})},splitColor:P5,toArray:Ks,selector:function(t){return t=Ks(t)[0]||b0("Invalid scope")||{},function(e){var r=t.current||t.nativeElement||t;return Ks(e,r.querySelectorAll?r:r===t?b0("Invalid scope")||VM.createElement("div"):t)}},mapRange:M5,pipe:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(i){return e.reduce(function(o,s){return s(o)},i)}},unitize:function(t,e){return function(r){return t(parseFloat(r))+(e||Qo(r))}},interpolate:function n(t,e,r,i){var o=isNaN(t+e)?0:function(w){return(1-w)*t+w*e};if(!o){var l,u,c,y,M,s=Ki(t),a={};if(!0===r&&(i=1)&&(r=null),s)t={p:t},e={p:e};else if(To(t)&&!To(e)){for(c=[],M=(y=t.length)-2,u=1;u<y;u++)c.push(n(t[u-1],t[u]));y--,o=function(A){A*=y;var D=Math.min(M,~~A);return c[D](A-D)},r=e}else i||(t=jf(To(t)?[]:{},t));if(!c){for(l in e)ew.call(a,t,l,"get",e[l]);o=function(A){return rw(A,a)||(s?t.p:t)}}}return Bu(r,o)},shuffle:E5},install:o5,effects:WM,ticker:Qs,updateRoot:Zo.updateRoot,plugins:Es,globalTimeline:Kr,core:{PropTween:es,globals:s5,Tween:Qi,Timeline:Zo,Animation:Tg,getCache:yh,_removeLinkedListItem:C0,suppressOverwrites:function(t){return FM=t}}};Jo("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return P0[n]=Qi[n]}),Qs.add(Zo.updateRoot),Wf=P0.to({},{duration:0});var Lde=function(t,e){for(var r=t._pt;r&&r.p!==e&&r.op!==e&&r.fp!==e;)r=r._next;return r},iw=function(t,e){return{name:t,rawVars:1,init:function(i,o,s){s._onInit=function(a){var l,u;if(Ki(o)&&(l={},Jo(o,function(c){return l[c]=1}),o=l),e){for(u in l={},o)l[u]=e(o[u]);o=l}!function(t,e){var i,o,s,r=t._targets;for(i in e)for(o=r.length;o--;)(s=t._ptLookup[o][i])&&(s=s.d)&&(s._pt&&(s=Lde(s,i)),s&&s.modifier&&s.modifier(e[i],t,r[o],i))}(a,o)}}}},cl=P0.registerPlugin({name:"attr",init:function(t,e,r,i,o){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],i,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var r=e.length;r--;)this.add(t,r,t[r]||0,e[r])}},iw("roundProps",KM),iw("modifiers"),iw("snap",T5))||P0;Qi.version=Zo.version=cl.version="3.9.1",i5=1,ZU()&&zf();var H5,Gu,$f,ow,Th,Y5,K5,Vu={},Ch=180/Math.PI,Xf=Math.PI/180,qf=Math.atan2,W5=1e8,z5=/([A-Z])/g,jde=/(?:left|right|width|margin|padding|x)/i,Hde=/[\s,\(]\S/,ju={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$5=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Yde=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},Wde=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},zde=function(t,e){var r=e.s+e.c*t;e.set(e.t,e.p,~~(r+(r<0?-.5:.5))+e.u,e)},X5=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},q5=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},$de=function(t,e,r){return t.style[e]=r},Xde=function(t,e,r){return t.style.setProperty(e,r)},qde=function(t,e,r){return t._gsap[e]=r},Kde=function(t,e,r){return t._gsap.scaleX=t._gsap.scaleY=r},Jde=function(t,e,r,i,o){var s=t._gsap;s.scaleX=s.scaleY=r,s.renderTransform(o,s)},Qde=function(t,e,r,i,o){var s=t._gsap;s[e]=r,s.renderTransform(o,s)},so="transform",Hu=so+"Origin",sw=function(t,e){var r=Gu.createElementNS?Gu.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Gu.createElement(t);return r.style?r:Gu.createElement(t)},Jl=function n(t,e,r){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(z5,"-$1").toLowerCase())||i.getPropertyValue(e)||!r&&n(t,Kf(e)||e,1)||""},J5="O,Moz,ms,Ms,Webkit".split(","),Kf=function(t,e,r){var o=(e||Th).style,s=5;if(t in o&&!r)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(J5[s]+t in o););return s<0?null:(3===s?"ms":s>=0?J5[s]:"")+t},aw=function(){"undefined"!=typeof window&&window.document&&(H5=window,$f=(Gu=H5.document).documentElement,Th=sw("div")||{style:{}},sw("div"),so=Kf(so),Hu=so+"Origin",Th.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",K5=!!Kf("perspective"),ow=1)},lw=function n(t){var s,e=sw("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,o=this.style.cssText;if($f.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(s=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),$f.removeChild(e),this.style.cssText=o,s},Q5=function(t,e){for(var r=e.length;r--;)if(t.hasAttribute(e[r]))return t.getAttribute(e[r])},Z5=function(t){var e;try{e=t.getBBox()}catch(r){e=lw.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===lw||(e=lw.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Q5(t,["x","cx","x1"])||0,y:+Q5(t,["y","cy","y1"])||0,width:0,height:0}},eG=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Z5(t))},Og=function(t,e){if(e){var r=t.style;e in Vu&&e!==Hu&&(e=so),r.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),r.removeProperty(e.replace(z5,"-$1").toLowerCase())):r.removeAttribute(e)}},Yu=function(t,e,r,i,o,s){var a=new es(t._pt,e,r,0,1,s?q5:X5);return t._pt=a,a.b=i,a.e=o,t._props.push(r),a},tG={deg:1,rad:1,turn:1},Wu=function n(t,e,r,i){var A,D,I,j,o=parseFloat(r)||0,s=(r+"").trim().substr((o+"").length)||"px",a=Th.style,l=jde.test(e),u="svg"===t.tagName.toLowerCase(),c=(u?"client":"offset")+(l?"Width":"Height"),y=100,M="px"===i,w="%"===i;return i===s||!o||tG[i]||tG[s]?o:("px"!==s&&!M&&(o=n(t,e,r,"px")),j=t.getCTM&&eG(t),!w&&"%"!==s||!Vu[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=y+(M?s:i),D=~e.indexOf("adius")||"em"===i&&t.appendChild&&!u?t:t.parentNode,j&&(D=(t.ownerSVGElement||{}).parentNode),(!D||D===Gu||!D.appendChild)&&(D=Gu.body),(I=D._gsap)&&w&&I.width&&l&&I.time===Qs.time?Ri(o/I.width*y):((w||"%"===s)&&(a.position=Jl(t,"position")),D===t&&(a.position="static"),D.appendChild(Th),A=Th[c],D.removeChild(Th),a.position="absolute",l&&w&&((I=yh(D)).time=Qs.time,I.width=D[c]),Ri(M?A*o/y:A&&o?y/A*o:0))):(A=j?t.getBBox()[l?"width":"height"]:t[c],Ri(w?o/A*y:o/100*A)))},Oh=function(t,e,r,i){var o;return ow||aw(),e in ju&&"transform"!==e&&~(e=ju[e]).indexOf(",")&&(e=e.split(",")[0]),Vu[e]&&"transform"!==e?(o=wg(t,i),o="transformOrigin"!==e?o[e]:o.svg?o.origin:R0(Jl(t,Hu))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||i||~(o+"").indexOf("calc("))&&(o=A0[e]&&A0[e](t,e,r)||Jl(t,e)||u5(t,e)||("opacity"===e?1:0)),r&&!~(o+"").trim().indexOf(" ")?Wu(t,e,o,r)+r:o},Zde=function(t,e,r,i){if(!r||"none"===r){var o=Kf(e,t,1),s=o&&Jl(t,o,1);s&&s!==r?(e=o,r=s):"borderColor"===e&&(r=Jl(t,"borderTopColor"))}var c,y,M,w,A,D,I,j,W,re,ae,Z,a=new es(this._pt,t.style,e,0,1,V5),l=0,u=0;if(a.b=r,a.e=i,r+="","auto"==(i+="")&&(t.style[e]=i,i=Jl(t,e)||i,t.style[e]=r),D5(c=[r,i]),i=c[1],M=(r=c[0]).match(Vf)||[],(i.match(Vf)||[]).length){for(;y=Vf.exec(i);)I=y[0],W=i.substring(l,y.index),A?A=(A+1)%5:("rgba("===W.substr(-5)||"hsla("===W.substr(-5))&&(A=1),I!==(D=M[u++]||"")&&(w=parseFloat(D)||0,ae=D.substr((w+"").length),(Z="="===I.charAt(1)?+(I.charAt(0)+"1"):0)&&(I=I.substr(2)),j=parseFloat(I),re=I.substr((j+"").length),l=Vf.lastIndex-re.length,re||(re=re||ys.units[e]||ae,l===i.length&&(i+=re,a.e+=re)),ae!==re&&(w=Wu(t,e,D,re)||0),a._pt={_next:a._pt,p:W||1===u?W:",",s:w,c:Z?Z*j:j-w,m:A&&A<4||"zIndex"===e?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r="display"===e&&"none"===i?q5:X5;return n5.test(i)&&(a.e=0),this._pt=a,a},nG={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},efe=function(t){var e=t.split(" "),r=e[0],i=e[1]||"50%";return("top"===r||"bottom"===r||"left"===i||"right"===i)&&(t=r,r=i,i=t),e[0]=nG[r]||r,e[1]=nG[i]||i,e.join(" ")},tfe=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,u,r=e.t,o=e.u,s=r._gsap;if("all"===o||!0===o)r.style.cssText="",l=1;else for(u=(o=o.split(",")).length;--u>-1;)Vu[a=o[u]]&&(l=1,a="transformOrigin"===a?Hu:so),Og(r,a);l&&(Og(r,so),s&&(s.svg&&r.removeAttribute("transform"),wg(r,1),s.uncache=1))}},A0={clearProps:function(t,e,r,i,o){if("isFromStart"!==o.data){var s=t._pt=new es(t._pt,e,r,0,0,tfe);return s.u=i,s.pr=-10,s.tween=o,t._props.push(r),1}}},Mg=[1,0,0,1,0,0],rG={},iG=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},oG=function(t){var e=Jl(t,so);return iG(e)?Mg:e.substr(7).match(t5).map(Ri)},uw=function(t,e){var s,a,l,u,r=t._gsap||yh(t),i=t.style,o=oG(t);return r.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?Mg:o:(o===Mg&&!t.offsetParent&&t!==$f&&!r.svg&&(l=i.display,i.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(u=1,a=t.nextSibling,$f.appendChild(t)),o=oG(t),l?i.display=l:Og(t,"display"),u&&(a?s.insertBefore(t,a):s?s.appendChild(t):$f.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},cw=function(t,e,r,i,o,s){var ee,Ee,ge,a=t._gsap,l=o||uw(t,!0),u=a.xOrigin||0,c=a.yOrigin||0,y=a.xOffset||0,M=a.yOffset||0,w=l[0],A=l[1],D=l[2],I=l[3],j=l[4],W=l[5],re=e.split(" "),ae=parseFloat(re[0])||0,Z=parseFloat(re[1])||0;r?l!==Mg&&(Ee=w*I-A*D)&&(ge=ae*(-A/Ee)+Z*(w/Ee)-(w*W-A*j)/Ee,ae=ae*(I/Ee)+Z*(-D/Ee)+(D*W-I*j)/Ee,Z=ge):(ae=(ee=Z5(t)).x+(~re[0].indexOf("%")?ae/100*ee.width:ae),Z=ee.y+(~(re[1]||re[0]).indexOf("%")?Z/100*ee.height:Z)),i||!1!==i&&a.smooth?(a.xOffset=y+((j=ae-u)*w+(W=Z-c)*D)-j,a.yOffset=M+(j*A+W*I)-W):a.xOffset=a.yOffset=0,a.xOrigin=ae,a.yOrigin=Z,a.smooth=!!i,a.origin=e,a.originIsAbsolute=!!r,t.style[Hu]="0px 0px",s&&(Yu(s,a,"xOrigin",u,ae),Yu(s,a,"yOrigin",c,Z),Yu(s,a,"xOffset",y,a.xOffset),Yu(s,a,"yOffset",M,a.yOffset)),t.setAttribute("data-svg-origin",ae+" "+Z)},wg=function(t,e){var r=t._gsap||new F5(t);if("x"in r&&!e&&!r.uncache)return r;var u,c,y,M,w,A,D,I,j,W,re,ae,Z,ee,Ee,Pe,ge,Fe,Ze,et,Ke,wt,Ye,we,ze,st,Tt,Ve,gt,Rt,xt,At,i=t.style,o=r.scaleX<0,s="px",a="deg",l=Jl(t,Hu)||"0";return u=c=y=A=D=I=j=W=re=0,M=w=1,r.svg=!(!t.getCTM||!eG(t)),ee=uw(t,r.svg),r.svg&&(we=(!r.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),cw(t,we||l,!!we||r.originIsAbsolute,!1!==r.smooth,ee)),ae=r.xOrigin||0,Z=r.yOrigin||0,ee!==Mg&&(Fe=ee[0],Ze=ee[1],et=ee[2],Ke=ee[3],u=wt=ee[4],c=Ye=ee[5],6===ee.length?(M=Math.sqrt(Fe*Fe+Ze*Ze),w=Math.sqrt(Ke*Ke+et*et),A=Fe||Ze?qf(Ze,Fe)*Ch:0,(j=et||Ke?qf(et,Ke)*Ch+A:0)&&(w*=Math.abs(Math.cos(j*Xf))),r.svg&&(u-=ae-(ae*Fe+Z*et),c-=Z-(ae*Ze+Z*Ke))):(Rt=ee[7],Tt=ee[8],Ve=ee[9],xt=ee[11],u=ee[12],c=ee[13],y=ee[14],D=(Ee=qf(At=ee[6],gt=ee[10]))*Ch,Ee&&(we=wt*(Pe=Math.cos(-Ee))+Tt*(ge=Math.sin(-Ee)),ze=Ye*Pe+Ve*ge,st=At*Pe+gt*ge,Tt=wt*-ge+Tt*Pe,Ve=Ye*-ge+Ve*Pe,gt=At*-ge+gt*Pe,xt=Rt*-ge+xt*Pe,wt=we,Ye=ze,At=st),I=(Ee=qf(-et,gt))*Ch,Ee&&(Pe=Math.cos(-Ee),xt=Ke*(ge=Math.sin(-Ee))+xt*Pe,Fe=we=Fe*Pe-Tt*ge,Ze=ze=Ze*Pe-Ve*ge,et=st=et*Pe-gt*ge),A=(Ee=qf(Ze,Fe))*Ch,Ee&&(we=Fe*(Pe=Math.cos(Ee))+Ze*(ge=Math.sin(Ee)),ze=wt*Pe+Ye*ge,Ze=Ze*Pe-Fe*ge,Ye=Ye*Pe-wt*ge,Fe=we,wt=ze),D&&Math.abs(D)+Math.abs(A)>359.9&&(D=A=0,I=180-I),M=Ri(Math.sqrt(Fe*Fe+Ze*Ze+et*et)),w=Ri(Math.sqrt(Ye*Ye+At*At)),Ee=qf(wt,Ye),j=Math.abs(Ee)>2e-4?Ee*Ch:0,re=xt?1/(xt<0?-xt:xt):0),r.svg&&(we=t.getAttribute("transform"),r.forceCSS=t.setAttribute("transform","")||!iG(Jl(t,so)),we&&t.setAttribute("transform",we))),Math.abs(j)>90&&Math.abs(j)<270&&(o?(M*=-1,j+=A<=0?180:-180,A+=A<=0?180:-180):(w*=-1,j+=j<=0?180:-180)),r.x=u-((r.xPercent=u&&(r.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*r.xPercent/100:0)+s,r.y=c-((r.yPercent=c&&(r.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-c)?-50:0)))?t.offsetHeight*r.yPercent/100:0)+s,r.z=y+s,r.scaleX=Ri(M),r.scaleY=Ri(w),r.rotation=Ri(A)+a,r.rotationX=Ri(D)+a,r.rotationY=Ri(I)+a,r.skewX=j+a,r.skewY=W+a,r.transformPerspective=re+s,(r.zOrigin=parseFloat(l.split(" ")[2])||0)&&(i[Hu]=R0(l)),r.xOffset=r.yOffset=0,r.force3D=ys.force3D,r.renderTransform=r.svg?rfe:K5?sG:nfe,r.uncache=0,r},R0=function(t){return(t=t.split(" "))[0]+" "+t[1]},hw=function(t,e,r){var i=Qo(e);return Ri(parseFloat(e)+parseFloat(Wu(t,"x",r+"px",i)))+i},nfe=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,sG(t,e)},Mh="0deg",Pg="0px",wh=") ",sG=function(t,e){var r=e||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,y=r.rotationX,M=r.skewX,w=r.skewY,A=r.scaleX,D=r.scaleY,I=r.transformPerspective,j=r.force3D,W=r.target,re=r.zOrigin,ae="",Z="auto"===j&&t&&1!==t||!0===j;if(re&&(y!==Mh||c!==Mh)){var ge,ee=parseFloat(c)*Xf,Ee=Math.sin(ee),Pe=Math.cos(ee);ee=parseFloat(y)*Xf,ge=Math.cos(ee),s=hw(W,s,Ee*ge*-re),a=hw(W,a,-Math.sin(ee)*-re),l=hw(W,l,Pe*ge*-re+re)}I!==Pg&&(ae+="perspective("+I+wh),(i||o)&&(ae+="translate("+i+"%, "+o+"%) "),(Z||s!==Pg||a!==Pg||l!==Pg)&&(ae+=l!==Pg||Z?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+wh),u!==Mh&&(ae+="rotate("+u+wh),c!==Mh&&(ae+="rotateY("+c+wh),y!==Mh&&(ae+="rotateX("+y+wh),(M!==Mh||w!==Mh)&&(ae+="skew("+M+", "+w+wh),(1!==A||1!==D)&&(ae+="scale("+A+", "+D+wh),W.style[so]=ae||"translate(0, 0)"},rfe=function(t,e){var Z,ee,Ee,Pe,ge,r=e||this,i=r.xPercent,o=r.yPercent,s=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,y=r.scaleX,M=r.scaleY,w=r.target,A=r.xOrigin,D=r.yOrigin,I=r.xOffset,j=r.yOffset,W=r.forceCSS,re=parseFloat(s),ae=parseFloat(a);l=parseFloat(l),u=parseFloat(u),(c=parseFloat(c))&&(u+=c=parseFloat(c),l+=c),l||u?(l*=Xf,u*=Xf,Z=Math.cos(l)*y,ee=Math.sin(l)*y,Ee=Math.sin(l-u)*-M,Pe=Math.cos(l-u)*M,u&&(c*=Xf,ge=Math.tan(u-c),Ee*=ge=Math.sqrt(1+ge*ge),Pe*=ge,c&&(ge=Math.tan(c),Z*=ge=Math.sqrt(1+ge*ge),ee*=ge)),Z=Ri(Z),ee=Ri(ee),Ee=Ri(Ee),Pe=Ri(Pe)):(Z=y,Pe=M,ee=Ee=0),(re&&!~(s+"").indexOf("px")||ae&&!~(a+"").indexOf("px"))&&(re=Wu(w,"x",s,"px"),ae=Wu(w,"y",a,"px")),(A||D||I||j)&&(re=Ri(re+A-(A*Z+D*Ee)+I),ae=Ri(ae+D-(A*ee+D*Pe)+j)),(i||o)&&(ge=w.getBBox(),re=Ri(re+i/100*ge.width),ae=Ri(ae+o/100*ge.height)),w.setAttribute("transform",ge="matrix("+Z+","+ee+","+Ee+","+Pe+","+re+","+ae+")"),W&&(w.style[so]=ge)},ife=function(t,e,r,i,o,s){var M,w,a=360,l=Ki(o),u=parseFloat(o)*(l&&~o.indexOf("rad")?Ch:1),c=s?u*s:u-i,y=i+c+"deg";return l&&("short"===(M=o.split("_")[1])&&(c%=a)!=c%180&&(c+=c<0?a:-a),"cw"===M&&c<0?c=(c+a*W5)%a-~~(c/a)*a:"ccw"===M&&c>0&&(c=(c-a*W5)%a-~~(c/a)*a)),t._pt=w=new es(t._pt,e,r,i,c,Yde),w.e=y,w.u="deg",t._props.push(r),w},aG=function(t,e){for(var r in e)t[r]=e[r];return t},ofe=function(t,e,r){var a,l,u,c,y,M,A,i=aG({},r._gsap),s=r.style;for(l in i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),s[so]=e,a=wg(r,1),Og(r,so),r.setAttribute("transform",u)):(u=getComputedStyle(r)[so],s[so]=e,a=wg(r,1),s[so]=u),Vu)(u=i[l])!==(c=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(y=Qo(u)!==(A=Qo(c))?Wu(r,l,u,A):parseFloat(u),M=parseFloat(c),t._pt=new es(t._pt,a,l,y,M-y,$5),t._pt.u=A||0,t._props.push(l));aG(a,i)};Jo("padding,margin,Width,Radius",function(n,t){var e="Top",r="Right",i="Bottom",o="Left",s=(t<3?[e,r,i,o]:[e+o,e+r,i+r,i+o]).map(function(a){return t<2?n+a:"border"+a+n});A0[t>1?"border"+n:n]=function(a,l,u,c,y){var M,w;if(arguments.length<4)return M=s.map(function(A){return Oh(a,A,u)}),5===(w=M.join(" ")).split(M[0]).length?M[0]:w;M=(c+"").split(" "),w={},s.forEach(function(A,D){return w[A]=M[D]=M[D]||M[(D-1)/2|0]}),a.init(l,w,y)}});var lG={name:"css",register:aw,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,r,i,o){var u,c,y,M,w,A,D,I,j,W,re,ae,Z,ee,Ee,s=this._props,a=t.style,l=r.vars.startAt;for(D in ow||aw(),e)if("autoRound"!==D&&(c=e[D],!Es[D]||!k5(D,e,r,i,t,o)))if(A=A0[D],"function"==(w=typeof c)&&(w=typeof(c=c.call(r,i,t,o))),"string"===w&&~c.indexOf("random(")&&(c=bg(c)),A)A(this,t,D,c,r)&&(Ee=1);else if("--"===D.substr(0,2))u=(getComputedStyle(t).getPropertyValue(D)+"").trim(),c+="",Lu.lastIndex=0,Lu.test(u)||(I=Qo(u),j=Qo(c)),j?I!==j&&(u=Wu(t,D,u,j)+j):I&&(c+=I),this.add(a,"setProperty",u,c,i,o,0,0,D),s.push(D);else if("undefined"!==w){if(l&&D in l?(u="function"==typeof l[D]?l[D].call(r,i,t,o):l[D],Ki(u)&&~u.indexOf("random(")&&(u=bg(u)),Qo(u+"")||(u+=ys.units[D]||Qo(Oh(t,D))||""),"="===(u+"").charAt(1)&&(u=Oh(t,D))):u=Oh(t,D),M=parseFloat(u),(W="string"===w&&"="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),y=parseFloat(c),D in ju&&("autoAlpha"===D&&(1===M&&"hidden"===Oh(t,"visibility")&&y&&(M=0),Yu(this,a,"visibility",M?"inherit":"hidden",y?"inherit":"hidden",!y)),"scale"!==D&&"transform"!==D&&~(D=ju[D]).indexOf(",")&&(D=D.split(",")[0])),re=D in Vu)if(ae||((Z=t._gsap).renderTransform&&!e.parseTransform||wg(t,e.parseTransform),ee=!1!==e.smoothOrigin&&Z.smooth,(ae=this._pt=new es(this._pt,a,so,0,1,Z.renderTransform,Z,0,-1)).dep=1),"scale"===D)this._pt=new es(this._pt,Z,"scaleY",Z.scaleY,(W?W*y:y-Z.scaleY)||0),s.push("scaleY",D),D+="X";else{if("transformOrigin"===D){c=efe(c),Z.svg?cw(t,c,0,ee,0,this):((j=parseFloat(c.split(" ")[2])||0)!==Z.zOrigin&&Yu(this,Z,"zOrigin",Z.zOrigin,j),Yu(this,a,D,R0(u),R0(c)));continue}if("svgOrigin"===D){cw(t,c,1,ee,0,this);continue}if(D in rG){ife(this,Z,D,M,c,W);continue}if("smoothOrigin"===D){Yu(this,Z,"smooth",Z.smooth,c);continue}if("force3D"===D){Z[D]=c;continue}if("transform"===D){ofe(this,c,t);continue}}else D in a||(D=Kf(D)||D);if(re||(y||0===y)&&(M||0===M)&&!Hde.test(c)&&D in a)y||(y=0),(I=(u+"").substr((M+"").length))!==(j=Qo(c)||(D in ys.units?ys.units[D]:I))&&(M=Wu(t,D,u,j)),this._pt=new es(this._pt,re?Z:a,D,M,W?W*y:y-M,re||"px"!==j&&"zIndex"!==D||!1===e.autoRound?$5:zde),this._pt.u=j||0,I!==j&&"%"!==j&&(this._pt.b=u,this._pt.r=Wde);else if(D in a)Zde.call(this,t,D,u,c);else{if(!(D in t)){jM(D,c);continue}this.add(t,D,u||t[D],c,i,o)}s.push(D)}Ee&&j5(this)},get:Oh,aliases:ju,getSetter:function(t,e,r){var i=ju[e];return i&&i.indexOf(",")<0&&(e=i),e in Vu&&e!==Hu&&(t._gsap.x||Oh(t,"x"))?r&&Y5===r?"scale"===e?Kde:qde:(Y5=r||{})&&("scale"===e?Jde:Qde):t.style&&!BM(t.style[e])?$de:~e.indexOf("-")?Xde:nw(t,e)},core:{_removeProperty:Og,_getMatrix:uw}};cl.utils.checkPrefix=Kf,function(n,t,e,r){var i=Jo(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){Vu[o]=1});Jo(t,function(o){ys.units[o]="deg",rG[o]=1}),ju[i[13]]=n+","+t,Jo("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");ju[s[1]]=i[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),Jo("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ys.units[n]="px"}),cl.registerPlugin(lG);var zu,uG,D0,Zs,Ag,cG,dw,N0,Rg,Ql=cl.registerPlugin(lG)||cl,hG=function(){return"undefined"!=typeof window},dG=function(){return zu||hG()&&(zu=window.gsap)&&zu.registerPlugin&&zu},fG=function(t){return"function"==typeof t},lfe=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ea=.212671,ta=.71516,na=.072169,x0=function(t,e){var s,a,r=[],i=0;for(s=0;s<4;s++){for(a=0;a<5;a++)r[i+a]=t[i]*e[a]+t[i+1]*e[a+5]+t[i+2]*e[a+10]+t[i+3]*e[a+15]+(4===a?t[i+4]:0);i+=5}return r},pG=function(t,e){var r=1-e,i=r*ea,o=r*ta,s=r*na;return x0([i+e,o,s,0,0,i,o+e,s,0,0,i,o,s+e,0,0,0,0,0,1,0],t)},_G=function(t,e,r){var i=D0(e),o=i[0]/255,s=i[1]/255,a=i[2]/255,l=1-r;return x0([l+r*o*ea,r*o*ta,r*o*na,0,0,r*s*ea,l+r*s*ta,r*s*na,0,0,r*a*ea,r*a*ta,l+r*a*na,0,0,0,0,0,1,0],t)},gG=function(t,e){e*=Math.PI/180;var r=Math.cos(e),i=Math.sin(e);return x0([ea+r*(1-ea)+i*-ea,ta+r*-ta+i*-ta,na+r*-na+i*(1-na),0,0,ea+r*-ea+.143*i,ta+r*(1-ta)+.14*i,na+r*-na+-.283*i,0,0,ea+r*-ea+i*-(1-ea),ta+r*-ta+i*ta,na+r*(1-na)+i*na,0,0,0,0,0,1,0,0,0,0,0,1],t)},mG=function(t,e){return x0([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},vG=function(t,e){var s,r=Zs.filters[e],i=t.filters||[],o=i.length;for(r||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(i[o]instanceof r)return i[o];return s=new r,"BlurFilter"===e&&(s.blur=0),i.push(s),t.filters=i,s},Zi=function(t,e,r,i){e.add(r,t,r[t],i[t]),e._props.push(t)},yG=function(t,e){var r=new Zs.filters.ColorMatrixFilter;return r.matrix=e,r.brightness(t,!0),r.matrix},Ss={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},cfe=function(t,e,r){var a,l,u,i=vG(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var r,e={};for(r in t)e[r]=t[r];return e}(Ss),s=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((u=i.matrix,e.resolution&&(i.resolution=e.resolution),e.matrix&&e.matrix.length===u.length?(l=e.matrix,1!==o.contrast&&Zi("contrast",r,o,Ss),o.hue&&Zi("hue",r,o,Ss),1!==o.brightness&&Zi("brightness",r,o,Ss),o.colorizeAmount&&(Zi("colorize",r,o,Ss),Zi("colorizeAmount",r,o,Ss)),1!==o.saturation&&Zi("saturation",r,o,Ss)):(l=lfe.slice(),null!=e.contrast?(l=mG(l,+e.contrast),Zi("contrast",r,o,e)):1!==o.contrast&&(s?l=mG(l,o.contrast):Zi("contrast",r,o,Ss)),null!=e.hue?(l=gG(l,+e.hue),Zi("hue",r,o,e)):o.hue&&(s?l=gG(l,o.hue):Zi("hue",r,o,Ss)),null!=e.brightness?(l=yG(+e.brightness,l),Zi("brightness",r,o,e)):1!==o.brightness&&(s?l=yG(o.brightness,l):Zi("brightness",r,o,Ss)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=_G(l,e.colorize,e.colorizeAmount),Zi("colorize",r,o,e),Zi("colorizeAmount",r,o,e)):o.colorizeAmount&&(s?l=_G(l,o.colorize,o.colorizeAmount):(Zi("colorize",r,o,Ss),Zi("colorizeAmount",r,o,Ss))),null!=e.saturation?(l=pG(l,+e.saturation),Zi("saturation",r,o,e)):1!==o.saturation&&(s?l=pG(l,o.saturation):Zi("saturation",r,o,Ss))),a=l.length);--a>-1;)l[a]!==u[a]&&r.add(u,a,u[a],l[a],"colorMatrixFilter");r._props.push("colorMatrixFilter")},hfe=function(t,e){var o=e.color;(0,e.set)(e.t,e.p,o[0]<<16|o[1]<<8|o[2])},dfe=function(t,e){var r=e.g;r&&(r.dirty++,r.clearDirty++)},ffe=function(t,e){e.t.visible=!!e.t.alpha},bG=function(t,e,r,i){var o=t[e],s=D0(fG(o)?t[e.indexOf("set")||!fG(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():o),a=D0(r);i._pt=new Ag(i._pt,t,e,0,0,hfe,{t,p:e,color:s,set:cG(t,e)}),i.add(s,0,s[0],a[0]),i.add(s,1,s[1],a[1]),i.add(s,2,s[2],a[2])},pfe={tint:1,lineColor:1,fillColor:1},EG="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),fw={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},_fe={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},I0=Math.PI/180,SG=function(t){return"string"==typeof t},gfe=function(t){return SG(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*I0:t*I0},mfe=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},vfe=function(t,e,r,i,o,s){var w,A,a=360*(s?I0:1),l=SG(o),u=l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0,c=parseFloat(u?o.substr(2):o)*(s?I0:1),y=u?c*u:c-i,M=i+y;return l&&("short"===(w=o.split("_")[1])&&(y%=a)!=y%(a/2)&&(y+=y<0?a:-a),"cw"===w&&y<0?y=(y+1e10*a)%a-~~(y/a)*a:"ccw"===w&&y>0&&(y=(y-1e10*a)%a-~~(y/a)*a)),t._pt=A=new Ag(t._pt,e,r,i,y,mfe),A.e=M,A},TG=function(){hG()&&(uG=window,zu=dG(),dw=(Zs=Zs||uG.PIXI)&&Zs.VERSION&&"4"===Zs.VERSION.charAt(0),D0=function(e){return zu.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(N0=0;N0<EG.length;N0++)fw[(Rg=EG[N0])+"X"]=Rg,fw[Rg+"Y"]=Rg;var pw={version:"3.9.1",name:"pixi",register:function(t,e,r){zu=t,Ag=r,cG=e.getSetter,TG()},registerPIXI:function(t){Zs=t},init:function(t,e,r,i,o){if(Zs||TG(),!(Zs&&t instanceof Zs.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var s,a,l,u,c,y,M,w,A;for(y in e){if(l=e[y],s=fw[y])a=~y.charAt(y.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[s],a,t[s][a],"skew"===s?gfe(l):l);else if("scale"===y||"anchor"===y||"pivot"===y||"tileScale"===y)this.add(t[y],"x",t[y].x,l),this.add(t[y],"y",t[y].y,l);else if("rotation"===y||"angle"===y)vfe(this,t,y,t[y],l,"rotation"===y);else if(_fe[y])u||(cfe(t,e.colorMatrixFilter||e,this),u=!0);else if("blur"===y||"blurX"===y||"blurY"===y||"blurPadding"===y){if(c=vG(t,"BlurFilter"),this.add(c,y,c[y],l),0!==e.blurPadding)for(M=e.blurPadding||2*Math.max(c[y],l),w=t.filters.length;--w>-1;)t.filters[w].padding=Math.max(t.filters[w].padding,M)}else if(pfe[y])if(("lineColor"===y||"fillColor"===y)&&t instanceof Zs.Graphics)for(A=(t.geometry||t).graphicsData,this._pt=new Ag(this._pt,t,y,0,0,dfe,{g:t.geometry||t}),w=A.length;--w>-1;)bG(dw?A[w]:A[w][y.substr(0,4)+"Style"],dw?y:"color",l,this);else bG(t,y,l,this);else"autoAlpha"===y?(this._pt=new Ag(this._pt,t,"visible",0,0,ffe),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==y&&this.add(t,y,"get",l);this._props.push(y)}}};dG()&&zu.registerPlugin(pw);var hl=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(hl||(hl={})),hl))();let Jr=(()=>{class n{static init(){Ql.registerPlugin(pw),pw.registerPIXI(O)}static isTweening(e){return Ql.isTweening(e)}static killTweensOf(e){Ql.killTweensOf(e)}}return n.gsap=Ql,n})();class F0{constructor(t,e,r=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,r):this.createApp(e,r)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new Ur,this.zone.runOutsideAngular(()=>{Jr.gsap.ticker.fps(e),Jr.gsap.ticker.add(this.__render)})}createApp(t,e){Jr.init(),K2();const r={antialias:!0,autoDensity:!0,resolution:this.resolution};Bt.WHITE.baseTexture.resource.source.getContext("2d").fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{F0._app=new w_(Object.assign(Object.assign({},r),{resizeTo:t})),this.app.ticker.stop(),Jr.gsap.ticker.fps(e),Jr.gsap.ticker.add(this.__render)})}get app(){return F0._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){Jr.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class yfe extends Ur{constructor(){super(),this.isAnimation=!0,this.circle=new Bo(Bt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=Ql.to(this.circle,{duration:36,angle:360,repeat:-1,ease:hl.None}),this.tween.pause()}resize(){this.y=Cn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(Cn.appWidth,Cn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){Jr.killTweensOf(this.circle),super.destroy()}}class bfe extends Ur{constructor(t){super(),this.axes=t,this.curve=new fs,this.gradient=new fs,this.CURVE_WIDTH=4,this.CURVE_COLOR=ko("#f00b3e"),this.GRADIENT_COLOR=ko("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=Jr.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=Jr.gsap.timeline();const e=[];for(let r=0;r<4;r++)e.push(Bt.from(`plane-${r}`));this.plane=new iB(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){Jr.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:Cn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:hl.None};Ql.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=Cn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:hl.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:hl.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:hl.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=Cn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(Cn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(Cn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,Jr.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const CG=(n="#FF0000",t=3,e=1)=>{const r=new fs;return r.beginFill(ko(n),e),r.drawCircle(0,0,t),r.endFill(),r};function OG(n,t){const r=Object.assign(Object.assign({},{fontFamily:"Roboto",fontSize:12,fill:16777215,align:"center"}),t);return new I_(n,r)}class Efe extends Ur{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=ko("#423033"),this.xAxis=new fs,this.yAxis=new fs,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=CG("#ffffff",2);this.addChild(e),this.pointsX.push(e);const r=CG("#1197d6",2);this.addChild(r),this.pointsY.push(r)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=Cn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(Cn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,Cn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(Cn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=Cn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(Cn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),Jr.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),Jr.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*Jr.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(Cn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*Jr.gsap.ticker.deltaRatio(),e.y>Cn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){Jr.gsap.ticker.remove(this.onTick),super.destroy()}}class Sfe extends Ur{constructor(t){super(),this.translate=t,this.PROP_SIZE=new Map([[zi.sm,50],[zi.md,90],[zi.lg,120]]),this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE=new Map([[zi.sm,20],[zi.md,26],[zi.lg,36]]),this.timeoutRef=null,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT=6,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=ko("#262830"),this.TIMER_BAR_COLOR=ko("#e50539"),this.visible=!1,this.prop=new Bo(Bt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=Ql.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:hl.None}),this.propTween.pause(),this.textWaiting=OG(this.translate.instant("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE.get(Cn.breakpoint),fontFamily:Cu.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new fs,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new fs,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarTween=Ql.to(this.timerBar,{duration:0,width:0,ease:hl.None}),this.timerBarTween.pause(),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(t/1e3).play(),new Promise(r=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),r()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.PROP_SIZE.get(Cn.breakpoint),this.prop.height=this.PROP_SIZE.get(Cn.breakpoint),this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE.get(Cn.breakpoint),this.prop.x=Cn.appWidth/2,this.prop.y=Cn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=Cn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP,this.timer.x=Cn.appWidth/2-this.timer.width/2,this.timer.y=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP,this.timerBar.x=this.timer.x,this.timerBar.y=this.timer.y}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}var Zl=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(Zl||(Zl={})),Zl))();class Tfe extends Ur{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=ko("#ffffff"),this.COEFFICIENT_END_COLOR=ko("#d0021b"),this.COEFFICIENT_SIZE=new Map([[zi.sm,68],[zi.md,78],[zi.lg,100]]),this.FLEW_AWAY_SIZE=new Map([[zi.sm,20],[zi.md,26],[zi.lg,36]]),this.coefficient=new B_("1.00x",{fontName:Zl.Multiplier,fontSize:this.COEFFICIENT_SIZE.get(Cn.breakpoint)}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=OG(this.translate.instant("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE.get(Cn.breakpoint),fontFamily:Cu.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=eN(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=Cn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE.get(Cn.breakpoint),this.coefficient.x=Cn.appWidth/2-this.coefficient.width/2,this.coefficient.y=Cn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE.get(Cn.breakpoint),this.flewAway.x=Cn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class $u extends Ur{constructor(){super(),this.interval=100,this.icon=new Bo(Bt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new B_("00:00:00",{fontName:Zl.General,tint:ko("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());$u.startTime||($u.startTime=t,$u.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-$u.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-$u.startTime),$u.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),r=Math.floor(t/6e4%60),i=Math.floor(t/36e5);return(i<10?`0${i}:`:`${i}:`)+(r<10?`0${r}:`:`${r}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef),this.intervalRef=null}}class Ofe extends Ur{constructor(){super(),this.interval=1e3,this.icon=new Bo(Bt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new B_(this.getTime(new Date),{fontName:Zl.General,tint:ko("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),function Cfe(n=0,t=d_){return n<0&&(n=0),bu(n,n,t)}(this.interval).pipe(Mt(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),r=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${r<10?`0${r}`:`${r}`}`}destroy(){super.destroy()}}class Mfe extends Ur{constructor(t){super(),this.multiplier=t,this.blur=new Bo(Bt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(Kc.Low),Jr.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){Jr.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),Jr.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&Jr.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!Jr.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){Jr.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=Cn.appWidth/this.blur.getLocalBounds().width,this.scale.y=Cn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),Jr.killTweensOf(this.blur)}}class wfe extends Ur{constructor(t,e){super(),this.netSessionService=t,this.app=e,this.icon=new Bo(Bt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new B_("",{fontName:Zl.General,tint:ko("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(Mt(this,"destroy")).subscribe(r=>this.onChangeNet(r))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${t.toFixed(this.app.config.betPrecision)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class Pfe extends F0{constructor(t,e,r,i,o,s){super(e,t),this.el=t,this.zone=e,this.appService=r,this.multiplierService=i,this.translateService=o,this.netSessionService=s,Cn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new yfe,this.background.y=Cn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new Mfe(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new Ur,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new Efe,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new bfe(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=new Sfe(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new Tfe(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new $u,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new Ofe,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new wfe(this.netSessionService,this.appService),this.stage.addChild(this.netSession))}setupBitmapFonts(){Bl.from(Zl.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:Cu.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution}),Bl.from(Zl.Multiplier,{fontSize:100,fontWeight:"700",fill:16777215,fontFamily:Cu.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),Cn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(Cn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=Cn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}var Dg=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(Dg||(Dg={})),Dg))();let MG=(()=>{class n{constructor(e){this.app=e,this.amount=0,this.changedSubject=new Rr(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=Number((this.amount+e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}minus(e){this.amount=Number((this.amount-e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)(ke(pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Afe=["stageCanvas"];function Rfe(n,t){1&n&&(x(0,"div",5),$(1,"FUN MODE"),F())}let Ph=class{constructor(t,e,r,i,o,s,a,l,u,c){this.zone=t,this.app=e,this.user=r,this.mainService=i,this.multiplierService=o,this.connector=s,this.translate=a,this.netSessionService=l,this.renderer=u,this.window=c}ngOnInit(){this.canvas=new Pfe(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplierService,this.translate,this.netSessionService),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(Mt(this),Ia(50)).subscribe(()=>this.canvas.resize()),this.canvas.resize(),this.mainService.getState().pipe(Mt(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(Mt(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.connector.response(dn.CurrentMultiplier,200).pipe(Mt(this)).subscribe(t=>this.canvas.updateMultiplier(t.currentPayout))}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(Dg.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplierService.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){this.canvas.destroy(),this.canvas=null}};Ph.\u0275fac=function(t){return new(t||Ph)(q(Pn),q(pn),q(xa),q(qr),q(VO),q(_r),q(Xc),q(MG),q(Io),q(Vy))},Ph.\u0275cmp=Pt({type:Ph,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&Yo(Afe,7),2&t){let r;zn(r=$n())&&(e.stageCanvasRef=r.first)}},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(x(0,"div",0),Ge(1,"div",1,2),x(3,"div",3),pe(4,Rfe,2,0,"div",4),F()()),2&t&&(V(4),Q("ngIf",e.app.isFunMode))},directives:[hn],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),Ph=Ue([ui()],Ph);var Ah=(()=>(function(n){n.bet="bet",n.auto="auto"}(Ah||(Ah={})),Ah))();const Dfe=["inputfield"],xfe=function(n){return{minus:!0,"ui-state-disabled":n}};function Ife(n,t){if(1&n){const e=Ct();x(0,"button",8),Oe("mouseleave",function(){return dt(e),ve().onDownButtonMouseleave()})("mousedown",function(i){return dt(e),ve().onDownButtonMousedown(i)})("mouseup",function(){return dt(e),ve().onDownButtonMouseup()}),F()}if(2&n){const e=ve();Q("ngClass",ma(3,xfe,e.disabled))("disabled",e.disabled),nr("readonly",e.readonly)}}function Nfe(n,t){1&n&&(x(0,"span",9),$(1,"\xd7"),F())}function Ffe(n,t){if(1&n&&(x(0,"span",10),$(1),F()),2&n){const e=ve();V(1),He(" ",e.app.config.currency," ")}}const kfe=function(n){return{plus:!0,"ui-state-disabled":n}};function Bfe(n,t){if(1&n){const e=Ct();x(0,"button",8),Oe("mouseleave",function(){return dt(e),ve().onUpButtonMouseleave()})("mousedown",function(i){return dt(e),ve().onUpButtonMousedown(i)})("mouseup",function(){return dt(e),ve().onUpButtonMouseup()}),F()}if(2&n){const e=ve();Q("ngClass",ma(3,kfe,e.disabled))("disabled",e.disabled),nr("readonly",e.readonly)}}const Lfe=function(n){return{"full-width":n}};let _w=(()=>{class n{constructor(e){this.app=e,this.step=1,this.decimalSeparator=".",this.thousandSeparator=",",this.formatInput=!0,this.type="text",this.enableButtons=!0,this.showX=!1,this.showCurrency=!1,this.formatOnBlur=!1,this.size="big",this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.keyPattern=/[0-9]/}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,r,i){let o=r||500;this.clearTimer();const s=bu(o);this.timer$=s.subscribe(()=>{this.repeat(e,40,i)}),this.spin(e,i)}spin(e,r){let i=this.step*r,o=this.value||0;this.value=this.precision?parseFloat(this.toFixed(o+i,this.precision)):o+i,void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),void 0!==this.min&&this.value<this.min&&(this.value=this.min),void 0!==this.max&&this.value>this.max&&(this.value=this.max),this.formatValue(),this.onModelChange(this.value)}toFixed(e,r){let i=Math.pow(10,r||0);return String(Math.round(e*i)/i)}onUpButtonMousedown(e){this.disabled||(this.repeat(e,null,1),this.updateFilledState())}onUpButtonMouseup(){this.disabled||this.clearTimer()}onUpButtonMouseleave(){this.disabled||this.clearTimer()}onDownButtonMousedown(e){this.disabled||(this.repeat(e,null,-1),this.updateFilledState())}onDownButtonMouseup(){this.disabled||this.clearTimer()}onDownButtonMouseleave(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(e,1),e.preventDefault()):40==e.which&&(this.spin(e,-1),e.preventDefault())}onInputKeyPress(e){let r=String.fromCharCode(e.charCode);!this.keyPattern.test(r)&&r!=this.decimalSeparator&&e.preventDefault()}onInputKeyup(e){let r=e.target.value;e.key!==this.thousandSeparator&&(this.formatOnBlur?this.valueAsString=r:(this.value=this.parseValue(r),this.formatValue())),this.onModelChange(this.value),this.updateFilledState()}onInputBlur(){this.onModelTouched(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}formatToPrecision(e){this.value=Math.abs(this.parseValue(this.valueAsString)),this.value=parseFloat(this.valueAsString=(this.value<this.min?this.value=this.min:this.value).toFixed(e)),this.inputfieldViewChild.nativeElement.value=this.valueAsString,this.onModelChange(this.value),this.updateFilledState()}parseValue(e){let r;return this.formatInput&&(e=e.split(this.thousandSeparator).join("")),""===e.trim()?r=null:(r=this.precision?parseFloat(e.replace(",",".")):parseInt(e),isNaN(r)?r=null:(void 0!==this.max&&r>this.max&&(r=this.max),void 0!==this.min&&r<this.min&&(r=this.min))),r}formatValue(){if(null!=this.value){let e=String(this.value).replace(".",this.decimalSeparator);if(this.formatInput){let r=e.split(this.decimalSeparator);r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),e=r.join(this.decimalSeparator)}this.valueAsString=e}else this.valueAsString="";this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.formatValue(),this.updateFilledState(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}updateFilledState(){this.filled=void 0!==this.value&&null!=this.value}}return n.\u0275fac=function(e){return new(e||n)(q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-spinner"]],viewQuery:function(e,r){if(1&e&&Yo(Dfe,7),2&e){let i;zn(i=$n())&&(r.inputfieldViewChild=i.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",decimalSeparator:"decimalSeparator",thousandSeparator:"thousandSeparator",tabindex:"tabindex",formatInput:"formatInput",type:"type",required:"required",name:"name",enableButtons:"enableButtons",showX:"showX",showCurrency:"showCurrency",formatOnBlur:"formatOnBlur",formatPrecision:"formatPrecision",size:"size"},features:[Jn([{provide:Uo,useExisting:gn(()=>n),multi:!0}])],decls:10,vars:18,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],[1,"font-weight-bold",3,"value","disabled","keydown","keyup","keypress","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["class","text currency",4,"ngIf"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup"],[1,"text","text-x"],[1,"text","currency"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1),pe(2,Ife,1,5,"button",2),F(),x(3,"div",3)(4,"input",4,5),Oe("keydown",function(o){return r.onInputKeydown(o)})("keyup",function(o){return r.onInputKeyup(o)})("keypress",function(o){return r.onInputKeyPress(o)})("blur",function(){return r.onInputBlur()}),F()(),pe(6,Nfe,2,0,"span",6),pe(7,Ffe,2,1,"span",7),x(8,"div",1),pe(9,Bfe,1,5,"button",2),F()()),2&e&&(Q("ngClass",r.size),V(2),Q("ngIf",r.enableButtons),V(1),Q("ngClass",ma(16,Lfe,!r.enableButtons)),V(1),Q("value",r.valueAsString)("disabled",r.disabled),nr("type",r.type)("id",r.inputId)("size",r.inputSize)("maxlength",r.maxlength)("tabindex",r.tabindex)("placeholder",r.placeholder)("readonly",r.readonly)("required",r.required),V(2),Q("ngIf",r.showX),V(1),Q("ngIf",r.showCurrency),V(2),Q("ngIf",r.enableButtons))},directives:[Zp,hn],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.3440127f08f179fd.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.de5c67298d5ab197.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function Ufe(n,t){if(1&n){const e=Ct();x(0,"div",21),$(1),x(2,"button",22),Oe("click",function(){return dt(e),ve().errorMessage=null}),x(3,"span"),$(4,"\xd7"),F()()()}if(2&n){const e=ve();V(1),He(" shared.ui-components.toastr.toastr-message.",e.errorMessage," ")}}function Gfe(n,t){if(1&n){const e=Ct();un(0),x(1,"button",23),Oe("click",function(){const o=dt(e).$implicit;return ve().activeBetsAmount=o}),$(2),F(),cn()}if(2&n){const e=t.$implicit,r=ve();V(1),ut("active",r.activeBetsAmount===e),V(1),He(" ",e," ")}}let Vfe=(()=>{class n{constructor(e,r,i){this.activeModal=e,this.app=r,this.cd=i,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0,this.errorMessage=null}closeModal(e=!1){this.showErrorMessage(null);let r=null;if(e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if(this.app.config.autoBetOptions.decreaseOrExceedStopPointReq&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");r={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(r)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}reset(){this.activeBetsAmount=null,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.showErrorMessage(null)}}return n.\u0275fac=function(e){return new(e||n)(q(jo),q(pn),q(Bn))},n.\u0275cmp=Pt({type:n,selectors:[["app-auto-play"]],decls:42,vars:50,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger","translate","",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],["translate","",1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","showCurrency","formatOnBlur","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],["translate","",1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],["translate","",1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],["translate","",1,"btn","btn-lg","btn-success","start-btn",3,"click"],["translate","",1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"span",1),$(2,"game.bet-controls.auto-play.Auto play options"),F(),x(3,"button",2),Oe("click",function(){return r.closeModal()}),x(4,"span",3),$(5,"\xd7"),F()()(),x(6,"div",4),pe(7,Ufe,5,1,"div",5),x(8,"div",6)(9,"div",7)(10,"div",8)(11,"span",1),$(12,"game.bet-controls.auto-play.Number of Rounds:"),F(),x(13,"div",9),pe(14,Gfe,3,3,"ng-container",10),F()(),x(15,"div",11)(16,"app-ui-switcher",12),Oe("ngModelChange",function(o){return r.decreaseStopPoint.active=o})("toggle",function(){return r.decreaseStopPoint.value=0}),F(),x(17,"span",13),$(18," game.bet-controls.auto-play.Stop if cash decreases by "),F(),x(19,"app-spinner",14),Oe("ngModelChange",function(o){return r.decreaseStopPoint.value=o}),F(),x(20,"span",15),$(21),F()(),x(22,"div",11)(23,"app-ui-switcher",12),Oe("ngModelChange",function(o){return r.increaseStopPoint.active=o})("toggle",function(){return r.increaseStopPoint.value=0}),F(),x(24,"span",13),$(25," game.bet-controls.auto-play.Stop if cash increases by "),F(),x(26,"app-spinner",14),Oe("ngModelChange",function(o){return r.increaseStopPoint.value=o}),F(),x(27,"span",15),$(28),F()(),x(29,"div",11)(30,"app-ui-switcher",12),Oe("ngModelChange",function(o){return r.exceedStopPoint.active=o})("toggle",function(){return r.exceedStopPoint.value=0}),F(),x(31,"span",16),$(32," game.bet-controls.auto-play.Stop if single win exceeds "),F(),x(33,"app-spinner",14),Oe("ngModelChange",function(o){return r.exceedStopPoint.value=o}),F(),x(34,"span",15),$(35),F()()()()(),x(36,"div",17)(37,"div",18)(38,"button",19),Oe("click",function(){return r.reset()}),$(39," game.bet-controls.auto-play.Reset "),F(),x(40,"button",20),Oe("click",function(){return r.closeModal(!0)}),$(41," game.bet-controls.auto-play.Start "),F()()()),2&e&&(V(7),Q("ngIf",r.errorMessage),V(7),Q("ngForOf",r.app.config.autoBetOptions.numberOfRounds),V(2),Q("ngModel",r.decreaseStopPoint.active),V(1),ut("disabled",!r.decreaseStopPoint.active),V(2),ut("long-precision",r.app.isLongPrecision),Q("disabled",!r.decreaseStopPoint.active)("ngModel",r.decreaseStopPoint.value)("step",r.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",r.app.config.betPrecision),V(1),ut("disabled",!r.decreaseStopPoint.active),V(1),He(" ",r.app.config.currency," "),V(2),Q("ngModel",r.increaseStopPoint.active),V(1),ut("disabled",!r.increaseStopPoint.active),V(2),ut("long-precision",r.app.isLongPrecision),Q("disabled",!r.increaseStopPoint.active)("ngModel",r.increaseStopPoint.value)("step",r.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",r.app.config.betPrecision),V(1),ut("disabled",!r.increaseStopPoint.active),V(1),He(" ",r.app.config.currency," "),V(2),Q("ngModel",r.exceedStopPoint.active),V(1),ut("disabled",!r.exceedStopPoint.active),V(2),ut("long-precision",r.app.isLongPrecision),Q("disabled",!r.exceedStopPoint.active)("ngModel",r.exceedStopPoint.value)("step",r.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",r.app.config.betPrecision),V(1),ut("disabled",!r.exceedStopPoint.active),V(1),He(" ",r.app.config.currency," "))},directives:[qn,hn,Hr,d0,Ws,vs,_w],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})(),jfe=(()=>{class n{constructor(e,r,i,o){this.main=e,this.app=r,this.betControls=i,this.connector=o,this.lastDate=Date.now(),this.main.getState(hi.End).pipe(Wt(()=>!!this.app.config.inactivityTimeForDisconnect),Wt(()=>!this.betControls.isBetSetted),Wt(()=>this.isInactivityTimePass())).subscribe(()=>this.connector.shutdown(yr.inactivity))}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(ke(qr),ke(pn),ke(sl),ke(_r))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hfe=["winAmount"];function Yfe(n,t){if(1&n){const e=Ct();x(0,"div",21),Oe("click",function(){return dt(e),ve().secHandBtn.emit()}),F()}}function Wfe(n,t){if(1&n){const e=Ct();x(0,"div",22),Oe("click",function(){return dt(e),ve().secHandBtn.emit()}),F()}2&n&&ut("disabled",ve().isSecHandCloseBtnDisabled)}function zfe(n,t){if(1&n){const e=Ct();un(0),x(1,"app-navigation-switcher",23),Oe("ngModelChange",function(i){return dt(e),ve().activeTab=i}),F(),cn()}if(2&n){const e=ve();V(1),Q("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function $fe(n,t){if(1&n){const e=Ct();x(0,"button",24),Oe("click",function(){const o=dt(e).$implicit;return ve().onSetBetOpt(o)}),x(1,"span"),$(2),F()()}if(2&n){const e=t.$implicit,r=ve();ut("disabled",r.betSaved||r.freeBetAvailable)("long-precision",r.app.isLongPrecision),Q("disabled",r.betSaved||r.freeBetAvailable),V(2),He(" ",r.app.isLongPrecision?e.toFixed(r.app.config.betPrecision):e," ")}}function Xfe(n,t){if(1&n){const e=Ct();un(0),x(1,"button",25),Oe("click",function(){return dt(e),ve().bet()}),x(2,"span",26)(3,"label",27),$(4),it(5,"translate"),F(),x(6,"label",28)(7,"span"),$(8),F(),x(9,"span",29),$(10),F()()()(),cn()}if(2&n){const e=ve();V(1),ut("disabled",e.waitingForResponse),Q("disabled",e.waitingForResponse),V(3),He(" ",yt(5,6,"shared.bet")," "),V(4),jt(e.betValue.toFixed(e.app.config.betPrecision)),V(2),He(" ",e.app.config.currency,"")}}function qfe(n,t){1&n&&(x(0,"div",32),$(1," shared.waiting_for_next_round "),F())}function Kfe(n,t){if(1&n){const e=Ct();un(0),pe(1,qfe,2,0,"div",30),x(2,"button",31),Oe("click",function(){return dt(e),ve().cancel()}),x(3,"label",27),$(4),it(5,"translate"),F()(),cn()}if(2&n){const e=ve();V(1),Q("ngIf",e.isPreBet),V(1),ut("disabled",e.waitingForResponse)("height-70",e.isPreBet),Q("disabled",e.waitingForResponse),V(2),He(" ",yt(5,7,"shared.cancel")," ")}}function Jfe(n,t){if(1&n){const e=Ct();un(0),x(1,"button",33),Oe("click",function(){return dt(e),ve().onCashOut()}),x(2,"span",26)(3,"label",34),$(4),it(5,"translate"),F(),x(6,"label",28)(7,"span",null,35),$(9,"0"),F(),x(10,"span",29),$(11),F()()()(),cn()}if(2&n){const e=ve();V(1),ut("disabled",e.waitingForResponse||e.cashOutDisabled),Q("disabled",e.waitingForResponse||e.cashOutDisabled),V(3),He(" ",yt(5,5,"shared.cash_out")," "),V(7),He(" ",e.app.config.currency,"")}}function Qfe(n,t){if(1&n){const e=Ct();un(0),x(1,"label",16),$(2,"game.bet-controls.bet-control.auto bet"),F(),x(3,"app-ui-switcher",36),Oe("ngModelChange",function(i){return dt(e),ve().endlessAutoBetEnabled=i})("toggle",function(){return dt(e),ve().onAutoBetSwitch()}),F(),cn()}if(2&n){const e=ve();V(3),ut("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function Zfe(n,t){if(1&n){const e=Ct();x(0,"button",39),Oe("click",function(){return dt(e),ve(2).onSetAutoPlayOptions(!0)}),$(1),it(2,"translate"),F()}if(2&n){const e=ve(2);ut("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable),V(1),He(" ",yt(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function epe(n,t){if(1&n&&(x(0,"span"),$(1),F()),2&n){const e=ve(3);V(1),He(" (",e.autoBetOpt.autoBetsAmount,") ")}}function tpe(n,t){if(1&n){const e=Ct();x(0,"button",40),Oe("click",function(){return dt(e),ve(2).onSetAutoPlayOptions(!1)}),$(1),it(2,"translate"),pe(3,epe,2,1,"span",3),F()}if(2&n){const e=ve(2);ut("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable),V(1),He(" ",yt(2,5,"shared.stop")," "),V(2),Q("ngIf",e.autoBetOpt.autoBetsAmount)}}function npe(n,t){if(1&n&&(un(0),pe(1,Zfe,3,6,"button",37),pe(2,tpe,4,7,"button",38),cn()),2&n){const e=ve();V(1),Q("ngIf",null===e.autoBetOpt.autoBetsAmount),V(1),Q("ngIf",null!==e.autoBetOpt.autoBetsAmount)}}let Rh=class{constructor(t,e,r,i,o,s,a,l,u,c,y,M,w,A,D){this.mainService=t,this.app=e,this.connector=r,this.betService=i,this.sound=o,this.message=s,this.user=a,this.modal=l,this.freeBets=u,this.frontEndProxyService=c,this.ifc=y,this.cd=M,this.inactivityTimer=w,this.ngbModal=A,this.netSession=D,this.secHandBtn=new Lt,this.activeTab=Ah.bet,this.betControlNavigationList=Object.values(Ah),this.betValue=0,this.autoCashOutEnabled=!1,this.settedBetOpt=null,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:null,increaseBalanceStopPoint:null,decreaseBalanceStopPoint:null,exceedStopPoint:null},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.emitEvent(mr.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}ngOnInit(){this.mainService.getState(hi.Bet).pipe(Mt(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(hi.End).pipe(Mt(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(hi.Run).pipe(Mt(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(dn.CashOut).pipe(Mt(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(dn.CancelBet).pipe(Mt(this),Wt(e=>this.isMyAction(e))).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(dn.Bet).pipe(Mt(this),Wt(e=>this.isMyAction(e))).subscribe(e=>this.betResponse(e)),this.connector.response(dn.CurrentMultiplier,200).pipe(Mt(this)).subscribe(e=>this.setCurrentMultiplier(e)),this.freeBets.onActivate$.pipe(Mt(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(Mt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.command(vi.StopAutoplay).pipe(Mt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:null),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=Ah.auto),this.cd.detectChanges()),this.ifc.command(vi.LockUI).pipe(Mt(this),bi(e=>this.isLockUI=e.value),Wt(e=>e.value)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(Mt(this)).subscribe(()=>this.onCancelBets())}onLockUI(){this.app.onLockUIActions===wf.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){this.cashOutDisabled=!1,this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet&&this.betService.removeBet(this.betId),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!1===this.waitingForResponse){let e=this.betValue*t.currentPayout;!1===this.isBetIncluded&&(e-=this.betValue),this.winAmountRef.nativeElement.textContent=function vK(n,t=0){return Math.floor(n*Math.pow(10,t))/Math.pow(10,t)}(e,this.app.config.betPrecision).toFixed(this.app.config.betPrecision)}this.cashOutDisabled&&t.currentPayout>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(Gl.Bet),this.waitingForResponse=!0,this.connector.request(gr.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.emitEvent(mr.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),null!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:Zd.win,params:{winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency}}),this.ifc.emitEvent(mr.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(Gl.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.emitEvent(mr.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){this.sound.play(Gl.Bet);const t={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},e=this.freeBets.activeFreeBet;e&&(t.freeBet=!0,t.freeBetsId=e.freeBetsId),this.autoCashOutEnabled&&(t.autoCashOut=this.autoCashOutValue),this.betService.setBet({betId:this.betId,preBet:!0,data:t}),this.mainService.state===hi.Bet&&this.sendBet(t)}sendBet(t){this.isLockUI&&this.app.onLockUIActions===wf.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(gr.Bet,t),this.ifc.emitEvent(mr.MakeBet,{id:this.betId,amount:t.bet}),this.inactivityTimer.reset())}betResponse(t){this.waitingForResponse=!1,t.code===Sc.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.emitEvent(mr.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(gr.CancelBet,{betId:this.betId}),this.ifc.emitEvent(mr.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(Gl.Bet)}cancelBetResponse(t){this.waitingForResponse=!1,200===t.code&&(this.freeBets.activeFreeBet||this.netSession.plus(this.betService.getBet(this.betId).data.bet),this.betService.removeBet(this.betId)),this.ifc.emitEvent(mr.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.ifc.emitUpdateStakeEvent(this.betId,t)}onSetAutoPlayOptions(t){t?this.ngbModal.open(Vfe).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:null,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:null,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:null,this.ifc.emitEvent(mr.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=null,this.autoBetOpt.decreaseBalanceStopPoint=null,this.autoBetOpt.increaseBalanceStopPoint=null,this.autoBetOpt.exceedStopPoint=null,this.ifc.emitEvent(mr.Autoplay,{id:this.betId,value:!1})}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){return this.betService.getBet(2)&&!1===this.betService.getBet(2).preBet}get isAutoShown(){return this.activeTab===Ah.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){return this.mainService.state===hi.Run&&this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||null!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||null!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){return this.betService.getBet(this.betId)&&this.betService.getBet(this.betId).preBet}get betOptions(){return this.app.isLongPrecision?this.app.config.betOptions.slice(0,2):this.app.config.betOptions}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.emitUpdateStakeEvent(this.betId,0)}};Rh.\u0275fac=function(t){return new(t||Rh)(q(qr),q(pn),q(_r),q(sl),q(Af),q(Pf),q(xa),q(Lo),q(jl),q(jy),q(Vl),q(Bn),q(jfe),q(TM),q(MG))},Rh.\u0275cmp=Pt({type:Rh,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&Yo(Hfe,5),2&t){let r;zn(r=$n())&&(e.winAmountRef=r.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},decls:27,vars:50,consts:[[1,"controls"],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","showCurrency","formatOnBlur","formatPrecision","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],["translate",""],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatOnBlur","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],[1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip","translate","",4,"ngIf"],[1,"btn","btn-danger","bet",3,"disabled","click"],["translate","",1,"btn-tooltip"],[1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(x(0,"div",0),pe(1,Yfe,1,0,"div",1),pe(2,Wfe,1,2,"div",2),pe(3,zfe,2,4,"ng-container",3),x(4,"div",4)(5,"div",5)(6,"app-spinner",6),Oe("ngModelChange",function(i){return e.onBetValueChange(i)}),F(),x(7,"div",7),pe(8,$fe,3,6,"button",8),F()(),x(9,"div",9),pe(10,Xfe,11,8,"ng-container",3),pe(11,Kfe,6,9,"ng-container",3),pe(12,Jfe,12,7,"ng-container",3),F()(),Ge(13,"div",10),x(14,"div",11)(15,"div",12)(16,"div",13),pe(17,Qfe,4,4,"ng-container",3),pe(18,npe,3,2,"ng-container",3),F()(),x(19,"div",14)(20,"div",15)(21,"label",16),$(22," game.bet-controls.bet-control.auto cashout "),F(),x(23,"app-ui-switcher",17),Oe("ngModelChange",function(i){return e.autoCashOutEnabled=i}),F()(),x(24,"div",18)(25,"div",19)(26,"app-spinner",20),Oe("ngModelChange",function(i){return e.autoCashOutValue=i}),F()()()()()()),2&t&&(ut("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),V(1),Q("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),V(1),Q("ngIf",e.secondBet&&2===e.betId),V(1),Q("ngIf",e.app.isAutoBetFeatureEnabled),V(1),ut("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),V(2),ut("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),Q("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("showCurrency",!1)("formatOnBlur",!0)("formatPrecision",e.app.config.betPrecision),V(2),Q("ngForOf",e.betOptions),V(2),Q("ngIf",e.displayBetBtn),V(1),Q("ngIf",e.displayCancelBtn),V(1),Q("ngIf",e.displayCashOutBtn),V(1),ut("d-none",!e.isAutoShown),V(1),ut("d-none",!e.isAutoShown),V(3),Q("ngIf",!e.app.config.autoBetOptions),V(1),Q("ngIf",e.app.config.autoBetOptions),V(3),ut("disabled",e.betSaved),V(2),Q("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),V(2),ut("disabled",!e.autoCashOutEnabled),V(1),Q("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.app.config.autoCashOut.maxValue)("formatOnBlur",!0)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[hn,PM,Ws,vs,_w,Hr,qn,d0],pipes:[pr],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c1d;height:100%;margin:0 auto;border:solid 1px transparent}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.165877be2653aaf8.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:url(remove.3d798769e16d6b60.svg) no-repeat}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;margin-bottom:auto;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(2){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(4){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),Rh=Ue([ui()],Rh);const rpe=["controls"];function ipe(n,t){if(1&n){const e=Ct();x(0,"app-bet-control",4),Oe("secHandBtn",function(){return dt(e),ve().setSecondBet()}),F()}if(2&n){const e=ve();ut("locked",e.lockBets),Q("secondBet",e.user.settings.secondBet)("betId",2)}}let Dh=class{constructor(t,e,r,i,o,s,a){this.mainService=t,this.cd=e,this.user=r,this.betService=i,this.app=o,this.ifc=s,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(hi.Run).pipe(Mt(this)).subscribe(()=>{this.onLockBets(!1),this.ifc.emitEventStartRound(this.betService.getBets())}),this.mainService.event(Dg.onLockBets).pipe(Mt(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(Mt(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}};Dh.\u0275fac=function(t){return new(t||Dh)(q(qr),q(Bn),q(xa),q(sl),q(pn),q(Vl),q(Vy))},Dh.\u0275cmp=Pt({type:Dh,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&Yo(rpe,7),2&t){let r;zn(r=$n())&&(e.controlsRef=r.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(x(0,"div",0,1)(2,"app-bet-control",2),Oe("secHandBtn",function(){return e.setSecondBet()}),F(),pe(3,ipe,1,4,"app-bet-control",3),F()),2&t&&(ut("controls-wrap",e.controlsWrap),V(2),ut("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),Q("betId",1)("secondBet",e.user.settings.secondBet),V(1),Q("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[Rh,hn],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),Dh=Ue([ui()],Dh);let ope=(()=>{class n{constructor(e,r){this.chatService=e,this.mainService=r}}return n.\u0275fac=function(e){return new(e||n)(q(ol),q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-header"]],decls:9,vars:1,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1),Ge(2,"div",2),x(3,"span"),$(4),F()(),x(5,"div",3)(6,"button",4),Oe("click",function(){return r.chatService.isOpen=!1}),x(7,"span",5),$(8,"\xd7"),F()()()()),2&e&&(V(4),jt(r.mainService.onlinePlayers))},styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:38px;position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.f62b9233d6078bd1.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.1ea37fb099b65e33.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.8535033e8a8651ee.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.0912216e64ccd16f.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.d6117b6d962d0f22.svg)}"]}),n})();var k0=(()=>(function(n){n.reply="reply",n.translate="translate"}(k0||(k0={})),k0))(),xg=(()=>(function(n){n.header="header"}(xg||(xg={})),xg))(),B0=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(B0||(B0={})),B0))(),xh=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(xh||(xh={})),xh))();function spe(n,t){if(1&n&&(x(0,"span",7),$(1),F()),2&n){const e=ve();V(1),He(" ",e.app.getFormattedUsername(e.banInfo.playerName)," ")}}function ape(n,t){1&n&&(x(0,"span",5),$(1," game.chat-widget.chat-message.chat-message-ban.you "),F())}function lpe(n,t){1&n&&(x(0,"span",5),$(1," game.chat-widget.chat-message.chat-message-ban.has been "),F())}function upe(n,t){1&n&&(x(0,"span",5),$(1," game.chat-widget.chat-message.chat-message-ban.have been "),F())}function cpe(n,t){1&n&&(x(0,"span",8),$(1," game.chat-widget.chat-message.chat-message-ban.banned-other "),F())}function hpe(n,t){1&n&&(x(0,"span",8),$(1," game.chat-widget.chat-message.chat-message-ban.banned-me "),F())}function dpe(n,t){if(1&n&&(x(0,"span")(1,"span"),$(2),F(),x(3,"span",5),$(4,"game.chat-widget.chat-message.chat-message-ban.day"),F()()),2&n){const e=ve();V(2),jt(e.day)}}function fpe(n,t){if(1&n&&(x(0,"span")(1,"span"),$(2),F(),x(3,"span",5),$(4,"game.chat-widget.chat-message.chat-message-ban.hour"),F()()),2&n){const e=ve();V(2),jt(e.hour)}}function ppe(n,t){if(1&n&&(x(0,"span")(1,"span"),$(2),F(),x(3,"span",5),$(4,"game.chat-widget.chat-message.chat-message-ban.min"),F()()),2&n){const e=ve();V(2),jt(e.min)}}function _pe(n,t){if(1&n&&(x(0,"span")(1,"span"),$(2),F(),x(3,"span",5),$(4,"game.chat-widget.chat-message.chat-message-ban.sec"),F()()),2&n){const e=ve();V(2),jt(e.sec)}}function gpe(n,t){if(1&n&&(x(0,"span",5),$(1),F()),2&n){const e=ve();V(1),He(" game.chat-widget.chat-message.chat-message-ban.",e.banInfo.reason," ")}}function mpe(n,t){if(1&n&&(x(0,"span"),$(1),F()),2&n){const e=ve();V(1),jt(e.banInfo.reason)}}let vpe=(()=>{class n{constructor(e){this.app=e,this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.chatBanEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const r=Math.floor(e/3600/24),i=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);this.isShownDay=!!r,this.isShownHour=!!i,this.isShownMin=!!o,this.isShownSec=!!s,this.day=r,this.hour=i,this.min=o,this.sec=s}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)(q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:18,vars:12,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],["translate","",4,"ngIf"],["class","font-weight-bold","translate","",4,"ngIf"],["translate",""],[4,"ngIf"],[1,"player-name"],["translate","",1,"font-weight-bold"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1),pe(2,spe,2,1,"span",2),pe(3,ape,2,0,"span",3),pe(4,lpe,2,0,"span",3),pe(5,upe,2,0,"span",3),pe(6,cpe,2,0,"span",4),pe(7,hpe,2,0,"span",4),x(8,"span",5),$(9," game.chat-widget.chat-message.chat-message-ban.from chat for "),F(),pe(10,dpe,5,1,"span",6),pe(11,fpe,5,1,"span",6),pe(12,ppe,5,1,"span",6),pe(13,_pe,5,1,"span",6),x(14,"span",5),$(15,"game.chat-widget.chat-message.chat-message-ban.reason"),F(),pe(16,gpe,2,1,"span",3),pe(17,mpe,2,1,"span",6),F()()),2&e&&(V(2),Q("ngIf",r.banInfo.playerName),V(1),Q("ngIf",r.banInfo.isMyResponse),V(1),Q("ngIf",r.banInfo.playerName),V(1),Q("ngIf",r.banInfo.isMyResponse),V(1),Q("ngIf",r.banInfo.playerName),V(1),Q("ngIf",r.banInfo.isMyResponse),V(3),Q("ngIf",r.isShownDay),V(1),Q("ngIf",r.isShownHour),V(1),Q("ngIf",r.isShownMin),V(1),Q("ngIf",r.isShownSec),V(3),Q("ngIf",!r.isReasonOther),V(1),Q("ngIf",r.isReasonOther))},directives:[hn,qn],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"]}),n})();const ype=["(\\[b\\]@\\w+\\[\\/b\\])"],bpe=["(\\[b\\])","(\\[\\/b\\])"],Spe={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function wG(n){return new RegExp(n.join("|"),"g")}function Tpe(n,t){1&n&&(x(0,"span",4),$(1," Mod "),F())}function Cpe(n,t){1&n&&(x(0,"span",5),$(1," Bot "),F())}let Ope=(()=>{class n{constructor(e,r){this.chat=e,this.app=r}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===xh.moderator}get isBotMessageType(){return this.senderType===xh.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.app.getFormattedUsername(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(q(ol),q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,r){1&e&&(x(0,"span",0)(1,"span",1),Oe("click",function(){return r.tagUser()}),$(2),F(),pe(3,Tpe,2,0,"span",2),pe(4,Cpe,2,0,"span",3),F()),2&e&&(V(2),jt(r.username),V(1),Q("ngIf",r.isModeratorMessageType),V(1),Q("ngIf",r.isBotMessageType))},directives:[hn],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"]}),n})();function Mpe(n,t){if(1&n&&(x(0,"span",7),$(1),F()),2&n){const e=ve().$implicit;ut("reply-me",e.isReplyForMe),V(1),He(" ",e.str," ")}}function wpe(n,t){1&n&&Ge(0,"span",8),2&n&&Q("translate","game.chat-widget.chat-message."+ve().$implicit.str)}function Ppe(n,t){if(1&n&&(x(0,"span"),$(1),F()),2&n){const e=ve().$implicit;V(1),jt(e.str)}}function Ape(n,t){if(1&n&&(un(0)(1,3),pe(2,Mpe,2,3,"span",4),pe(3,wpe,1,1,"span",5),pe(4,Ppe,2,1,"span",6),cn()()),2&n){const e=t.$implicit,r=ve();V(1),Q("ngSwitch",e.type),V(1),Q("ngSwitchCase",r.chatMessageChunkTypes.reply),V(1),Q("ngSwitchCase",r.chatMessageChunkTypes.translate)}}let Rpe=(()=>{class n{constructor(){this.chatMessageChunkTypes=k0,this.chatMessageSenderTypes=xh,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(wG(ype)).forEach(r=>{if(""===r)return;const i=this.getChunkTypeMessage(r),o={str:this.getChunkMessage(r,i),type:i};this.messageChunks.push(o)})}getChunkMessage(e,r){return r===this.chatMessageChunkTypes.reply?e.replace(wG(bpe),""):e}getChunkTypeMessage(e){return function Epe(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isBotMessageType&&Spe.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isBotMessageType(){return this.senderType===this.chatMessageSenderTypes.bot}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,r){1&e&&(x(0,"span",0),Ge(1,"app-chat-message-name",1),pe(2,Ape,5,3,"ng-container",2),F()),2&e&&(V(1),Q("senderType",r.senderType)("playerName",r.playerName),V(1),Q("ngForOf",r.messageChunks))},directives:[Ope,Hr,Pl,gc,qn,e_],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"]}),n})();const Dpe=["likeButton"];function xpe(n,t){if(1&n&&(x(0,"div",3),$(1),F()),2&n){const e=ve();V(1),He(" ",e.usersLikesNumber," ")}}let Ih=class{constructor(t,e){this.cd=t,this.connector=e,this.loading=!1}ngOnInit(){this.connector.response(dn.Like,200).pipe(Wt(t=>this.messageId===t.messageId),Mt(this),bi(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(gr.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function Ipe(n,t){if(1&n&&(un(0),x(1,"div",3)(2,"div",4),Ge(3,"img",5),F(),x(4,"div",6)(5,"div",7),Ge(6,"app-chat-message-text",8),F()(),x(7,"div",9),Ge(8,"app-chat-message-likes",10),F()(),cn()),2&n){const e=ve();V(3),Q("src",e.getAvatar(e.message),fo)("alt",e.getAvatar(e.message)),V(3),Q("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),V(2),Q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function Npe(n,t){if(1&n&&(un(0),x(1,"div",3)(2,"div",4),Ge(3,"img",5),F(),x(4,"div",11)(5,"div",7),Ge(6,"app-chat-message-text",8),F()(),x(7,"div",9),Ge(8,"app-chat-message-likes",10),F()(),cn()),2&n){const e=ve();V(3),Q("src",e.getAvatar(e.message),fo)("alt",e.getAvatar(e.message)),V(3),Q("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),V(2),Q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}Ih.\u0275fac=function(t){return new(t||Ih)(q(Bn),q(_r))},Ih.\u0275cmp=Pt({type:Ih,selectors:[["app-chat-message-likes"]],viewQuery:function(t,e){if(1&t&&Yo(Dpe,7),2&t){let r;zn(r=$n())&&(e.likeButtonRef=r.first)}},inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(x(0,"div",0),pe(1,xpe,2,1,"div",1),x(2,"div",2),Oe("click",function(){return e.onLike()}),F()()),2&t&&(V(1),Q("ngIf",e.hasLikes),V(1),ut("active",e.isActiveMeLike))},directives:[hn],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{background:url(like.bce1e56708107e40.svg) no-repeat center center/contain;height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background:url(like-h.c93fa2bd77581a8c.svg) no-repeat center center/contain}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background:url(like-h.c93fa2bd77581a8c.svg) no-repeat center center/contain}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background:url(like-h.c93fa2bd77581a8c.svg) no-repeat center center/contain}"]}),Ih=Ue([ui()],Ih);let Fpe=(()=>{class n{constructor(){this.chatMessageRegularTypes=xg}getAvatar(e){return Lr_avatarPath+e.profileImage+`?v=${Lr_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,r){1&e&&(un(0,0),pe(1,Ipe,9,8,"ng-container",1),pe(2,Npe,9,8,"ng-container",2),cn()),2&e&&(Q("ngSwitch",r.type),V(1),Q("ngSwitchCase",r.chatMessageRegularTypes.header))},directives:[Pl,gc,Rpe,Ih,e_],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"]}),n})(),kpe=(()=>{class n{constructor(e,r){this.app=e,this.main=r}}return n.\u0275fac=function(e){return new(e||n)(q(pn),q(qr))},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:32,vars:22,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,r){1&e&&(x(0,"div",0)(1,"div",1)(2,"div",2),Oe("click",function(){return r.main.checkFairness(r.winInfo.roundId)}),F()(),x(3,"div",3),Ge(4,"img",4),x(5,"div"),$(6),F()(),x(7,"div",5)(8,"div",6)(9,"div",7),$(10),it(11,"translate"),F(),x(12,"div",8),$(13),F()(),x(14,"div",6)(15,"div",7),$(16),it(17,"translate"),F(),x(18,"div",9),$(19),F()()(),x(20,"div",5)(21,"div",6)(22,"div",7),$(23),it(24,"translate"),F(),x(25,"div",9),$(26),F()(),x(27,"div",6)(28,"div",7),$(29),it(30,"translate"),F(),Ge(31,"app-bet-amount",10),F()()()),2&e&&(V(4),Q("src",r.app.getAvatarUrl(r.winInfo.profileImage),fo)("alt",r.app.getAvatarUrl(r.winInfo.profileImage)),V(2),He(" ",r.app.getFormattedUsername(r.winInfo.playerName)," "),V(4),He("",yt(11,14,"shared.cashed_out"),":"),V(3),He(" ",r.winInfo.multiplier.toFixed(2),"x "),V(3),Wi(" ",yt(17,16,"shared.win"),", ",r.winInfo.currency,": "),V(3),He(" ",r.winInfo.winAmount.toFixed(r.app.config.betPrecision)," "),V(4),He("",yt(24,18,"shared.round"),":"),V(3),He("",r.winInfo.roundMaxMultiplier.toFixed(2),"x"),V(3),Wi(" ",yt(30,20,"shared.bet"),", ",r.winInfo.currency,": "),V(2),Q("isFreeBet",r.winInfo.isFreeBet)("amount",r.winInfo.bet))},directives:[IU,wM],pipes:[pr],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"]}),n})();var L0=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(L0||(L0={})),L0))();function Bpe(n,t){if(1&n&&(un(0),x(1,"div",14),Ge(2,"img",15),x(3,"div",16),$(4),F()(),cn()),2&n){const e=ve().$implicit,r=ve();V(2),Q("src",r.app.getAvatarUrl(r.rainInfo.rainWinnerInfo[e].profileImage),fo)("alt",r.app.getAvatarUrl(r.rainInfo.rainWinnerInfo[e].profileImage)),V(1),ut("me",r.rainInfo.rainWinnerInfo[e].isMe),V(1),He(" ",r.app.getFormattedUsername(r.rainInfo.rainWinnerInfo[e].playerName)," ")}}function Lpe(n,t){if(1&n){const e=Ct();un(0),x(1,"button",17),Oe("click",function(){dt(e);const i=ve().$implicit,o=ve();return o.onClaimRain({rainWinnerId:o.rainInfo.rainWinnerInfo[i].rainWinnerId,rainId:o.rainInfo.rainId})}),$(2),it(3,"translate"),F(),cn()}if(2&n){const e=ve(2);V(1),Q("disabled",!e.rainInfo.isCanClaim),V(1),He(" ",yt(3,2,"shared.claim")," ")}}function Upe(n,t){1&n&&(un(0),x(1,"button",18),$(2),it(3,"translate"),F(),cn()),2&n&&(V(1),Q("disabled",!0),V(1),He(" ",yt(3,2,"shared.claim")," "))}function Gpe(n,t){if(1&n&&(x(0,"div",10)(1,"div",11)(2,"span"),$(3),F()(),un(4,12),pe(5,Bpe,5,5,"ng-container",13),pe(6,Lpe,4,4,"ng-container",13),pe(7,Upe,4,4,"ng-container",13),cn(),F()),2&n){const e=t.$implicit,r=ve();V(3),Wi(" ",r.rainInfo.rainAmountPerUser.toFixed(r.app.config.betPrecision)," ",r.rainInfo.currency," "),V(1),Q("ngSwitch",r.rainInfo.rainWinnerInfo[e].rainNodeStatus),V(1),Q("ngSwitchCase",r.rainNodeStatus.Claimed),V(1),Q("ngSwitchCase",r.rainNodeStatus.Free),V(1),Q("ngSwitchCase",r.rainNodeStatus.Canceled)}}let Nh=class{constructor(t,e,r,i,o){this.connector=t,this.captcha=e,this.cd=r,this.freeBets=i,this.app=o,this.objectKeys=Object.keys,this.rainNodeStatus=L0}ngOnInit(){this.connector.response(dn.ClaimRainWin).pipe(Wt(t=>t.rainId===this.rainInfo.rainId),Mt(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(gr.ClaimRainWin,t)}):this.connector.request(gr.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}get useReCaptcha(){return!1}};function Vpe(n,t){if(1&n&&(un(0),x(1,"div",3),Ge(2,"app-chat-message-ban",4),F(),cn()),2&n){const e=ve();V(2),Q("banInfo",e.message.banInfo)}}Nh.\u0275fac=function(t){return new(t||Nh)(q(_r),q(DL),q(Bn),q(jl),q(pn))},Nh.\u0275cmp=Pt({type:Nh,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:20,vars:11,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"footer-recaptcha"],["target","_blank","href","https://policies.google.com/privacy"],["target","_blank","href","https://policies.google.com/terms"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2),pe(3,Gpe,8,6,"div",3),F()(),x(4,"div",4)(5,"div",5)(6,"span"),$(7),it(8,"translate"),it(9,"translate"),F(),x(10,"span",6),$(11),F()(),x(12,"small",7),$(13," This site is protected by reCAPTCHA and the Google "),x(14,"a",8),$(15," Privacy Policy "),F(),$(16," and "),x(17,"a",9),$(18," Terms of Service "),F(),$(19," apply. "),F()()()),2&t&&(V(3),Q("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),V(1),ut("recaptcha-copyright",e.useReCaptcha),V(3),Wi(" ",yt(8,7,"shared.rain")," \u{1f327} | ",yt(9,9,"shared.total")," "),V(4),Wi(" ",e.rainInfo.rainFullAmount.toFixed(e.app.config.betPrecision)," ",e.rainInfo.currency," "))},directives:[Hr,Pl,gc],pipes:[pr],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .footer-recaptcha[_ngcontent-%COMP%]{width:100%;text-align:center;margin-top:5px;color:gray;display:none}.rain-wrapper[_ngcontent-%COMP%]   .footer.recaptcha-copyright[_ngcontent-%COMP%]{max-height:64px;min-height:64px}.rain-wrapper[_ngcontent-%COMP%]   .footer.recaptcha-copyright[_ngcontent-%COMP%]   .footer-recaptcha[_ngcontent-%COMP%]{display:block}"]}),Nh=Ue([ui()],Nh);const jpe=function(n,t,e){return{low:n,medium:t,high:e}};function Hpe(n,t){if(1&n&&(un(0),x(1,"div",5)(2,"div",6),Ge(3,"app-chat-message-regular",7),F(),Ge(4,"app-chat-share-bet",8),F(),cn()),2&n){const e=ve();V(1),Q("ngClass",Km(4,jpe,e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),V(2),Q("type",e.chatMessageRegularTypes.header)("message",e.message),V(1),Q("winInfo",e.message.winInfo)}}function Ype(n,t){if(1&n&&(un(0),x(1,"div",9)(2,"div",6),Ge(3,"app-chat-message-regular",7),F(),Ge(4,"app-chat-rain",10),F(),cn()),2&n){const e=ve();V(3),Q("type",e.chatMessageRegularTypes.header)("message",e.message),V(1),Q("rainInfo",e.message.rainInfo)}}const Wpe=function(n,t){return{width:n,height:t}};function zpe(n,t){if(1&n&&(un(0),x(1,"div",11)(2,"div"),Ge(3,"app-chat-message-regular",7),F(),x(4,"div",12)(5,"div",13),Ge(6,"img",14),F()()(),cn()),2&n){const e=ve();V(3),Q("type",e.chatMessageRegularTypes.header)("message",e.message),V(2),Q("ngStyle",va(4,Wpe,e.gifWidth+"px",e.gifHeight+"px")),V(1),Q("src",e.gifInfo.url,fo)}}function $pe(n,t){if(1&n&&(un(0),x(1,"div",3),Ge(2,"app-chat-message-regular",15),F(),cn()),2&n){const e=ve();V(2),Q("message",e.message)}}let Xpe=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=B0,this.chatMessageRegularTypes=xg,this.chatMessageSenderTypes=xh,this.multiplierLevel=Kc}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],r=this.gifInfo.dims[1],i=e>=r;this.gifWidth=i?this.gifMaxLength:e/(r/this.gifMaxLength),this.gifHeight=i?r/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,r){1&e&&(un(0,0),pe(1,Vpe,3,1,"ng-container",1),pe(2,Hpe,5,8,"ng-container",1),pe(3,Ype,5,3,"ng-container",1),pe(4,zpe,7,7,"ng-container",1),pe(5,$pe,3,1,"ng-container",2),cn()),2&e&&(Q("ngSwitch",r.message.messageType),V(1),Q("ngSwitchCase",r.chatMessageTypes.ban),V(1),Q("ngSwitchCase",r.chatMessageTypes.winInfo),V(1),Q("ngSwitchCase",r.chatMessageTypes.rain),V(1),Q("ngSwitchCase",r.chatMessageTypes.gif))},directives:[Pl,gc,vpe,Zp,Fpe,kpe,Nh,t_,e_],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var Xu=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(Xu||(Xu={})),Xu))();const Fh=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var Jf=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(Jf||(Jf={})),Jf))();const qpe=["*"];let gw=(()=>{class n{constructor(){this.chatInputTools=Xu,this.closeTool=new Lt}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:qpe,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,r){1&e&&(Um(),x(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),$(5),it(6,"translate"),F(),x(7,"button",5),Oe("click",function(){return r.onCloseTool()}),x(8,"span",6),$(9,"\xd7"),F()()(),x(10,"div",7),Gm(11),F()()()()),2&e&&(V(1),ut("rain",r.title===r.chatInputTools.rain),V(4),He(" ",yt(6,3,"shared."+r.title)," "))},pipes:[pr],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;right:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),n})();function Kpe(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function Jpe(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function Qpe(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function Zpe(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function e_e(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function t_e(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function n_e(n,t){if(1&n&&(un(0),x(1,"div",6),$(2," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites "),F(),x(3,"div",7),pe(4,Kpe,2,2,"span",8),F(),x(5,"div",9),$(6," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people "),F(),x(7,"div",7),pe(8,Jpe,2,2,"span",8),F(),x(9,"div",9),$(10," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature "),F(),x(11,"div",7),pe(12,Qpe,2,2,"span",8),F(),x(13,"div",9),$(14," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects "),F(),x(15,"div",7),pe(16,Zpe,2,2,"span",8),F(),x(17,"div",9),$(18," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places "),F(),x(19,"div",7),pe(20,e_e,2,2,"span",8),F(),x(21,"div",9),$(22," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols "),F(),x(23,"div",7),pe(24,t_e,2,2,"span",8),F(),cn()),2&n){const e=ve();V(4),Q("ngForOf",e.emojiFriquentlyUsed),V(4),Q("ngForOf",e.emojiPeople),V(4),Q("ngForOf",e.emojiNature),V(4),Q("ngForOf",e.emojiObjects),V(4),Q("ngForOf",e.emojiPlaces),V(4),Q("ngForOf",e.emojiSymbols)}}function r_e(n,t){if(1&n){const e=Ct();x(0,"span",10),Oe("click",function(){const o=dt(e).$implicit;return ve(2).onClickEmoji(o.pic)}),$(1),F()}if(2&n){const e=t.$implicit;Q("title",e.title),V(1),He(" ",e.pic," ")}}function i_e(n,t){if(1&n&&(un(0),x(1,"div",7),pe(2,r_e,2,2,"span",8),F(),cn()),2&n){const e=ve();V(2),Q("ngForOf",e.searchList)}}let o_e=(()=>{class n{constructor(){this.finish=new Lt,this.chatInputToolWrapperTitles=Jf,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=Fh.slice(9),this.emojiFriquentlyUsed=Fh.slice(0,9),this.emojiPeople=Fh.slice(9,150),this.emojiNature=Fh.slice(150,226),this.emojiObjects=Fh.slice(226,309),this.emojiPlaces=Fh.slice(309,335),this.emojiSymbols=Fh.slice(335)}onModelChange(e){const r=[],i=this.formatMsg(e);if(""!==i&&" "!==i){for(const o of this.emojiForSearch)o.title.includes(e)&&r.push(o);this.searchList=[...r]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],["translate",""],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],["translate","",1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,r){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return r.finish.emit()}),x(1,"div",1)(2,"div",2)(3,"textarea",3),Oe("ngModelChange",function(o){return r.searchText=o})("ngModelChange",function(o){return r.onModelChange(o)})("keydown.enter",function(o){return r.preventDefault(o)}),it(4,"translate"),F()()(),x(5,"div",4),pe(6,n_e,25,6,"ng-container",5),pe(7,i_e,3,1,"ng-container",5),F()()),2&e&&(Q("title",r.chatInputToolWrapperTitles.emoji),V(3),Fd("placeholder",yt(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),Q("ngModel",r.searchText)("maxlength",20),V(3),Q("ngIf",!r.isShownSearchList),V(1),Q("ngIf",r.isShownSearchList))},directives:[gw,Qc,Zy,Ws,vs,e0,hn,qn,Hr],pipes:[pr],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"]}),n})(),s_e=(()=>{class n{constructor(e){this.app=e,this.chatInputToolWrapperTitles=Jf,this.amountPerUser=.5,this.finish=new Lt}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return(this.amountPerUser*this.numberOfUsers).toFixed(this.app.config.betPrecision)}onRain(){const e=`/rain:${this.amountPerUser.toFixed(this.app.config.betPrecision)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(q(pn))},n.\u0275cmp=Pt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:34,vars:24,consts:[[3,"title","closeTool"],[1,"content"],["translate","",1,"description"],[1,"input-wrapper"],[1,"mt-3"],["translate",""],[1,"currency"],[1,"input-spinner"],[3,"formatOnBlur","formatPrecision","ngModel","step","min","max","ngModelChange"],["translate","",1,"mt-2"],[3,"step","formatPrecision","formatOnBlur","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,r){1&e&&(x(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return r.finish.emit()}),x(1,"div",1)(2,"div",2),$(3," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description "),F(),x(4,"div",3)(5,"div",4)(6,"span",5),$(7," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player "),F(),x(8,"span",6),$(9),F()(),x(10,"div",7)(11,"app-spinner",8),Oe("ngModelChange",function(o){return r.amountPerUser=o}),F()(),x(12,"div",9),$(13," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players "),F(),x(14,"div",7)(15,"app-spinner",10),Oe("ngModelChange",function(o){return r.numberOfUsers=o}),F()()(),x(16,"div",11)(17,"div")(18,"span"),$(19),it(20,"translate"),F(),x(21,"span",6),$(22),F()()(),x(23,"div",12),$(24),F(),x(25,"div",13)(26,"button",14),Oe("click",function(){return r.onRain()}),x(27,"span",15),$(28),it(29,"translate"),F(),x(30,"span"),$(31),F(),x(32,"span"),$(33),F()()()()()),2&e&&(Q("title",r.chatInputToolWrapperTitles.rain),V(9),jt(r.app.config.currency),V(2),Q("formatOnBlur",!0)("formatPrecision",r.app.config.betPrecision)("ngModel",r.amountPerUser)("step",r.app.config.betInputStep)("min",r.minAmountPerUser)("max",r.maxAmountPerUser),V(4),Q("step",1)("formatPrecision",0)("formatOnBlur",!0)("min",r.minNumberOfUsers)("max",r.maxNumberOfUsers)("ngModel",r.numberOfUsers),V(4),He("",yt(20,20,"shared.total"),","),V(3),He(" ",r.app.config.currency,""),V(2),He(" ",r.totalAmount," "),V(4),jt(yt(29,22,"shared.rain")),V(3),He(" ",r.totalAmount,""),V(2),He(" ",r.app.config.currency,""))},directives:[gw,qn,_w,Ws,vs],pipes:[pr],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"]}),n})();const PG=function(n){return{background:n}};function l_e(n,t){if(1&n){const e=Ct();x(0,"div",8)(1,"div",9),Oe("click",function(){const o=dt(e).$implicit;return ve(2).shareGif(o.id)}),F()()}if(2&n){const e=t.$implicit;V(1),Q("ngStyle",ma(1,PG,"url("+e.url+") center center/cover"))}}function u_e(n,t){if(1&n&&(un(0),pe(1,l_e,2,3,"div",7),cn()),2&n){const e=ve();V(1),Q("ngForOf",e.chatService.top10Gifs)}}function c_e(n,t){if(1&n){const e=Ct();x(0,"div",8)(1,"div",9),Oe("click",function(){const o=dt(e).$implicit;return ve(3).shareGif(o.id)}),F()()}if(2&n){const e=t.$implicit;V(1),Q("ngStyle",ma(1,PG,"url("+e.url+") center center/cover"))}}function h_e(n,t){if(1&n&&(un(0),pe(1,c_e,2,3,"div",7),cn()),2&n){const e=ve(2);V(1),Q("ngForOf",e.searchList)}}function d_e(n,t){1&n&&(x(0,"div",11),Ge(1,"app-loader"),F())}function f_e(n,t){if(1&n&&(un(0),pe(1,h_e,2,1,"ng-container",6),pe(2,d_e,2,0,"div",10),cn()),2&n){const e=ve();V(1),Q("ngIf",e.searchList&&e.searchList.length),V(1),Q("ngIf",!(e.searchList&&e.searchList.length))}}let kh=class{constructor(t,e,r){this.connector=t,this.cd=e,this.chatService=r,this.finish=new Lt,this.searchInput=new De,this.chatInputToolWrapperTitles=Jf,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(dn.SearchGifs).pipe(Mt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=y2(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(function a_e(n,t=d_){return Ne((e,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function l(){const u=s+n,c=t.now();if(c<u)return i=this.schedule(void 0,u-c),void r.add(i);a()}e.subscribe(ne(r,u=>{o=u,s=t.now(),i||(i=t.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(1e3),J_(),Mt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(gr.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};kh.\u0275fac=function(t){return new(t||kh)(q(_r),q(Bn),q(ol))},kh.\u0275cmp=Pt({type:kh,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(x(0,"app-chat-input-tool-wrapper",0),Oe("closeTool",function(){return e.finish.emit()}),x(1,"div",1)(2,"div",2),Ge(3,"div",3),x(4,"textarea",4),Oe("ngModelChange",function(i){return e.searchText=i})("ngModelChange",function(i){return e.onModelChange(i)})("keydown.enter",function(i){return e.preventDefault(i)}),it(5,"translate"),F()()(),x(6,"div",5),pe(7,u_e,2,1,"ng-container",6),pe(8,f_e,3,2,"ng-container",6),F()()),2&t&&(Q("title",e.chatInputToolWrapperTitles.gif),V(4),Fd("placeholder",yt(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),Q("ngModel",e.searchText)("maxlength",20),V(3),Q("ngIf",!e.isShownSearchList),V(1),Q("ngIf",e.isShownSearchList))},directives:[gw,Qc,Zy,Ws,vs,e0,hn,Hr,t_,oh],pipes:[pr],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"]}),kh=Ue([ui()],kh);const p_e=["input"];function g_e(n,t){if(1&n){const e=Ct();x(0,"div",11),Oe("click",function(){dt(e);const i=ve();return i.showToolModal(i.chatInputTools.emoji)}),F()}}function m_e(n,t){if(1&n){const e=Ct();x(0,"div",12),Oe("click",function(){dt(e);const i=ve();return i.showToolModal(i.chatInputTools.rain)}),Ge(1,"div",13),x(2,"div",14),$(3,"shared.rain"),F()()}}function v_e(n,t){if(1&n){const e=Ct();x(0,"app-chat-input-tool-emoji",15),Oe("finish",function(i){return dt(e),ve().onCloseToolModal(i,"emoji")}),F()}}function y_e(n,t){if(1&n){const e=Ct();x(0,"app-chat-input-tool-rain",15),Oe("finish",function(i){return dt(e),ve().onCloseToolModal(i,"rain")}),F()}}function b_e(n,t){if(1&n){const e=Ct();x(0,"app-chat-input-tool-gif",15),Oe("finish",function(i){return dt(e),ve().onCloseToolModal(i,"gif")}),F()}}function E_e(n,t){if(1&n){const e=Ct();x(0,"div",16)(1,"div",17)(2,"div",18),Oe("animationend",function(){return dt(e),ve().onWaitEnd()}),F()(),x(3,"p",19),$(4,"game.chat-widget.chat-input.please wait"),F()()}if(2&n){const e=ve();V(2),Bp("animation-duration",e.app.config.chat.sendMessageDelay,"ms")}}let Bh=class{constructor(t,e,r,i,o){this.chatService=t,this.app=e,this.mainService=r,this.cd=i,this.connector=o,this.message="",this.wait=!1,this.chatInputTools=Xu,this.toolModal=null}ngOnInit(){this.value="",Fr(this.inputRef.nativeElement,"input").pipe(Ia(50),Mt(this)).subscribe(()=>{this.cd.detectChanges()}),Fr(this.inputRef.nativeElement,"keydown").pipe(Wt(t=>13===t.which),Mt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Mt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function S_e(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(gr.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===Xu.emoji}get isRainShown(){return this.toolModal===Xu.rain}get isGifShown(){return this.toolModal===Xu.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};Bh.\u0275fac=function(t){return new(t||Bh)(q(ol),q(pn),q(qr),q(Bn),q(_r))},Bh.\u0275cmp=Pt({type:Bh,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Yo(p_e,7),2&t){let r;zn(r=$n())&&(e.inputRef=r.first)}},decls:15,vars:12,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],[1,"gif",3,"click"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],["translate","",1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"],["translate",""]],template:function(t,e){1&t&&(x(0,"div",0),Ge(1,"textarea",1,2),it(3,"translate"),x(4,"div",3),pe(5,g_e,1,0,"div",4),x(6,"div",5),Oe("click",function(){return e.showToolModal(e.chatInputTools.gif)}),F(),pe(7,m_e,4,0,"div",6),x(8,"div",7),$(9),F()(),x(10,"button",8),Oe("click",function(){return e.onClickSend()}),F(),pe(11,v_e,1,0,"app-chat-input-tool-emoji",9),pe(12,y_e,1,0,"app-chat-input-tool-rain",9),pe(13,b_e,1,0,"app-chat-input-tool-gif",9),pe(14,E_e,5,2,"div",10),F()),2&t&&(V(1),Fd("placeholder",yt(3,10,"shared.reply")),nr("maxlength",e.app.config.chat.maxMessageLength),V(4),Q("ngIf",e.app.isDesktop),V(2),Q("ngIf",e.app.config.chat.rain.isEnabled),V(2),jt(e.leftLength),V(1),Q("disabled",!e.isValid),V(1),Q("ngIf",e.isEmojiShown),V(1),Q("ngIf",e.isRainShown),V(1),Q("ngIf",e.isGifShown),V(1),Q("ngIf",e.wait))},directives:[hn,qn,o_e,s_e,kh],pipes:[pr],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.61b61a0d20c01820.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.287177b586f9403b.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.a404393bc863f822.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.8389ecc5920019db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.aa4937bd9df8c5d2.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.3c852ab3a33c94b6.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.4543428ce422345d.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);-webkit-animation:chat-input-loading;animation:chat-input-loading;-webkit-animation-timing-function:linear;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@-webkit-keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),Bh=Ue([ui()],Bh);const T_e=["container"];function C_e(n,t){1&n&&Ge(0,"app-chat-message",5),2&n&&Q("message",t.$implicit)}function O_e(n,t){if(1&n){const e=Ct();x(0,"div",6),Oe("click",function(){return dt(e),ve().onScrollToBottom()}),$(1," game.chat-widget.New messages "),Ge(2,"span",7),F()}}let Lh=class{constructor(t,e,r,i,o,s){this.connector=t,this.app=e,this.zone=r,this.chat=i,this.messageService=o,this.cd=s,this.newMessagesAdded=!1}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(dn.AddChatMessage,200).pipe(Mt(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(dn.AddChatMessages,200).pipe(Mt(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(dn.DeleteChatMessage,200).pipe(Mt(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chat.isOpen$.pipe(Wt(t=>!0===t),Mt(this)).subscribe(()=>this.scrollToBottom()),Fr(document.fonts,"loadingdone").pipe(Mt(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100)}onReceiveMessage(t){this.chat.messages.push(t.message),this.chat.messages.length>this.app.config.chat.maxMessages&&this.chat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:5e3,context:Eu.success,callback:()=>{setTimeout(()=>{this.chat.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(r=>"rain"===r.messageType);this.chat.messages.push(...t.messages),this.chat.messages=this.chat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.chat.messages=this.chat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return this.scrollNativeElement.scrollHeight-this.scrollNativeElement.scrollTop===this.scrollNativeElement.clientHeight}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function M_e(n,t){1&n&&Ge(0,"app-free-bet")}function w_e(n,t){1&n&&Ge(0,"app-chat-widget")}Lh.\u0275fac=function(t){return new(t||Lh)(q(_r),q(pn),q(Pn),q(ol),q(Pf),q(Bn))},Lh.\u0275cmp=Pt({type:Lh,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&Yo(T_e,7),2&t){let r;zn(r=$n())&&(e.containerRef=r.first)}},decls:7,vars:2,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf"],["class","notification","translate","",3,"click",4,"ngIf"],[3,"message"],["translate","",1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(x(0,"div",0),Ge(1,"app-chat-header"),x(2,"div",1,2),pe(4,C_e,1,1,"app-chat-message",3),F(),Ge(5,"app-chat-input"),pe(6,O_e,3,0,"div",4),F()),2&t&&(V(4),Q("ngForOf",e.chat.messages),V(2),Q("ngIf",e.newMessagesAdded))},directives:[ope,Hr,Xpe,Bh,hn,qn],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:38px;z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.f617bc9716ca6276.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),Lh=Ue([ui()],Lh);let Uh=class{constructor(t,e,r,i,o,s,a,l,u,c,y){this.chat=t,this.freeBets=e,this.app=r,this.window=i,this.renderer=o,this.ifc=s,this.connector=a,this.modal=l,this.betControls=u,this.main=c,this.cd=y,this.isOpenChat=!1}ngOnInit(){this.chat.isOpen$.pipe(Mt(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(Mt(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.command(vi.UpdateBalance).pipe(Mt(this)).subscribe(()=>this.connector.request(gr.UpdateBalance,null)),this.ifc.command(vi.ContinueInternalRealityCheck).pipe(Mt(this)).subscribe(()=>this.sendNotificationCallback(uh.Continue)),this.ifc.command(vi.StopInternalRealityCheck).pipe(Mt(this)).subscribe(()=>this.sendNotificationCallback(uh.Stop)),this.connector.response(dn.InternalRealityCheck).pipe(Mt(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted.pipe(Mt(this),Wt(()=>this.app.config.isActiveGameFocused)).subscribe(t=>this.onBetSetted(t)),this.main.getState(hi.Bet).pipe(Mt(this)).subscribe(()=>this.ifc.emitEvent(mr.StartBetTimer)),this.main.getState(hi.End).pipe(Mt(this)).subscribe(()=>this.ifc.emitEvent(mr.EndRound)),this.showInitModals(),this.app.setGameInited()}sendNotificationCallback(t){this.connector.request(gr.NotificationCallback,{notificationType:lg.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<Hl.lg||this.window.getSize().width>=Hl.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.emitEvent(mr.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(Ln.notification,{type:Dl.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){!this.app.isGameInited&&this.app.config.isAlderneyModalShownOnInit&&this.modal.open(Ln.notification,{type:Dl.Alderney})}};function P_e(n,t){if(1&n&&(un(0),x(1,"h4",5),$(2),F(),x(3,"p",6),$(4),F(),cn()),2&n){const e=ve(2);V(2),jt(e.message.heading),V(2),He(" shared.ui-components.toastr.toastr-message.",e.message.value," ")}}function A_e(n,t){if(1&n&&(x(0,"p",9),$(1),F()),2&n){const e=ve(3);V(1),He(" ",e.getTranslation(e.message.value)," ")}}function R_e(n,t){if(1&n){const e=Ct();x(0,"p",10),Oe("click",function(i){return dt(e),ve(3).onMessageClick(i)}),$(1),F()}if(2&n){const e=ve(3);V(1),He(" ",e.getTranslation(e.message.value)," ")}}function D_e(n,t){if(1&n&&(un(0),pe(1,A_e,2,1,"p",7),pe(2,R_e,2,1,"p",8),cn()),2&n){const e=ve(2);V(1),Q("ngIf",!e.message.callback),V(1),Q("ngIf",e.message.callback)}}function x_e(n,t){if(1&n){const e=Ct();x(0,"button",11),Oe("click",function(i){return dt(e),ve(2).onCloseIconClick(i)}),x(1,"span"),$(2,"\xd7"),F()()}}function I_e(n,t){if(1&n){const e=Ct();x(0,"div",2),Oe("mouseenter",function(){return dt(e),ve().onMouseEnter()})("mouseleave",function(){return dt(e),ve().onMouseLeave()}),pe(1,P_e,5,2,"ng-container",3),pe(2,D_e,3,2,"ng-container",3),pe(3,x_e,3,0,"button",4),F()}if(2&n){const e=ve();ut("alert-dismissible",e.isClosable),Q("@messageState",void 0)("ngClass",e.context),V(1),Q("ngIf",e.message.heading),V(1),Q("ngIf",!e.message.heading),V(1),Q("ngIf",e.isClosable)}}function N_e(n,t){if(1&n){const e=Ct();x(0,"div",12),Oe("mouseenter",function(){return dt(e),ve().onMouseEnter()})("mouseleave",function(){return dt(e),ve().onMouseLeave()}),x(1,"div",13)(2,"div",14),$(3," shared.ui-components.toastr.toastr-message.You have cashed out! "),F(),x(4,"div",15),$(5),it(6,"number"),F()(),x(7,"div",16)(8,"div",17)(9,"span",6),$(10,"shared.win"),F(),x(11,"span",18),$(12),F()(),x(13,"div",15)(14,"span"),$(15),F()()(),x(16,"button",11),Oe("click",function(i){return dt(e),ve().onCloseIconClick(i)}),x(17,"span"),$(18,"\xd7"),F()()()}if(2&n){const e=ve();ut("celebrated",e.isWinCelebrated),Q("@messageState",void 0),V(5),He(" ",Bi(6,8,e.message.params.multiplier,"1.2-2"),"x "),V(2),ut("celebrated",e.isWinCelebrated),V(5),He(", ",e.message.params.currency,""),V(3),jt(e.message.params.winAmount.toFixed(e.precision))}}function F_e(n,t){}Uh.\u0275fac=function(t){return new(t||Uh)(q(ol),q(jl),q(pn),q(Vy),q(Io),q(Vl),q(_r),q(Lo),q(sl),q(qr),q(Bn))},Uh.\u0275cmp=Pt({type:Uh,selectors:[["app-game"]],decls:19,vars:10,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[4,"ngIf"],[1,"bet-controls"],[1,"chat-bar"]],template:function(t,e){1&t&&(x(0,"div",0)(1,"div",1)(2,"div",2),Ge(3,"app-header"),F(),x(4,"div",3)(5,"div",4)(6,"div",5),Ge(7,"app-bets-widget")(8,"app-spribe-footer"),F(),x(9,"div",6)(10,"div",7),Ge(11,"app-stats-widget"),F(),x(12,"div",8),pe(13,M_e,1,0,"app-free-bet",9),Ge(14,"app-play-board"),F(),x(15,"div",10),Ge(16,"app-bet-controls"),F()()()()(),x(17,"div",11),pe(18,w_e,1,0,"app-chat-widget",9),F()()),2&t&&(ut("hide-chat-bar",!e.isOpenChat),V(1),ut("h-100",e.app.useInnerScroll),V(3),ut("--scrollable",e.app.useInnerScroll),V(1),ut("game-wrap",e.isGameWrap),V(8),Q("ngIf",e.freeBets.activeFreeBet),V(5),Q("ngIf",e.app.config.chat.isEnabled))},directives:[fh,khe,Bhe,zhe,hn,vh,Ph,Dh,Lh],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:38px;background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:38px;position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:center}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;height:auto!important}.info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}"],changeDetection:0}),Uh=Ue([ui()],Uh);let k_e=(()=>{class n{constructor(e,r){this.translate=e,this.betControls=r,this.precision=0,this.closeMessage=new Lt,this.BsMessageTemplate=Zd}getTranslation(e){const o=this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],`shared.ui-components.toastr.toastr-message.${e}`);return void 0===o?e:o}ngAfterViewInit(){this.initTimeout()}get template(){return this.message.template?this.message.template:Zd.alert}get context(){return this.message.context?this.message.context:Eu.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},this.message.lifeTime||3e3)}clearTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=null}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){this.message.callback(),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(q(Xc),q(sl))},n.\u0275cmp=Pt({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",precision:"precision",index:"index"},outputs:{closeMessage:"closeMessage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["translate","",1,"alert-heading"],["translate",""],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],["translate","",1,"label"],[1,"value"],[1,"win"],["translate","",1,"label","no-wrap"],[1,"currency"]],template:function(e,r){1&e&&(un(0,0),pe(1,I_e,4,7,"ng-template",1),pe(2,N_e,19,11,"ng-template",1),pe(3,F_e,0,0,"ng-template",1),cn()),2&e&&(Q("ngSwitch",r.template),V(1),Q("ngSwitchCase",r.BsMessageTemplate.alert),V(1),Q("ngSwitchCase",r.BsMessageTemplate.win),V(1),Q("ngSwitchCase",r.BsMessageTemplate.toast))},directives:[Pl,gc,Zp,hn,qn],pipes:[aN],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;max-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.a82d20d3a52bbad1.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5624ab52d781bc.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],data:{animation:[IM("messageState",[Uhe("visible",Fa({transform:"translateY(0)",opacity:1})),pg("void => *",[Fa({transform:"translateY(100%)",opacity:0}),Uf("300ms ease-out")]),pg("* => void",[Uf("250ms ease-in",Fa({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function B_e(n,t){if(1&n){const e=Ct();x(0,"app-bs-message-item",2),Oe("closeMessage",function(i){return dt(e),ve().onMessageClose(i)}),F()}if(2&n){const e=t.$implicit,r=t.index,i=ve();Q("message",e)("precision",i.app.config.betPrecision)("index",r)("@messageAnimation",void 0)}}let Gh=class{constructor(t,e,r){this.message=t,this.app=e,this.cd=r}ngOnInit(){this.message.message$.pipe(Mt(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(r=>this.key===r.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clear$.pipe(Mt(this)).subscribe(t=>{t?this.key===t&&(this.messages=null,this.cd.detectChanges()):(this.messages=null,this.cd.detectChanges())})}onMessageClose(t){this.messages.splice(t,1)}};function L_e(n,t){1&n&&(x(0,"div",3),$(1," shared.components.connector.reconnect "),F())}function U_e(n,t){1&n&&(x(0,"div",3),$(1," shared.components.connector.slow connection "),F())}function G_e(n,t){if(1&n&&(x(0,"div",1),pe(1,L_e,2,0,"div",2),pe(2,U_e,2,0,"div",2),F()),2&n){const e=ve();Q("@messageState",void 0),V(1),Q("ngIf",e.reconnect),V(1),Q("ngIf",e.connectionSlow)}}Gh.\u0275fac=function(t){return new(t||Gh)(q(Pf),q(pn),q(Bn))},Gh.\u0275cmp=Pt({type:Gh,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","precision","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","precision","index","closeMessage"]],template:function(t,e){1&t&&(x(0,"div",0),pe(1,B_e,1,4,"app-bs-message-item",1),F()),2&t&&(V(1),Q("ngForOf",e.messages))},directives:[Hr,k_e],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:300px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[IM("messageAnimation",[pg(":enter, :leave",[function Vhe(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function Ghe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),Gh=Ue([ui()],Gh);let Vh=class{constructor(t,e){this.connector=t,this.cd=e,this.state=null}ngOnInit(){this.connector.display.pipe(Mt(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return null!==this.state&&this.state===yr.reconnect}get connectionSlow(){return null!==this.state&&this.state===yr.connectionSlow}};Vh.\u0275fac=function(t){return new(t||Vh)(q(_r),q(Bn))},Vh.\u0275cmp=Pt({type:Vh,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning","translate","",4,"ngIf"],["translate","",1,"alert","alert-warning"]],template:function(t,e){1&t&&pe(0,G_e,3,3,"div",0),2&t&&Q("ngIf",e.state)},directives:[hn,qn],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[IM("messageState",[pg("void => *",[Fa({transform:"translate(-50%,-100%)",opacity:0}),Uf("300ms ease-out")]),pg("* => void",[Uf("250ms ease-in",Fa({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),Vh=Ue([ui()],Vh);var U0=(()=>(function(n){n.Inactivity="inactivity"}(U0||(U0={})),U0))();function V_e(n,t){if(1&n){const e=Ct();x(0,"a",6),Oe("click",function(){return dt(e),ve(2).onBackToHome()}),$(1),it(2,"translate"),F()}2&n&&(V(1),He(" ",yt(2,1,"shared.home")," "))}function j_e(n,t){if(1&n&&(un(0),x(1,"div",4),$(2," shared.components.disconnect-message.text "),F(),pe(3,V_e,3,3,"a",5),cn()),2&n){const e=ve();V(3),Q("ngIf",e.urlParams.returnUrl)}}function H_e(n,t){1&n&&(un(0),x(1,"div",7),$(2),it(3,"translate"),F(),cn()),2&n&&(V(2),He("",yt(3,1,"shared.thank_you_for_playing"),"."))}let Y_e=(()=>{class n{constructor(e,r,i,o){this.sound=e,this.app=r,this.ifc=i,this.urlParams=o}ngOnInit(){this.sound.stopAll(),this.ifc.emitCloseEvent(this.state===yr.inactivity?Object.assign({reason:U0.Inactivity},this.data):this.data)}get isShutdown(){return this.state===yr.shutdown}onBackToHome(){this.app.config&&this.app.config.backToHomeActionType===kf.IfcEvent?this.ifc.emitEvent(mr.BackToHome,{returnUrl:this.urlParams.returnUrl}):window.open(this.urlParams.returnUrl,"_top")}}return n.\u0275fac=function(e){return new(e||n)(q(Af),q(pn),q(Vl),q(Du))},n.\u0275cmp=Pt({type:n,selectors:[["app-disconnect-message"]],inputs:{state:"state",data:"data"},decls:5,vars:2,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[4,"ngIf"],["translate","",1,"text"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"],[1,"text"]],template:function(e,r){1&e&&(x(0,"div",0),Ge(1,"div",1),x(2,"div",2),pe(3,j_e,4,1,"ng-container",3),pe(4,H_e,4,3,"ng-container",3),F()()),2&e&&(V(3),Q("ngIf",!1===r.isShutdown),V(1),Q("ngIf",!0===r.isShutdown))},directives:[hn,qn],pipes:[pr],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.4aa561fd98783d15.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const W_e=["lockUI"];function z_e(n,t){1&n&&(un(0),Ge(1,"app-game")(2,"app-bs-message")(3,"app-connector"),cn())}function $_e(n,t){1&n&&(un(0),x(1,"span",3),$(2,"Connection..."),F(),cn())}function X_e(n,t){if(1&n&&(un(0),Ge(1,"app-disconnect-message",4),cn()),2&n){const e=ve();V(1),Q("data",e.disconnectData)("state",e.disconnectState)}}let q_e=(()=>{class n{constructor(e,r,i,o,s,a,l,u,c,y,M,w,A,D,I,j){this.connector=e,this.app=r,this.mainService=i,this.user=o,this.cd=s,this.sound=a,this.freeBets=l,this.statsService=u,this.chatService=c,this.frontEndProxyService=y,this.ifc=M,this.renderer=w,this.scriptService=A,this.betControls=D,this.multiplierService=I,this.modalManagerService=j,this.loaded=!1,this.cantConnect=!1,this.disconnectState=null,this.disconnectData=null}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.command(vi.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.renderer.setAttribute(document.body,"app-version",Lr_version),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.display.subscribe(({state:e,data:r})=>{null!==e&&(this.cantConnect=e===yr.kicked||e===yr.loginError,this.disconnectState=e===yr.kicked?yr.kicked:e===yr.loginError?yr.loginError:e===yr.shutdown?yr.shutdown:e===yr.connectionLost?yr.connectionLost:e===yr.inactivity?yr.inactivity:null,this.disconnectData=r,this.cd.detectChanges())}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)})}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),jS()&&(this.frontEndProxyService.setup(),this.ifc.setup()),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.chatService.init(e),this.mainService.init(e),this.multiplierService.init(e),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.emitInitEvent(e)}}return n.\u0275fac=function(e){return new(e||n)(q(_r),q(pn),q(qr),q(xa),q(Bn),q(Af),q(jl),q(AL),q(ol),q(jy),q(Vl),q(Io),q(GO),q(sl),q(VO),q(lce))},n.\u0275cmp=Pt({type:n,selectors:[["app-root"]],viewQuery:function(e,r){if(1&e&&Yo(W_e,7),2&e){let i;zn(i=$n())&&(r.lockUIRef=i.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data","state"]],template:function(e,r){1&e&&(pe(0,z_e,4,0,"ng-container",0),pe(1,$_e,3,0,"ng-container",0),pe(2,X_e,2,2,"ng-container",0),Ge(3,"div",1,2)),2&e&&(Q("ngIf",r.loaded&&null===r.disconnectState),V(1),Q("ngIf",!r.loaded&&null===r.disconnectState),V(1),Q("ngIf",null!==r.disconnectState))},directives:[hn,Uh,Gh,Vh,Y_e],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),eu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),AG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),Ig=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),K_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Ase,Zn,zs,mw,eu,AG,Ig]]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,AG]]}),n})(),J_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,tu]]}),n})(),Q_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Ig,tu]]}),n})(),Z_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,ohe,J_e,eu,tu,Ig,Q_e]]}),n})(),RG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Ig,tu]]}),n})(),ege=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,eu,RG]]}),n})(),tge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,tu,Zn]]}),n})(),nge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,tu,Zn]]}),n})(),rge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,tu,Ig]]}),n})(),ige=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,eu,tge,nge,rge]]}),n})(),oge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,ige,Zn,vw,zs]]}),n})(),sge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,vw,zs,Z_e,ege,oge,Zn]]}),n})(),age=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,tu,eu,Zn,h0]]}),n})(),lge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut]]}),n})(),G0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,zs]]}),n})();const In=!1;function DG(n){return new It(3e3,In)}function jge(){return"undefined"!=typeof window&&void 0!==window.document}function yw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qu(n){switch(n.length){case 0:return new _g;case 1:return n[0];default:return new KU(n)}}function xG(n,t,e,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(c=>{const y=c.offset,M=y==l,w=M&&u||{};Object.keys(c).forEach(A=>{let D=A,I=c[A];if("offset"!==A)switch(D=t.normalizePropertyName(D,s),I){case"!":I=i[A];break;case zl:I=o[A];break;default:I=t.normalizeStyleValue(A,D,I,s)}w[D]=I}),M||a.push(w),u=w,l=y}),s.length)throw function Dge(n){return new It(3502,In)}();return a}function bw(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Ew(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Ew(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Ew(e,"destroy",n)))}}function Ew(n,t,e){const r=e.totalTime,o=Sw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Sw(n,t,e,r,i="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ts(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function IG(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Tw=(n,t)=>!1,NG=(n,t,e)=>[],FG=null;function Cw(n){const t=n.parentNode||n.host;return t===FG?null:t}(yw()||"undefined"!=typeof Element)&&(jge()?(FG=(()=>document.documentElement)(),Tw=(n,t)=>{for(;t;){if(t===n)return!0;t=Cw(t)}return!1}):Tw=(n,t)=>n.contains(t),NG=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let jh=null,kG=!1;function BG(n){jh||(jh=function Yge(){return"undefined"!=typeof document?document.body:null}()||{},kG=!!jh.style&&"WebkitAppearance"in jh.style);let t=!0;return jh.style&&!function Hge(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in jh.style,!t&&kG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in jh.style)),t}const LG=Tw,UG=NG;let GG=(()=>{class n{validateStyleProperty(e){return BG(e)}matchesElement(e,r){return!1}containsElement(e,r){return LG(e,r)}getParentElement(e){return Cw(e)}query(e,r,i){return UG(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,o,s,a=[],l){return new _g(i,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),Ow=(()=>{class n{}return n.NOOP=new GG,n})();const Mw="ng-enter",j0="ng-leave",H0="ng-trigger",Y0=".ng-trigger",jG="ng-animating",ww=".ng-animating";function Hh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Pw(parseFloat(t[1]),t[2])}function Pw(n,t){return"s"===t?1e3*n:n}function W0(n,t,e){return n.hasOwnProperty("duration")?n:function $ge(n,t,e){let i,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(DG()),{duration:0,delay:0,easing:""};i=Pw(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Pw(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else i=n;if(!e){let a=!1,l=t.length;i<0&&(t.push(function uge(){return new It(3100,In)}()),a=!0),o<0&&(t.push(function cge(){return new It(3101,In)}()),a=!0),a&&t.splice(l,0,DG())}return{duration:i,delay:o,easing:s}}(n,t,e)}function Qf(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ku(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else Qf(n,e);return e}function YG(n,t,e){return e?t+":"+e+";":""}function WG(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=YG(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=YG(0,Kge(e),n.style[e]));n.setAttribute("style",t)}function dl(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=Rw(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),yw()&&WG(n))}function Yh(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Rw(e);n.style[r]=""}),yw()&&WG(n))}function Ng(n){return Array.isArray(n)?1==n.length?n[0]:XU(n):n}const Aw=new RegExp("{{\\s*(.+?)\\s*}}","g");function zG(n){let t=[];if("string"==typeof n){let e;for(;e=Aw.exec(n);)t.push(e[1]);Aw.lastIndex=0}return t}function z0(n,t,e){const r=n.toString(),i=r.replace(Aw,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function dge(n){return new It(3003,In)}()),a=""),a.toString()});return i==r?n:i}function $0(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const qge=/-+([a-z0-9])/g;function Rw(n){return n.replace(qge,(...t)=>t[1].toUpperCase())}function Kge(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function fge(n){return new It(3004,In)}()}}function $G(n,t){return window.getComputedStyle(n)[t]}function nme(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function rme(n,t,e){if(":"==n[0]){const l=function ime(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function wge(n){return new It(3016,In)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function Mge(n){return new It(3015,In)}()),t;const i=r[1],o=r[2],s=r[3];t.push(XG(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(XG(s,i))}(r,e,t)):e.push(n),e}const J0=new Set(["true","1"]),Q0=new Set(["false","0"]);function XG(n,t){const e=J0.has(n)||Q0.has(n),r=J0.has(t)||Q0.has(t);return(i,o)=>{let s="*"==n||n==i,a="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?J0.has(n):Q0.has(n)),!a&&r&&"boolean"==typeof o&&(a=o?J0.has(t):Q0.has(t)),s&&a}}const ome=new RegExp("s*:selfs*,?","g");function Dw(n,t,e,r){return new sme(n).build(t,e,r)}class sme{constructor(t){this._driver=t}build(t,e,r){const i=new ume(e);this._resetContextStyleTimingState(i);const o=Cs(this,Ng(t),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function _ge(){return new It(3006,In)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,o.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);r+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push(function gge(){return new It(3007,In)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{if(Z0(a)){const l=a;Object.keys(l).forEach(u=>{zG(l[u]).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}}),o.size&&($0(o.values()),e.errors.push(function mge(n,t){return new It(3008,In)}()))}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Cs(this,Ng(t.animation),e);return{type:1,matchers:nme(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Wh(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Cs(this,r,e)),options:Wh(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=r;const a=Cs(this,s,e);return i=Math.max(i,e.currentTime),a});return e.currentTime=i,{type:3,steps:o,options:Wh(t.options)}}visitAnimate(t,e){const r=function hme(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return xw(W0(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=xw(0,0,"");return o.dynamic=!0,o.strValue=r,o}return e=e||W0(r,t),xw(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,o=t.styles?t.styles:Fa({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const u={};r.easing&&(u.easing=r.easing),s=Fa(u)}e.currentTime+=r.duration+r.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,i=l}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==zl?r.push(s):e.errors.push(function vge(n){return new It(3002,In)}()):r.push(s)}):r.push(t.styles);let i=!1,o=null;return r.forEach(s=>{if(Z0(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!i)for(let u in a)if(a[u].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:o,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],u=l[a];let c=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(e.errors.push(function yge(n,t,e,r,i){return new It(3010,In)}()),c=!1),o=u.startTime),c&&(l[a]={startTime:o,endTime:i}),e.options&&function Xge(n,t,e){const r=t.params||{},i=zG(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||e.push(function hge(n){return new It(3001,In)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function bge(){return new It(3011,In)}()),r;let o=0;const s=[];let a=!1,l=!1,u=0;const c=t.steps.map(j=>{const W=this._makeStyleAst(j,e);let re=null!=W.offset?W.offset:function cme(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Z0(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(Z0(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(W.styles),ae=0;return null!=re&&(o++,ae=W.offset=re),l=l||ae<0||ae>1,a=a||ae<u,u=ae,s.push(ae),W});l&&e.errors.push(function Ege(){return new It(3012,In)}()),a&&e.errors.push(function Sge(){return new It(3200,In)}());const y=t.steps.length;let M=0;o>0&&o<y?e.errors.push(function Tge(){return new It(3202,In)}()):0==o&&(M=1/(y-1));const w=y-1,A=e.currentTime,D=e.currentAnimateTimings,I=D.duration;return c.forEach((j,W)=>{const re=M>0?W==w?1:M*W:s[W],ae=re*I;e.currentTime=A+D.delay+ae,D.duration=ae,this._validateStyleAst(j,e),j.offset=re,r.styles.push(j)}),r}visitReference(t,e){return{type:8,animation:Cs(this,Ng(t.animation),e),options:Wh(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wh(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wh(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function ame(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ome,"")),n=n.replace(/@\*/g,Y0).replace(/@\w+/g,e=>Y0+"-"+e.substr(1)).replace(/:animating/g,ww),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+o:o,Ts(e.collectedStyles,e.currentQuerySelector,{});const a=Cs(this,Ng(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Wh(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Cge(){return new It(3013,In)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:W0(t.timings,e.errors,!0);return{type:12,animation:Cs(this,Ng(t.animation),e),timings:r,options:null}}}class ume{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Z0(n){return!Array.isArray(n)&&"object"==typeof n}function Wh(n){return n?(n=Qf(n)).params&&(n.params=function lme(n){return n?Qf(n):null}(n.params)):n={},n}function xw(n,t,e){return{duration:n,delay:t,easing:e}}function Iw(n,t,e,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class eb{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pme=new RegExp(":enter","g"),gme=new RegExp(":leave","g");function Nw(n,t,e,r,i,o={},s={},a,l,u=[]){return(new mme).buildKeyframes(n,t,e,r,i,o,s,a,l,u)}class mme{buildKeyframes(t,e,r,i,o,s,a,l,u,c=[]){u=u||new eb;const y=new Fw(t,e,u,i,o,c,[]);y.options=l,y.currentTimeline.setStyles([s],null,y.errors,l),Cs(this,r,y);const M=y.timelines.filter(w=>w.containsAnimation());if(Object.keys(a).length){let w;for(let A=M.length-1;A>=0;A--){const D=M[A];if(D.element===e){w=D;break}}w&&!w.allowOnlyTimelineStyles()&&w.setStyles([a],null,y.errors,l)}return M.length?M.map(w=>w.buildKeyframes()):[Iw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let o=e.currentTimeline.currentTime;const s=null!=r.duration?Hh(r.duration):null,a=null!=r.delay?Hh(r.delay):null;return 0!==s&&t.forEach(l=>{const u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Cs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=tb);const s=Hh(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Cs(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Hh(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Cs(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return W0(e.params?z0(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(r.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(o):r.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,o=r.duration,a=e.createSubContext().currentTimeline;a.easing=r.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Hh(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tb);let s=r;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,c)=>{e.currentQueryIndex=c;const y=e.createSubContext(t.options,u);o&&y.delayNextStep(o),u===e.element&&(l=y.currentTimeline),Cs(this,t.animation,y),y.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,y.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const c=e.currentTimeline;l&&c.delayNextStep(l);const y=c.currentTime;Cs(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-y+(i.startTime-r.currentTimeline.startTime)}}const tb={};class Fw{constructor(t,e,r,i,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new nb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Hh(r.duration)),null!=r.delay&&(i.delay=Hh(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=z0(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,o=new Fw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=tb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},o=new vme(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(pme,"."+this._enterClassName)).replace(gme,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&0==a.length&&s.push(function Oge(n){return new It(3014,In)}()),a}}class nb{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new nb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||zl,this._currentKeyframe[e]=zl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const o=i&&i.params||{},s=function yme(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(o=>{e[o]=zl})):Ku(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=z0(s[a],o,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:zl),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const u=Ku(a,!0);Object.keys(u).forEach(c=>{const y=u[c];"!"==y?t.add(c):y==zl&&e.add(c)}),r||(u.offset=l/this.duration),i.push(u)});const o=t.size?$0(t.values()):[],s=e.size?$0(e.values()):[];if(r){const a=i[0],l=Qf(a);a.offset=0,l.offset=1,i=[a,l]}return Iw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class vme extends nb{constructor(t,e,r,i,o,s,a=!1){super(t,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=r+e,a=e/s,l=Ku(t[0],!1);l.offset=0,o.push(l);const u=Ku(t[0],!1);u.offset=JG(a),o.push(u);const c=t.length-1;for(let y=1;y<=c;y++){let M=Ku(t[y],!1);M.offset=JG((e+M.offset*r)/s),o.push(M)}r=s,e=0,i="",t=o}return Iw(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function JG(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class kw{}class bme extends kw{normalizePropertyName(t,e){return Rw(t)}normalizeStyleValue(t,e,r,i){let o="";const s=r.toString().trim();if(Eme[e]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function pge(n,t){return new It(3005,In)}())}return s+o}}const Eme=(()=>function Sme(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QG(n,t,e,r,i,o,s,a,l,u,c,y,M){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:y,errors:M}}const Bw={};class ZG{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function Tme(n,t,e,r,i){return n.some(o=>o(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],o=this._stateStyles[t],s=i?i.buildStyles(e,r):{};return o?o.buildStyles(e,r):s}build(t,e,r,i,o,s,a,l,u,c){const y=[],M=this.ast.options&&this.ast.options.params||Bw,A=this.buildStyles(r,a&&a.params||Bw,y),D=l&&l.params||Bw,I=this.buildStyles(i,D,y),j=new Set,W=new Map,re=new Map,ae="void"===i,Z={params:Object.assign(Object.assign({},M),D)},ee=c?[]:Nw(t,e,this.ast.animation,o,s,A,I,Z,u,y);let Ee=0;if(ee.forEach(ge=>{Ee=Math.max(ge.duration+ge.delay,Ee)}),y.length)return QG(e,this._triggerName,r,i,ae,A,I,[],[],W,re,Ee,y);ee.forEach(ge=>{const Fe=ge.element,Ze=Ts(W,Fe,{});ge.preStyleProps.forEach(Ke=>Ze[Ke]=!0);const et=Ts(re,Fe,{});ge.postStyleProps.forEach(Ke=>et[Ke]=!0),Fe!==e&&j.add(Fe)});const Pe=$0(j.values());return QG(e,this._triggerName,r,i,ae,A,I,ee,Pe,W,re,Ee)}}class Cme{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=Qf(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(i[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=z0(l,i,e));const u=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,u,l,e),r[u]=l})}}),r}}class Mme{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new Cme(i.style,i.options&&i.options.params||{},r)}),e4(this.states,"true","1"),e4(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new ZG(t,i,this.states))}),this.fallbackTransition=function wme(n,t,e){return new ZG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(s=>s.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function e4(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Pme=new eb;class Ame{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],o=Dw(this._driver,e,r,[]);if(r.length)throw function xge(n){return new It(3503,In)}();this._animations[t]=o}_buildPlayer(t,e,r){const i=t.element,o=xG(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Nw(this._driver,e,o,Mw,j0,{},{},r,Pme,i),s.forEach(c=>{const y=Ts(a,c.element,{});c.postStyleProps.forEach(M=>y[M]=null)})):(i.push(function Ige(){return new It(3300,In)}()),s=[]),i.length)throw function Nge(n){return new It(3504,In)}();a.forEach((c,y)=>{Object.keys(c).forEach(M=>{c[M]=this._driver.computeStyle(y,M,zl)})});const u=qu(s.map(c=>{const y=a.get(c.element);return this._buildPlayer(c,{},y)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Fge(n){return new It(3301,In)}();return e}listen(t,e,r,i){const o=Sw(e,"","","");return bw(this._getPlayer(t),r,o,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const t4="ng-animate-queued",Lw="ng-animate-disabled",Nme=[],n4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ra="__ng_removed";class Uw{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function Ume(n){return null!=n?n:null}(r?t.value:t),r){const o=Qf(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const Fg="void",Gw=new Uw(Fg);class kme{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ia(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw function kge(n,t){return new It(3302,In)}();if(null==r||0==r.length)throw function Bge(n){return new It(3303,In)}();if(!function Gme(n){return"start"==n||"done"==n}(r))throw function Lge(n,t){return new It(3400,In)}();const o=Ts(this._elementListeners,t,[]),s={name:e,phase:r,callback:i};o.push(s);const a=Ts(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ia(t,H0),ia(t,H0+"-"+e),a[e]=Gw),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Uge(n){return new It(3401,In)}();return e}trigger(t,e,r,i=!0){const o=this._getTrigger(e),s=new Vw(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ia(t,H0),ia(t,H0+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const u=new Uw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=Gw),u.value!==Fg&&l.value===u.value){if(!function Hme(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,u.params)){const D=[],I=o.matchStyles(l.value,l.params,D),j=o.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{Yh(t,I),dl(t,j)})}return}const M=Ts(this._engine.playersByElement,t,[]);M.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let w=o.matchTransition(l.value,u.value,t,u.params),A=!1;if(!w){if(!i)return;w=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:l,toState:u,player:s,isFallbackTransition:A}),A||(ia(t,t4),s.onStart(()=>{Zf(t,t4)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const I=this._engine.playersByElement.get(t);if(I){let j=I.indexOf(s);j>=0&&I.splice(j,1)}}),this.players.push(s),M.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,Y0,!0);r.forEach(i=>{if(i[ra])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const u=this.trigger(t,l,Fg,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),r&&qu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const l=this._triggers[s].fallbackTransition,u=r[s]||Gw,c=new Uw(Fg),y=new Vw(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:c,player:y,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const o=t[ra];(!o||o===n4)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ia(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const l=Sw(o,r.triggerName,r.fromState.value,r.toState.value);l._data=t,bw(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class Bme{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new kme(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,i=this.namespacesByHostElement,o=r.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=i.get(a);if(l){const u=r.indexOf(l);r.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,e)){r.splice(a+1,0,t),s=!0;break}s||r.unshift(t)}else r.push(t);return i.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let o=0;o<i.length;o++){const s=r[i[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,r,i){if(rb(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!rb(e))return;const o=e[ra];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ia(t,Lw)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Zf(t,Lw))}removeNode(t,e,r,i){if(rb(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i,o){this.collectedLeaveElements.push(e),e[ra]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,r,i,o){return rb(e)?this._fetchNamespace(t).listen(e,r,i,o):()=>{}}_buildInstruction(t,e,r,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Y0,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ww,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[ra];if(r&&r.setForRemoval){if(t[ra]=n4,r.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Lw))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ia(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?qu(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw function Gge(n){return new It(3402,In)}()}_flushAnimations(t,e){const r=new eb,i=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(we=>{c.add(we);const ze=this.driver.query(we,".ng-animate-queued",!0);for(let st=0;st<ze.length;st++)c.add(ze[st])});const y=this.bodyNode,M=Array.from(this.statesByElement.keys()),w=o4(M,this.collectedEnterElements),A=new Map;let D=0;w.forEach((we,ze)=>{const st=Mw+D++;A.set(ze,st),we.forEach(Tt=>ia(Tt,st))});const I=[],j=new Set,W=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const ze=this.collectedLeaveElements[we],st=ze[ra];st&&st.setForRemoval&&(I.push(ze),j.add(ze),st.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Tt=>j.add(Tt)):W.add(ze))}const re=new Map,ae=o4(M,Array.from(j));ae.forEach((we,ze)=>{const st=j0+D++;re.set(ze,st),we.forEach(Tt=>ia(Tt,st))}),t.push(()=>{w.forEach((we,ze)=>{const st=A.get(ze);we.forEach(Tt=>Zf(Tt,st))}),ae.forEach((we,ze)=>{const st=re.get(ze);we.forEach(Tt=>Zf(Tt,st))}),I.forEach(we=>{this.processLeaveNode(we)})});const Z=[],ee=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(e).forEach(st=>{const Tt=st.player,Ve=st.element;if(Z.push(Tt),this.collectedEnterElements.length){const _n=Ve[ra];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(st.triggerName)){const Vn=_n.previousTriggersValues.get(st.triggerName),bn=this.statesByElement.get(st.element);bn&&bn[st.triggerName]&&(bn[st.triggerName].value=Vn)}return void Tt.destroy()}}const gt=!y||!this.driver.containsElement(y,Ve),Rt=re.get(Ve),xt=A.get(Ve),At=this._buildInstruction(st,r,xt,Rt,gt);if(At.errors&&At.errors.length)return void ee.push(At);if(gt)return Tt.onStart(()=>Yh(Ve,At.fromStyles)),Tt.onDestroy(()=>dl(Ve,At.toStyles)),void i.push(Tt);if(st.isFallbackTransition)return Tt.onStart(()=>Yh(Ve,At.fromStyles)),Tt.onDestroy(()=>dl(Ve,At.toStyles)),void i.push(Tt);const ir=[];At.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||ir.push(_n)}),At.timelines=ir,r.append(Ve,At.timelines),s.push({instruction:At,player:Tt,element:Ve}),At.queriedElements.forEach(_n=>Ts(a,_n,[]).push(Tt)),At.preStyleProps.forEach((_n,Vn)=>{const bn=Object.keys(_n);if(bn.length){let on=l.get(Vn);on||l.set(Vn,on=new Set),bn.forEach(Qt=>on.add(Qt))}}),At.postStyleProps.forEach((_n,Vn)=>{const bn=Object.keys(_n);let on=u.get(Vn);on||u.set(Vn,on=new Set),bn.forEach(Qt=>on.add(Qt))})});if(ee.length){const we=[];ee.forEach(ze=>{we.push(function Vge(n,t){return new It(3505,In)}())}),Z.forEach(ze=>ze.destroy()),this.reportError(we)}const Ee=new Map,Pe=new Map;s.forEach(we=>{const ze=we.element;r.has(ze)&&(Pe.set(ze,ze),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,Ee))}),i.forEach(we=>{const ze=we.element;this._getPreviousPlayers(ze,!1,we.namespaceId,we.triggerName,null).forEach(Tt=>{Ts(Ee,ze,[]).push(Tt),Tt.destroy()})});const ge=I.filter(we=>a4(we,l,u)),Fe=new Map;i4(Fe,this.driver,W,u,zl).forEach(we=>{a4(we,l,u)&&ge.push(we)});const et=new Map;w.forEach((we,ze)=>{i4(et,this.driver,new Set(we),l,"!")}),ge.forEach(we=>{const ze=Fe.get(we),st=et.get(we);Fe.set(we,Object.assign(Object.assign({},ze),st))});const Ke=[],wt=[],Ye={};s.forEach(we=>{const{element:ze,player:st,instruction:Tt}=we;if(r.has(ze)){if(c.has(ze))return st.onDestroy(()=>dl(ze,Tt.toStyles)),st.disabled=!0,st.overrideTotalTime(Tt.totalTime),void i.push(st);let Ve=Ye;if(Pe.size>1){let Rt=ze;const xt=[];for(;Rt=Rt.parentNode;){const At=Pe.get(Rt);if(At){Ve=At;break}xt.push(Rt)}xt.forEach(At=>Pe.set(At,Ve))}const gt=this._buildAnimation(st.namespaceId,Tt,Ee,o,et,Fe);if(st.setRealPlayer(gt),Ve===Ye)Ke.push(st);else{const Rt=this.playersByElement.get(Ve);Rt&&Rt.length&&(st.parentPlayer=qu(Rt)),i.push(st)}}else Yh(ze,Tt.fromStyles),st.onDestroy(()=>dl(ze,Tt.toStyles)),wt.push(st),c.has(ze)&&i.push(st)}),wt.forEach(we=>{const ze=o.get(we.element);if(ze&&ze.length){const st=qu(ze);we.setRealPlayer(st)}}),i.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<I.length;we++){const ze=I[we],st=ze[ra];if(Zf(ze,j0),st&&st.hasAnimation)continue;let Tt=[];if(a.size){let gt=a.get(ze);gt&&gt.length&&Tt.push(...gt);let Rt=this.driver.query(ze,ww,!0);for(let xt=0;xt<Rt.length;xt++){let At=a.get(Rt[xt]);At&&At.length&&Tt.push(...At)}}const Ve=Tt.filter(gt=>!gt.destroyed);Ve.length?Vme(this,ze,Ve):this.processLeaveNode(ze)}return I.length=0,Ke.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const ze=this.players.indexOf(we);this.players.splice(ze,1)}),we.play()}),Ke}elementContainsData(t,e){let r=!1;const i=e[ra];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Fg;a.forEach(u=>{u.queued||!l&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,e,r){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,c=u!==o,y=Ts(r,u,[]);this._getPreviousPlayers(u,c,s,a,e.toState).forEach(w=>{const A=w.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),w.destroy(),y.push(w)})}Yh(o,e.fromStyles)}_buildAnimation(t,e,r,i,o,s){const a=e.triggerName,l=e.element,u=[],c=new Set,y=new Set,M=e.timelines.map(A=>{const D=A.element;c.add(D);const I=D[ra];if(I&&I.removedBeforeQueried)return new _g(A.duration,A.delay);const j=D!==l,W=function jme(n){const t=[];return s4(n,t),t}((r.get(D)||Nme).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===D),re=o.get(D),ae=s.get(D),Z=xG(0,this._normalizer,0,A.keyframes,re,ae),ee=this._buildPlayer(A,Z,W);if(A.subTimeline&&i&&y.add(D),j){const Ee=new Vw(t,a,D);Ee.setRealPlayer(ee),u.push(Ee)}return ee});u.forEach(A=>{Ts(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function Lme(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,A.element,A))}),c.forEach(A=>ia(A,jG));const w=qu(M);return w.onDestroy(()=>{c.forEach(A=>Zf(A,jG)),dl(l,e.toStyles)}),y.forEach(A=>{Ts(i,A,[]).push(w)}),w}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new _g(t.duration,t.delay)}}class Vw{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new _g,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>bw(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ts(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rb(n){return n&&1===n.nodeType}function r4(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function i4(n,t,e,r,i){const o=[];e.forEach(l=>o.push(r4(l)));const s=[];r.forEach((l,u)=>{const c={};l.forEach(y=>{const M=c[y]=t.computeStyle(u,y,i);(!M||0==M.length)&&(u[ra]=Fme,s.push(u))}),n.set(u,c)});let a=0;return e.forEach(l=>r4(l,o[a++])),s}function o4(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:i.has(u)?1:s(u),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function ia(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Zf(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Vme(n,t,e){qu(e).onDone(()=>n.processLeaveNode(t))}function s4(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof KU?s4(r.players,t):t.push(r)}}function a4(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(o=>i.add(o)):t.set(n,r),e.delete(n),!0}class ib{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new Bme(t,e,r),this._timelineEngine=new Ame(t,e,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,r,i,o){const s=t+"-"+i;let a=this._triggerCache[s];if(!a){const l=[],c=Dw(this._driver,o,l,[]);if(l.length)throw function Rge(n,t){return new It(3404,In)}();a=function Ome(n,t,e){return new Mme(n,t,e)}(i,c,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,i,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[o,s]=IG(r);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,o){if("@"==r.charAt(0)){const[s,a]=IG(r);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,r,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Wme=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&dl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dl(this._element,this._initialStyles),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yh(this._element,this._endStyles),this._endStyles=null),dl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jw(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];zme(i)&&(t=t||{},t[i]=n[i])}return t}function zme(n){return"display"===n||"position"===n}class l4{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:$G(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class $me{validateStyleProperty(t){return BG(t)}matchesElement(t,e){return!1}containsElement(t,e){return LG(t,e)}getParentElement(t){return Cw(t)}query(t,e,r){return UG(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,i,o,s=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(l.easing=o);const u={},c=s.filter(M=>M instanceof l4);(function Jge(n,t){return 0===n||0===t})(r,i)&&c.forEach(M=>{let w=M.currentSnapshot;Object.keys(w).forEach(A=>u[A]=w[A])}),e=function Qge(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let o=t[0],s=[];if(r.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var i=1;i<t.length;i++){let a=t[i];s.forEach(function(l){a[l]=$G(n,l)})}}return t}(t,e=e.map(M=>Ku(M,!1)),u);const y=function Yme(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=jw(t[0]),t.length>1&&(r=jw(t[t.length-1]))):t&&(e=jw(t)),e||r?new Wme(n,e,r):null}(t,e);return new l4(t,e,l,y)}}let Xme=(()=>{class n extends xM{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:la.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?XU(e):e;return u4(this._renderer,null,r,"register",[i]),new qme(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(ke(Vd),ke(Nr))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class qme extends class Lhe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Kme(this._id,t,e||{},this._renderer)}}class Kme{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return u4(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function u4(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const c4="@.disabled";let Jme=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(o);return c||(c=new h4("",o,this.engine),this._rendererCache.set(o,c)),c}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=c=>{Array.isArray(c)?c.forEach(l):this.engine.registerTrigger(s,a,e,c.name,c)};return r.data.animation.forEach(l),new Qme(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(ke(Vd),ke(ib),ke(Pn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class h4{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==c4?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qme extends h4{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==c4?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function Zme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function eve(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(t,e,r)}}let tve=(()=>{class n extends ib{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(ke(Nr),ke(Ow),ke(kw))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const d4=new qt("AnimationModuleType"),f4=[{provide:xM,useClass:Xme},{provide:kw,useFactory:function nve(){return new bme}},{provide:ib,useClass:tve},{provide:Vd,useFactory:function rve(n,t,e){return new Jme(n,t,e)},deps:[yv,ib,Pn]}],p4=[{provide:Ow,useFactory:()=>new $me},{provide:d4,useValue:"BrowserAnimations"},...f4],ive=[{provide:Ow,useClass:GG},{provide:d4,useValue:"NoopAnimations"},...f4];let _4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ive:p4}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:p4,imports:[SN]}),n})(),ove=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,mw,zs,G0]]}),n})(),sve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[],imports:[[Ut,G0,mw,zs,_4,Zn,vw,ove]]}),n})(),ave=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,G0,Zn,zs,h0]]}),n})(),lve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,zs,Zn,ave,h0]]}),n})(),uve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,zs,eu,Zn,tu]]}),n})(),cve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,zs,eu,Zn]]}),n})(),hve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),dve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),fve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),pve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({providers:[],imports:[[Ut,Zn]]}),n})(),_ve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Hw,Ut,eu,Zn]]}),n})(),gve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),vve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,eu,Zn,RG]]}),n})(),yve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),bve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn,G0,zs]]}),n})(),Eve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,K_e,sge,age,sve,lge,lve,uve,cve,hve,fve,Zn,pve,gve,_ve,Hw,dve,mve,vve,yve,bve]]}),n})();const sb=T(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function g4(){return Ne((n,t)=>{let e=null;n._refCount++;const r=ne(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class Sve extends ie{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,$e(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _;const e=this.getSubject();t.add(this.source.subscribe(ne(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_.EMPTY)}return t}refCount(){return g4()(this)}}function Tve(n,t,e,r,i){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(ne(s,c=>{const y=u++;l=a?n(l,c,y):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function m4(n,t){return Ne(Tve(n,t,arguments.length>=2,!0))}function Ju(n){return Ne((t,e)=>{let o,r=null,i=!1;r=t.subscribe(ne(e,void 0,void 0,s=>{o=lt(n(s,Ju(n)(t))),r?(r.unsubscribe(),r=null,o.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(e))})}function Yw(n){return n<=0?()=>qe:Ne((t,e)=>{let r=[];t.subscribe(ne(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function v4(n=Cve){return Ne((t,e)=>{let r=!1;t.subscribe(ne(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Cve(){return new sb}function y4(n){return Ne((t,e)=>{let r=!1;t.subscribe(ne(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function ep(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wt((i,o)=>n(i,o,r)):oe,Kn(1),e?y4(t):v4(()=>new sb))}class nu{constructor(t,e){this.id=t,this.url=e}}class Ww extends nu{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kg extends nu{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class b4 extends nu{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wve extends nu{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pve extends nu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ave extends nu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rve extends nu{constructor(t,e,r,i,o){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dve extends nu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xve extends nu{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E4{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class S4{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ive{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nve{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fve{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kve{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T4{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const An="primary";class Bve{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function tp(n){return new Bve(n)}const C4="ngNavigationCancelingError";function zw(n){const t=Error("NavigationCancelingError: "+n);return t[C4]=!0,t}function Uve(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fl(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!O4(n[i],t[i]))return!1;return!0}function O4(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,o)=>r[o]===i)}return n===t}function M4(n){return Array.prototype.concat.apply([],n)}function w4(n){return n.length>0?n[n.length-1]:null}function ao(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function pl(n){return gE(n)?n:kp(n)?kn(Promise.resolve(n)):Gt(n)}const jve={exact:function R4(n,t,e){if(!$h(n.segments,t.segments)||!ab(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!R4(n.children[r],t.children[r],e))return!1;return!0},subset:D4},P4={exact:function Hve(n,t){return fl(n,t)},subset:function Yve(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>O4(n[e],t[e]))},ignored:()=>!0};function A4(n,t,e){return jve[e.paths](n.root,t.root,e.matrixParams)&&P4[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function D4(n,t,e){return x4(n,t,t.segments,e)}function x4(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!$h(i,e)||t.hasChildren()||!ab(i,e,r))}if(n.segments.length===e.length){if(!$h(n.segments,e)||!ab(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!D4(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!($h(n.segments,i)&&ab(n.segments,i,r)&&n.children[An])&&x4(n.children[An],t,o,r)}}function ab(n,t,e){return t.every((r,i)=>P4[e](n[i].parameters,r.parameters))}class zh{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tp(this.queryParams)),this._queryParamMap}toString(){return $ve.serialize(this)}}class Nn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ao(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lb(this)}}class Bg{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=tp(this.parameters)),this._parameterMap}toString(){return B4(this)}}function $h(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class I4{}class N4{parse(t){const e=new nye(t);return new zh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Lg(t.root,!0)}`,r=function Kve(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${ub(e)}=${ub(i)}`).join("&"):`${ub(e)}=${ub(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),i="string"==typeof t.fragment?`#${function Xve(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${r}${i}`}}const $ve=new N4;function lb(n){return n.segments.map(t=>B4(t)).join("/")}function Lg(n,t){if(!n.hasChildren())return lb(n);if(t){const e=n.children[An]?Lg(n.children[An],!1):"",r=[];return ao(n.children,(i,o)=>{o!==An&&r.push(`${o}:${Lg(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function zve(n,t){let e=[];return ao(n.children,(r,i)=>{i===An&&(e=e.concat(t(r,i)))}),ao(n.children,(r,i)=>{i!==An&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===An?[Lg(n.children[An],!1)]:[`${i}:${Lg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[An]?`${lb(n)}/${e[0]}`:`${lb(n)}/(${e.join("//")})`}}function F4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ub(n){return F4(n).replace(/%3B/gi,";")}function $w(n){return F4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cb(n){return decodeURIComponent(n)}function k4(n){return cb(n.replace(/\+/g,"%20"))}function B4(n){return`${$w(n.path)}${function qve(n){return Object.keys(n).map(t=>`;${$w(t)}=${$w(n[t])}`).join("")}(n.parameters)}`}const Jve=/^[^\/()?;=#]+/;function hb(n){const t=n.match(Jve);return t?t[0]:""}const Qve=/^[^=?&#]+/,eye=/^[^&#]+/;class nye{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[An]=new Nn(t,e)),r}parseSegment(){const t=hb(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bg(cb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hb(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=hb(this.remaining);i&&(r=i,this.capture(r))}t[cb(e)]=cb(r)}parseQueryParam(t){const e=function Zve(n){const t=n.match(Qve);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function tye(n){const t=n.match(eye);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=k4(e),o=k4(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=An);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[An]:new Nn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class L4{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xw(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Xw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return qw(t,this._root).map(e=>e.value)}}function Xw(n,t){if(n===t.value)return t;for(const e of t.children){const r=Xw(n,e);if(r)return r}return null}function qw(n,t){if(n===t.value)return[t];for(const e of t.children){const r=qw(n,e);if(r.length)return r.unshift(t),r}return[]}class ru{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function np(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class U4 extends L4{constructor(t,e){super(t),this.snapshot=e,Kw(this,t)}toString(){return this.snapshot.toString()}}function G4(n,t){const e=function rye(n,t){const s=new db([],{},{},"",{},An,t,null,n.root,-1,{});return new j4("",new ru(s,[]))}(n,t),r=new Rr([new Bg("",{})]),i=new Rr({}),o=new Rr({}),s=new Rr({}),a=new Rr(""),l=new rp(r,i,s,a,o,An,t,e.root);return l.snapshot=e.root,new U4(new ru(l,[]),e)}class rp{constructor(t,e,r,i,o,s,a,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(t=>tp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(t=>tp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function V4(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],o=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function iye(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class db{constructor(t,e,r,i,o,s,a,l,u,c,y){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class j4 extends L4{constructor(t,e){super(e),this.url=t,Kw(this,e)}toString(){return H4(this._root)}}function Kw(n,t){t.value._routerState=n,t.children.forEach(e=>Kw(n,e))}function H4(n){const t=n.children.length>0?` { ${n.children.map(H4).join(", ")} } `:"";return`${n.value}${t}`}function Jw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),fl(t.params,e.params)||n.params.next(e.params),function Gve(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),fl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Qw(n,t){const e=fl(n.params,t.params)&&function Wve(n,t){return $h(n,t)&&n.every((e,r)=>fl(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Qw(n.parent,t.parent))}function Ug(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function sye(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ug(n,r,i);return Ug(n,r)})}(n,t,e);return new ru(r,i)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ug(n,a)),s}}const r=function aye(n){return new rp(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(o=>Ug(n,o));return new ru(r,i)}}function fb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gg(n){return"object"==typeof n&&null!=n&&n.outlets}function Zw(n,t,e,r,i){let o={};return r&&ao(r,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new zh(e.root===n?t:Y4(e.root,n,t),o,i)}function Y4(n,t,e){const r={};return ao(n.children,(i,o)=>{r[o]=i===t?e:Y4(i,t,e)}),new Nn(n.segments,r)}class W4{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&fb(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Gg);if(i&&i!==w4(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eP{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function z4(n,t,e){if(n||(n=new Nn([],{})),0===n.segments.length&&n.hasChildren())return pb(n,t,e);const r=function fye(n,t,e){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return o;const s=n.segments[i],a=e[r];if(Gg(a))break;const l=`${a}`,u=r<e.length-1?e[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!X4(l,u,s))return o;r+=2}else{if(!X4(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Nn(n.segments.slice(0,r.pathIndex),{});return o.children[An]=new Nn(n.segments.slice(r.pathIndex),n.children),pb(o,0,i)}return r.match&&0===i.length?new Nn(n.segments,{}):r.match&&!n.hasChildren()?tP(n,t,e):r.match?pb(n,0,i):tP(n,t,e)}function pb(n,t,e){if(0===e.length)return new Nn(n.segments,{});{const r=function dye(n){return Gg(n[0])?n[0].outlets:{[An]:n}}(e),i={};return ao(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=z4(n.children[s],t,o))}),ao(n.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new Nn(n.segments,i)}}function tP(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(Gg(o)){const l=pye(o.outlets);return new Nn(r,l)}if(0===i&&fb(e[0])){r.push(new Bg(n.segments[t].path,$4(e[0]))),i++;continue}const s=Gg(o)?o.outlets[An]:`${o}`,a=i<e.length-1?e[i+1]:null;s&&a&&fb(a)?(r.push(new Bg(s,$4(a))),i+=2):(r.push(new Bg(s,{})),i++)}return new Nn(r,{})}function pye(n){const t={};return ao(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=tP(new Nn([],{}),0,e))}),t}function $4(n){const t={};return ao(n,(e,r)=>t[r]=`${e}`),t}function X4(n,t,e){return n==e.path&&fl(t,e.parameters)}class gye{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Jw(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=np(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),ao(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else o&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=np(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,o=np(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=np(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kve(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Nve(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,o=e?e.value:null;if(Jw(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jw(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function mye(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=l,s.outlet&&s.outlet.activateWith(i,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class nP{constructor(t,e){this.routes=t,this.module=e}}function Qu(n){return"function"==typeof n}function Xh(n){return n instanceof zh}const Vg=Symbol("INITIAL_VALUE");function jg(){return Ys(n=>function jO(...n){const t=ts(n),e=Sr(n),{args:r,keys:i}=vL(n);if(0===r.length)return kn([],t);const o=new ie(function Poe(n,t,e=oe){return r=>{NL(t,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)NL(t,()=>{const u=kn(n[l],t);let c=!1;u.subscribe(ne(r,y=>{o[l]=y,c||(c=!0,a--),a||r.next(e(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>yL(i,s):oe));return e?o.pipe(zS(e)):o}(n.map(t=>t.pipe(Kn(1),Df(Vg)))).pipe(m4((t,e)=>{let r=!1;return e.reduce((i,o,s)=>i!==Vg?i:(o===Vg&&(r=!0),r||!1!==o&&s!==e.length-1&&!Xh(o)?i:o),t)},Vg),Wt(t=>t!==Vg),fe(t=>Xh(t)?t:!0===t),Kn(1)))}class Tye{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hg,this.attachRef=null}}class Hg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Tye,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let q4=(()=>{class n{constructor(e,r,i,o,s){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Lt,this.deactivateEvents=new Lt,this.attachEvents=new Lt,this.detachEvents=new Lt,this.name=o||An,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Cye(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(q(Hg),q(ks),q(Ud),function sc(n){return function W6(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const o=e[i];if(HP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(o===t)return e[i+1];i+=2}}}return null}(Ii(),n)}("name"),q(Bn))},n.\u0275dir=pt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Cye{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===rp?this.route:t===Hg?this.childContexts:this.parent.get(t,e)}}let K4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Pt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Ge(0,"router-outlet")},directives:[q4],encapsulation:2}),n})();function J4(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];Oye(r,Mye(t,r))}}function Oye(n,t){n.children&&J4(n.children,t)}function Mye(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function rP(n){const t=n.children&&n.children.map(rP),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==An&&(e.component=K4),e}function oa(n){return n.outlet||An}function Q4(n,t){const e=n.filter(r=>oa(r)===t);return e.push(...n.filter(r=>oa(r)!==t)),e}const Z4={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _b(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Z4):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||Uve)(e,n,t);if(!o)return Object.assign({},Z4);const s={};ao(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(r=o.posParams)&&void 0!==r?r:{}}}function gb(n,t,e,r,i="corrected"){if(e.length>0&&function Aye(n,t,e){return e.some(r=>mb(n,t,r)&&oa(r)!==An)}(n,e,r)){const s=new Nn(t,function Pye(n,t,e,r){const i={};i[An]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&oa(o)!==An){const s=new Nn([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[oa(o)]=s}return i}(n,t,r,new Nn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function Rye(n,t,e){return e.some(r=>mb(n,t,r))}(n,e,r)){const s=new Nn(n.segments,function wye(n,t,e,r,i,o){const s={};for(const a of r)if(mb(n,e,a)&&!i[oa(a)]){const l=new Nn([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[oa(a)]=l}return Object.assign(Object.assign({},i),s)}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Nn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function mb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function e8(n,t,e,r){return!!(oa(n)===r||r!==An&&mb(t,e,n))&&("**"===n.path||_b(t,n,e).matched)}function t8(n,t,e){return 0===t.length&&!n.children[e]}class vb{constructor(t){this.segmentGroup=t||null}}class n8{constructor(t){this.urlTree=t}}function Yg(n){return p_(new vb(n))}function r8(n){return p_(new n8(n))}function Dye(n){return p_(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class Nye{constructor(t,e,r,i,o){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Ol)}apply(){const t=gb(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,An).pipe(fe(o=>this.createUrlTree(iP(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ju(o=>{if(o instanceof n8)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof vb?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,An).pipe(fe(i=>this.createUrlTree(iP(i),t.queryParams,t.fragment))).pipe(Ju(i=>{throw i instanceof vb?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new Nn([],{[An]:t}):t;return new zh(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(fe(o=>new Nn([],o))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return kn(i).pipe(Ec(o=>{const s=r.children[o],a=Q4(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(fe(l=>({segment:l,outlet:o})))}),m4((o,s)=>(o[s.outlet]=s.segment,o),{}),function Ove(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Wt((i,o)=>n(i,o,r)):oe,Yw(1),e?y4(t):v4(()=>new sb))}())}expandSegment(t,e,r,i,o,s){return kn(r).pipe(Ec(a=>this.expandSegmentAgainstRoute(t,e,r,a,i,o,s).pipe(Ju(u=>{if(u instanceof vb)return Gt(null);throw u}))),ep(a=>!!a),Ju((a,l)=>{if(a instanceof sb||"EmptyError"===a.name)return t8(e,i,o)?Gt(new Nn([],{})):Yg(e);throw a}))}expandSegmentAgainstRoute(t,e,r,i,o,s,a){return e8(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s):Yg(e):Yg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?r8(o):this.lineralizeSegments(r,o).pipe(xr(s=>{const a=new Nn(s,{});return this.expandSegment(t,a,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=_b(e,i,o);if(!a)return Yg(e);const y=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?r8(y):this.lineralizeSegments(i,y).pipe(xr(M=>this.expandSegment(t,e,r,M.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Gt(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(fe(y=>(r._loadedConfig=y,new Nn(i,{})))):Gt(new Nn(i,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=_b(e,r,i);return s?this.getChildConfig(t,r,i).pipe(xr(c=>{const y=c.module,M=c.routes,{segmentGroup:w,slicedSegments:A}=gb(e,a,l,M),D=new Nn(w.segments,w.children);if(0===A.length&&D.hasChildren())return this.expandChildren(y,M,D).pipe(fe(re=>new Nn(a,re)));if(0===M.length&&0===A.length)return Gt(new Nn(a,{}));const I=oa(r)===o;return this.expandSegment(y,D,M,A,I?An:o,!0).pipe(fe(W=>new Nn(a.concat(W.segments),W.children)))})):Yg(e)}getChildConfig(t,e,r){return e.children?Gt(new nP(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Gt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(xr(i=>i?this.configLoader.load(t.injector,e).pipe(fe(o=>(e._loadedConfig=o,o))):function xye(n){return p_(zw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Gt(new nP([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;if(!i||0===i.length)return Gt(!0);const o=i.map(s=>{const a=t.get(s);let l;if(function yye(n){return n&&Qu(n.canLoad)}(a))l=a.canLoad(e,r);else{if(!Qu(a))throw new Error("Invalid CanLoad guard");l=a(e,r)}return pl(l)});return Gt(o).pipe(jg(),bi(s=>{if(!Xh(s))return;const a=zw(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),fe(s=>!0===s))}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Gt(r);if(i.numberOfChildren>1||!i.children[An])return Dye(t.redirectTo);i=i.children[An]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const o=this.createSegmentGroup(t,e.root,r,i);return new zh(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ao(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=e[a]}else r[o]=i}),r}createSegmentGroup(t,e,r,i){const o=this.createSegments(t,e.segments,r,i);let s={};return ao(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,r,i)}),new Nn(o,s)}createSegments(t,e,r,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function iP(n){const t={};for(const r of Object.keys(n.children)){const o=iP(n.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Fye(n){if(1===n.numberOfChildren&&n.children[An]){const t=n.children[An];return new Nn(n.segments.concat(t.segments),t.children)}return n}(new Nn(n.segments,t))}class i8{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yb{constructor(t,e){this.component=t,this.route=e}}function Bye(n,t,e){const r=n._root;return Wg(r,t?t._root:null,e,[r.value])}function bb(n,t,e){const r=function Uye(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Wg(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=np(t);return n.children.forEach(s=>{(function Gye(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function Vye(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!$h(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$h(n.url,t.url)||!fl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qw(n,t)||!fl(n.queryParams,t.queryParams);default:return!Qw(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new i8(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wg(n,t,o.component?a?a.children:null:e,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yb(a.outlet.component,s))}else s&&zg(t,a,i),i.canActivateChecks.push(new i8(r)),Wg(n,null,o.component?a?a.children:null:e,r,i)})(s,o[s.value.outlet],e,r.concat([s.value]),i),delete o[s.value.outlet]}),ao(o,(s,a)=>zg(s,e.getContext(a),i)),i}function zg(n,t,e){const r=np(n),i=n.value;ao(r,(o,s)=>{zg(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new yb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Kye{}function o8(n){return new ie(t=>t.error(n))}class Qye{constructor(t,e,r,i,o,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=gb(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,An);if(null===e)return null;const r=new db([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ru(r,e),o=new j4(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,r=V4(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=Q4(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;r.push(...l)}const i=s8(r);return function Zye(n){n.sort((t,e)=>t.value.outlet===An?-1:e.value.outlet===An?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,r,i);if(null!==s)return s}return t8(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!e8(t,e,r,i))return null;let o,s=[],a=[];if("**"===t.path){const w=r.length>0?w4(r).parameters:{};o=new db(r,w,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,u8(t),oa(t),t.component,t,a8(e),l8(e)+r.length,c8(t))}else{const w=_b(e,t,r);if(!w.matched)return null;s=w.consumedSegments,a=w.remainingSegments,o=new db(s,w.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,u8(t),oa(t),t.component,t,a8(e),l8(e)+s.length,c8(t))}const l=function e0e(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=gb(e,s,a,l.filter(w=>void 0===w.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const w=this.processChildren(l,u);return null===w?null:[new ru(o,w)]}if(0===l.length&&0===c.length)return[new ru(o,[])];const y=oa(t)===i,M=this.processSegment(l,u,c,y?An:i);return null===M?null:[new ru(o,M)]}}function t0e(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function s8(n){const t=[],e=new Set;for(const r of n){if(!t0e(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=s8(r.children);t.push(new ru(r.value,i))}return t.filter(r=>!e.has(r))}function a8(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function l8(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function u8(n){return n.data||{}}function c8(n){return n.resolve||{}}function h8(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oP(n){return Ys(t=>{const e=n(t);return e?kn(e).pipe(fe(()=>t)):Gt(t)})}class u0e extends class l0e{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sP=new qt("ROUTES");class d8{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new nP(M4(s.injector.get(sP,void 0,rn.Self|rn.Optional)).map(rP),s)}),Ju(o=>{throw e._loader$=void 0,o}));return e._loader$=new Sve(i,()=>new De).pipe(g4()),e._loader$}loadModuleFactory(t){return pl(t()).pipe(xr(e=>e instanceof Bx?Gt(e):kn(this.compiler.compileModuleAsync(e))))}}class h0e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function d0e(n){throw n}function f0e(n,t,e){return t.parse("/")}function f8(n,t){return Gt(null)}const p0e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_0e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Os=(()=>{class n{constructor(e,r,i,o,s,a,l){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new De,this.errorHandler=d0e,this.malformedUriErrorHandler=f0e,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:f8,afterPreactivation:f8},this.urlHandlingStrategy=new h0e,this.routeReuseStrategy=new u0e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Ol),this.console=s.get(yI);const y=s.get(Pn);this.isNgZoneEnabled=y instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Vve(){return new zh(new Nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new d8(s,a,M=>this.triggerEvent(new E4(M)),M=>this.triggerEvent(new S4(M))),this.routerState=G4(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Wt(i=>0!==i.id),fe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ys(i=>{let o=!1,s=!1;return Gt(i).pipe(bi(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ys(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return p8(a.source)&&(this.browserUrlTree=a.extractedUrl),Gt(a).pipe(Ys(y=>{const M=this.transitions.getValue();return r.next(new Ww(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),M!==this.transitions.getValue()?qe:Promise.resolve(y)}),function kye(n,t,e,r){return Ys(i=>function Iye(n,t,e,r,i){return new Nye(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(fe(o=>Object.assign(Object.assign({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bi(y=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:y.urlAfterRedirects})}),function n0e(n,t,e,r,i){return xr(o=>function Jye(n,t,e,r,i="emptyOnly",o="legacy"){try{const s=new Qye(n,t,e,r,i,o).recognize();return null===s?o8(new Kye):Gt(s)}catch(s){return o8(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),r,i).pipe(fe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),bi(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const w=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(w,y)}this.browserUrlTree=y.urlAfterRedirects}const M=new Pve(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(M)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:w,source:A,restoredState:D,extras:I}=a,j=new Ww(M,this.serializeUrl(w),A,D);r.next(j);const W=G4(w,this.rootComponentType).snapshot;return Gt(Object.assign(Object.assign({},a),{targetSnapshot:W,urlAfterRedirects:w,extras:Object.assign(Object.assign({},I),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),qe}),oP(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:y,extras:{skipLocationChange:M,replaceUrl:w}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:y,skipLocationChange:!!M,replaceUrl:!!w})}),bi(a=>{const l=new Ave(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),fe(a=>Object.assign(Object.assign({},a),{guards:Bye(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function jye(n,t){return xr(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Gt(Object.assign(Object.assign({},e),{guardsResult:!0})):function Hye(n,t,e,r){return kn(n).pipe(xr(i=>function qye(n,t,e,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Gt(o.map(a=>{const l=bb(a,t,i);let u;if(function Sye(n){return n&&Qu(n.canDeactivate)}(l))u=pl(l.canDeactivate(n,t,e,r));else{if(!Qu(l))throw new Error("Invalid CanDeactivate guard");u=pl(l(n,t,e,r))}return u.pipe(ep())})).pipe(jg()):Gt(!0)}(i.component,i.route,e,t,r)),ep(i=>!0!==i,!0))}(s,r,i,n).pipe(xr(a=>a&&function vye(n){return"boolean"==typeof n}(a)?function Yye(n,t,e,r){return kn(t).pipe(Ec(i=>Tu(function zye(n,t){return null!==n&&t&&t(new Ive(n)),Gt(!0)}(i.route.parent,r),function Wye(n,t){return null!==n&&t&&t(new Fve(n)),Gt(!0)}(i.route,r),function Xye(n,t,e){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function Lye(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Ly(()=>Gt(s.guards.map(l=>{const u=bb(l,s.node,e);let c;if(function Eye(n){return n&&Qu(n.canActivateChild)}(u))c=pl(u.canActivateChild(r,n));else{if(!Qu(u))throw new Error("Invalid CanActivateChild guard");c=pl(u(r,n))}return c.pipe(ep())})).pipe(jg())));return Gt(o).pipe(jg())}(n,i.path,e),function $ye(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Gt(!0);const i=r.map(o=>Ly(()=>{const s=bb(o,t,e);let a;if(function bye(n){return n&&Qu(n.canActivate)}(s))a=pl(s.canActivate(t,n));else{if(!Qu(s))throw new Error("Invalid CanActivate guard");a=pl(s(t,n))}return a.pipe(ep())}));return Gt(i).pipe(jg())}(n,i.route,e))),ep(i=>!0!==i,!0))}(r,o,n,t):Gt(a)),fe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),bi(a=>{if(Xh(a.guardsResult)){const u=zw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new Rve(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Wt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),oP(a=>{if(a.guards.canActivateChecks.length)return Gt(a).pipe(bi(l=>{const u=new Dve(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Ys(l=>{let u=!1;return Gt(l).pipe(function r0e(n,t){return xr(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Gt(e);let o=0;return kn(i).pipe(Ec(s=>function i0e(n,t,e,r){return function o0e(n,t,e,r){const i=h8(n);if(0===i.length)return Gt({});const o={};return kn(i).pipe(xr(s=>function s0e(n,t,e,r){const i=bb(n,t,r);return pl(i.resolve?i.resolve(t,e):i(t,e))}(n[s],t,e,r).pipe(bi(a=>{o[s]=a}))),Yw(1),xr(()=>h8(o).length===i.length?Gt(o):qe))}(n._resolve,n,t,r).pipe(fe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),V4(n,e).resolve),null)))}(s.route,r,n,t)),bi(()=>o++),Yw(1),xr(s=>o===i.length?Gt(e):qe))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bi({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),bi(l=>{const u=new xve(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),oP(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:y,extras:{skipLocationChange:M,replaceUrl:w}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:y,skipLocationChange:!!M,replaceUrl:!!w})}),fe(a=>{const l=function oye(n,t,e){const r=Ug(n,t._root,e?e._root:void 0);return new U4(r,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),bi(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>fe(r=>(new gye(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),bi({next(){o=!0},complete(){o=!0}}),function Mve(n){return Ne((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;o||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Ju(a=>{if(s=!0,function Lve(n){return n&&n[C4]}(a)){const l=Xh(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new b4(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||p8(i.source)};this.scheduleNavigation(c,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new wve(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return qe}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const o={replaceUrl:!0},s=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){J4(e),this.config=e.map(rP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}return null!==y&&(y=this.removeEmptyProps(y)),function lye(n,t,e,r,i){if(0===e.length)return Zw(t.root,t.root,t,r,i);const o=function uye(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new W4(!0,0,n);let t=0,e=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ao(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new W4(e,t,r)}(e);if(o.toRoot())return Zw(t.root,new Nn([],{}),t,r,i);const s=function cye(n,t,e){if(n.isAbsolute)return new eP(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new eP(o,o===t.root,0)}const r=fb(n.commands[0])?0:1;return function hye(n,t,e){let r=n,i=t,o=e;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new eP(r,!1,i-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?pb(s.segmentGroup,s.index,o.commands):z4(s.segmentGroup,s.index,o.commands);return Zw(s.segmentGroup,a,t,r,i)}(u,this.currentUrlTree,e,y,null!=c?c:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Xh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function g0e(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},p0e):!1===r?Object.assign({},_0e):r,Xh(e))return A4(this.currentUrlTree,e,i);const o=this.parseUrl(e);return A4(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const o=e[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new kg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let u,c,y;s?(u=s.resolve,c=s.reject,y=s.promise):y=new Promise((A,D)=>{u=A,c=D});const M=++this.navigationId;let w;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),w=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):w=0,this.setTransition({id:M,targetPageId:w,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:u,reject:c,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(A=>Promise.reject(A))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new b4(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){pE()},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function p8(n){return"imperative"!==n}class _8{}class g8{preload(t,e){return Gt(null)}}let m8=(()=>{class n{constructor(e,r,i,o){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new d8(i,r,l=>e.triggerEvent(new E4(l)),l=>e.triggerEvent(new S4(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(e=>e instanceof kg),Ec(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ol);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(e,o)):o.children&&i.push(this.processRoutes(e,o.children));return kn(i).pipe(xi(),fe(o=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Gt(r._loadedConfig):this.loader.load(e.injector,r)).pipe(xr(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(ke(Os),ke(bI),ke(Si),ke(_8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),uP=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ww?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof T4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new T4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){pE()},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const qh=new qt("ROUTER_CONFIGURATION"),v8=new qt("ROUTER_FORROOT_GUARD"),b0e=[rS,{provide:I4,useClass:N4},{provide:Os,useFactory:function M0e(n,t,e,r,i,o,s={},a,l){const u=new Os(null,n,t,e,r,i,M4(o));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function w0e(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(c=>{var y,M;null===(y=console.group)||void 0===y||y.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(M=console.groupEnd)||void 0===M||M.call(console)}),u},deps:[I4,Hg,rS,Si,bI,sP,qh,[class c0e{},new hu],[class a0e{},new hu]]},Hg,{provide:rp,useFactory:function P0e(n){return n.routerState.root},deps:[Os]},m8,g8,class y0e{preload(t,e){return e().pipe(Ju(()=>Gt(null)))}},{provide:qh,useValue:{enableTracing:!1}}];function E0e(){return new OI("Router",Os)}let S0e=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[b0e,y8(e),{provide:v8,useFactory:O0e,deps:[[Os,new hu,new Tp]]},{provide:qh,useValue:r||{}},{provide:Yd,useFactory:C0e,deps:[_c,[new Em(nS),new hu],qh]},{provide:uP,useFactory:T0e,deps:[Os,d$,qh]},{provide:_8,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:g8},{provide:OI,multi:!0,useFactory:E0e},[cP,{provide:tv,multi:!0,useFactory:A0e,deps:[cP]},{provide:b8,useFactory:R0e,deps:[cP]},{provide:vI,multi:!0,useExisting:b8}]]}}static forChild(e){return{ngModule:n,providers:[y8(e)]}}}return n.\u0275fac=function(e){return new(e||n)(ke(v8,8),ke(Os,8))},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({}),n})();function T0e(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new uP(n,t,e)}function C0e(n,t,e={}){return e.useHash?new rz(n,t):new WI(n,t)}function O0e(n){return"guarded"}function y8(n){return[{provide:K6,multi:!0,useValue:n},{provide:sP,multi:!0,useValue:n}]}let cP=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new De}appInitializer(){return this.injector.get(ez,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),o=this.injector.get(Os),s=this.injector.get(qh);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(qh),i=this.injector.get(m8),o=this.injector.get(uP),s=this.injector.get(Os),a=this.injector.get(nv);e===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(ke(Si))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function A0e(n){return n.appInitializer.bind(n)}function R0e(n){return n.bootstrapListener.bind(n)}const b8=new qt("Router Initializer");let x0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})();class I0e{constructor(t,e="/assets/i18n/",r=".json"){this.http=t,this.prefix=e,this.suffix=r}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function N0e(n){return new I0e(n,"./assets/i18n/",`.json?v=${Lr_version}`)}let F0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),k0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n}),n.\u0275inj=mt({imports:[[Ut,Zn]]}),n})(),B0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=vt({type:n,bootstrap:[q_e]}),n.\u0275inj=mt({providers:[{provide:tv,useFactory:t=>()=>t.init(),deps:[pn],multi:!0},{provide:gd,useValue:cK()}],imports:[[SN,_4,Eve,x0e,S0e.forRoot([],{relativeLinkResolution:"legacy"}),nK,k0e,Zn.forRoot({loader:{provide:$_,useFactory:N0e,deps:[kS]}}),Hw,h0,F0e,Coe]]}),n})();var E8=P(752),U0e=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),S8=P(9819),Qr=P(1255),Eb=(0,mo.R)(),T8=P(7516),hP=(n,t,e)=>{let r;return i=>{t.value>=0&&(i||e)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,n(t)))}},dP=(n,t)=>({name:n,value:(0,T8.h)(t,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),Sb=(n,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(r=>r.getEntries().map(t));return e.observe({type:n,buffered:!0}),e}}catch(r){}},Tb=(n,t)=>{var e=r=>{("pagehide"===r.type||"hidden"===(0,mo.R)().document.visibilityState)&&(n(r),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)};let Cb=-1;var fP=()=>(Cb<0&&(Cb="hidden"===(0,mo.R)().document.visibilityState?0:1/0,Tb(({timeStamp:n})=>{Cb=n},!0)),{get firstHiddenTime(){return Cb}}),C8={};function Ob(n){return"number"==typeof n&&isFinite(n)}function op(n,r){var i=r,{startTimestamp:t}=i,e=U8(i,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(We({startTimestamp:t},e))}var Kh=(0,mo.R)();function O8(){return Kh&&Kh.addEventListener&&Kh.performance}let _l,$g,M8=0,Zr={};function X0e(n=!1){var t=O8();t&&vc.Z1&&(t.mark&&Kh.performance.mark("sentry-tracing-init"),function K0e(){((n,t)=>{var e=dP("CLS",0);let r,i=0,o=[];var s=l=>{l&&!l.hadRecentInput&&(i&&0!==o.length&&l.startTime-o[o.length-1].startTime<1e3&&l.startTime-o[0].startTime<5e3?(i+=l.value,o.push(l)):(i=l.value,o=[l]),i>e.value&&(e.value=i,e.entries=o,r&&r()))},a=Sb("layout-shift",s);a&&(r=hP(n=>{var t=n.entries.pop();!t||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding CLS"),Zr.cls={value:n.value,unit:""},$g=t)},e,void 0),Tb(()=>{a.takeRecords().map(s),r(!0)}))})()}(),function J0e(n){((n,t)=>{var e=fP(),r=dP("LCP");let i;var o=l=>{var u=l.startTime;u<e.firstHiddenTime&&(r.value=u,r.entries.push(l)),i&&i()},s=Sb("largest-contentful-paint",o);if(s){i=hP(t=>{var e=t.entries.pop();!e||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding LCP"),Zr.lcp={value:t.value,unit:"millisecond"},_l=e)},r,t);var a=()=>{C8[r.id]||(s.takeRecords().map(o),s.disconnect(),C8[r.id]=!0,i(!0))};["keydown","click"].forEach(l=>{addEventListener(l,a,{once:!0,capture:!0})}),Tb(a,!0)}})(0,n)}(n),function Q0e(){((n,t)=>{var e=fP(),r=dP("FID");let i;var o=a=>{i&&a.startTime<e.firstHiddenTime&&(r.value=a.processingStart-a.startTime,r.entries.push(a),i(!0))},s=Sb("first-input",o);s&&(i=hP(n=>{var t=n.entries.pop();if(t){var e=(0,Qr.XL)(vc.Z1),r=(0,Qr.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding FID"),Zr.fid={value:n.value,unit:"millisecond"},Zr["mark.fid"]={value:e+r,unit:"second"}}},r,void 0),Tb(()=>{s.takeRecords().map(o),s.disconnect()},!0))})()}())}function Mb(n,t,e,r,i,o){var s=o?t[o]:t[`${e}End`],a=t[`${e}Start`];!a||!s||op(n,{op:"browser",description:(0,T8.h)(i,()=>e),startTimestamp:r+(0,Qr.XL)(a),endTimestamp:r+(0,Qr.XL)(s)})}var wb={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var Xg=(0,mo.R)(),fbe=We({idleTimeout:S8.nT,finalTimeout:S8.mg,markBackgroundTransactions:!0,routingInstrumentation:function hbe(n,t=!0,e=!0){if(!Xg||!Xg.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Could not initialize routing instrumentation due to invalid location"));let i,r=Xg.location.href;t&&(i=n({name:Xg.location.pathname,op:"pageload",metadata:{source:"url"}})),e&&(0,Sa.o)("history",({to:o,from:s})=>{void 0===s&&r&&-1!==r.indexOf(o)?r=void 0:s!==o&&(r=void 0,i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=n({name:Xg.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0}},wb);class pP{__init(){this.name="BrowserTracing"}constructor(t){pP.prototype.__init.call(this);let e=wb.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=er(We(We({},fbe),t),{tracingOrigins:e});const{_metricOptions:r}=this.options;X0e(r&&r._reportAllChanges),function L0e(n){let t,e=n[0],r=1;for(;r<n.length;){var i=n[r],o=n[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==e)return;"access"===i||"optionalAccess"===i?(t=e,e=o(e)):("call"===i||"optionalCall"===i)&&(e=o((...s)=>e.call(t,...s)),t=void 0)}return e}([this,"access",i=>i.options,"access",i=>i._experiments,"optionalAccess",i=>i.enableLongTask])&&function q0e(){Sb("longtask",t=>{var e=(0,Qr.x1)();if(e){var r=(0,Qr.XL)(vc.Z1+t.startTime),i=(0,Qr.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:r,endTimestamp:r+i})}})}()}setupOnce(t,e){this._getCurrentHub=e,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`[Tracing] We added a reasonable default for you: ${wb.tracingOrigins}`));const{routingInstrumentation:r,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:s,traceFetch:a,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:c}=this.options;r(y=>this._createRouteTransaction(y),o,i),s&&function V0e(){Eb&&Eb.document?Eb.document.addEventListener("visibilitychange",()=>{var n=(0,Qr.x1)();if(Eb.document.hidden&&n){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),function abe(n){const{traceFetch:t,traceXHR:e,tracingOrigins:r,shouldCreateSpanForRequest:i}=We(We({},wb),n);var o={},s=u=>(o[u]||(o[u]=r.some(y=>(0,Xa.zC)(u,y))&&!(0,Xa.zC)(u,"sentry_key")),o[u]);let a=s;"function"==typeof i&&(a=u=>s(u)&&i(u));var l={};t&&(0,Sa.o)("fetch",u=>{!function lbe(n,t,e){if((0,Qr.zu)()&&n.fetchData&&t(n.fetchData.url)){if(n.endTimestamp){var r=n.fetchData.__span;if(!r)return;return void((i=e[r])&&(n.response?i.setHttpStatus(n.response.status):n.error&&i.setStatus("internal_error"),i.finish(),delete e[r]))}var o=(0,Qr.x1)();if(o){var i=o.startChild({data:er(We({},n.fetchData),{type:"fetch"}),description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=i.spanId,e[i.spanId]=i;var s=n.args[0]=n.args[0],a=n.args[1]=n.args[1]||{};a.headers=function ube(n,t,e,r){let i=r.headers;if((0,mi.V9)(n,Request)&&(i=n.headers),i)if("function"==typeof i.append)i.append("sentry-trace",e.toTraceparent()),i.append(hs.bU,(0,hs.J8)(t,i.get(hs.bU)));else if(Array.isArray(i)){const[,o]=i.find(([s,a])=>s===hs.bU);i=[...i,["sentry-trace",e.toTraceparent()],[hs.bU,(0,hs.J8)(t,o)]]}else i=er(We({},i),{"sentry-trace":e.toTraceparent(),baggage:(0,hs.J8)(t,i.baggage)});else i={"sentry-trace":e.toTraceparent(),baggage:(0,hs.J8)(t)};return i}(s,o.getBaggage(),i,a)}}}(u,a,l)}),e&&(0,Sa.o)("xhr",u=>{!function cbe(n,t,e){if(!(!(0,Qr.zu)()||n.xhr&&n.xhr.__sentry_own_request__)&&n.xhr&&n.xhr.__sentry_xhr__&&t(n.xhr.__sentry_xhr__.url)){var r=n.xhr.__sentry_xhr__;if(n.endTimestamp){var i=n.xhr.__sentry_xhr_span_id__;if(!i)return;return void((o=e[i])&&(o.setHttpStatus(r.status_code),o.finish(),delete e[i]))}var s=(0,Qr.x1)();if(s){var o=s.startChild({data:er(We({},r.data),{type:"xhr",method:r.method,url:r.url}),description:`${r.method} ${r.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=o.spanId,e[n.xhr.__sentry_xhr_span_id__]=o,n.xhr.setRequestHeader)try{n.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var a=n.xhr.getRequestHeader&&n.xhr.getRequestHeader(hs.bU);n.xhr.setRequestHeader(hs.bU,(0,hs.J8)(s.getBaggage(),a))}catch(u){}}}}(u,a,l)})}({traceFetch:a,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:c})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:r,finalTimeout:i}=this.options;var o="pageload"===t.op?function pbe(){var n=w8("sentry-trace"),t=w8("baggage"),e=n?function G0e(n){var t=n.match(U0e);if(t){let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}}(n):void 0,r=(0,hs.rg)(t,n);if(e||r)return We(We({},e&&e),r&&{metadata:{baggage:r}})}():void 0,s=er(We(We(We({},t),o),o&&{metadata:We(We({},t.metadata),o.metadata)}),{trimEnd:!0}),a="function"==typeof e?e(s):s,l=void 0===a?er(We({},s),{sampled:!1}):a;l.metadata=l.name!==s.name?er(We({},l.metadata),{source:"custom"}):l.metadata,!1===l.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`[Tracing] Starting ${l.op} transaction on scope`);var u=this._getCurrentHub();const{location:c}=(0,mo.R)();var y=(0,E8.lb)(u,l,r,i,!0,{location:c});return y.registerBeforeFinishCallback(M=>{(function Z0e(n){var t=O8();if(!t||!Kh.performance.getEntries||!vc.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Tracing] Adding & adjusting spans using Performance API");var e=(0,Qr.XL)(vc.Z1),r=t.getEntries();let i,o;if(r.slice(M8).forEach(a=>{var l=(0,Qr.XL)(a.startTime),u=(0,Qr.XL)(a.duration);if(!("navigation"===n.op&&e+l<n.startTimestamp))switch(a.entryType){case"navigation":(function tbe(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Mb(n,t,r,e)}),Mb(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),Mb(n,t,"fetch",e,"cache","domainLookupStart"),Mb(n,t,"domainLookup",e,"DNS"),function nbe(n,t,e){op(n,{op:"browser",description:"request",startTimestamp:e+(0,Qr.XL)(t.requestStart),endTimestamp:e+(0,Qr.XL)(t.responseEnd)}),op(n,{op:"browser",description:"response",startTimestamp:e+(0,Qr.XL)(t.responseStart),endTimestamp:e+(0,Qr.XL)(t.responseEnd)})}(n,t,e)})(n,a,e),i=e+(0,Qr.XL)(a.responseStart),o=e+(0,Qr.XL)(a.requestStart);break;case"mark":case"paint":case"measure":!function ebe(n,t,e,r,i){var o=i+e;op(n,{description:t.name,endTimestamp:o+r,op:t.entryType,startTimestamp:o})}(n,a,l,u,e);var c=fP(),y=a.startTime<c.firstHiddenTime;"first-paint"===a.name&&y&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding FP"),Zr.fp={value:a.startTime,unit:"millisecond"}),"first-contentful-paint"===a.name&&y&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding FCP"),Zr.fcp={value:a.startTime,unit:"millisecond"});break;case"resource":var M=a.name.replace(Kh.location.origin,"");!function rbe(n,t,e,r,i,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=o+r;op(n,{description:e,endTimestamp:a+i,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:a,data:s})}}(n,a,M,l,u,e)}}),M8=Math.max(r.length-1,0),function ibe(n){var t=Kh.navigator;if(t){var e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),Ob(e.rtt)&&(Zr["connection.rtt"]={value:e.rtt,unit:"millisecond"}),Ob(e.downlink)&&(Zr["connection.downlink"]={value:e.downlink,unit:""})),Ob(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),Ob(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(n),"pageload"===n.op){"number"==typeof i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding TTFB"),Zr.ttfb={value:1e3*(i-n.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=i&&(Zr["ttfb.requestTime"]={value:1e3*(i-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(Zr[a]&&!(e>=n.startTimestamp)){var l=Zr[a].value,u=e+(0,Qr.XL)(l),c=Math.abs(1e3*(u-n.startTimestamp));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log(`[Measurements] Normalized ${a} from ${l} to ${c} (${c-l})`),Zr[a].value=c}});var s=Zr["mark.fid"];s&&Zr.fid&&(op(n,{description:"first input delay",endTimestamp:s.value+(0,Qr.XL)(Zr.fid.value),op:"web.vitals",startTimestamp:s.value}),delete Zr["mark.fid"]),"fcp"in Zr||delete Zr.cls,Object.keys(Zr).forEach(a=>{n.setMeasurement(a,Zr[a].value,Zr[a].unit)}),function obe(n){_l&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding LCP Data"),_l.element&&n.setTag("lcp.element",(0,$d.Rt)(_l.element)),_l.id&&n.setTag("lcp.id",_l.id),_l.url&&n.setTag("lcp.url",_l.url.trim().slice(0,200)),n.setTag("lcp.size",_l.size)),$g&&$g.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.log("[Measurements] Adding CLS Data"),$g.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,(0,$d.Rt)(t.node))))}(n)}_l=void 0,$g=void 0,Zr={}})(M),M.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),y}}function w8(n){var t=(0,$d.qT)(`meta[name=${n}]`);return t?t.getAttribute("content"):null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,E8.ro)();class sp{constructor(){sp.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=sp.id}setupOnce(t,e){var r=i=>{var o=e().getIntegration(sp);if(o){try{if(function _be(n,t){return!(!t||!function gbe(n,t){var e=n.message,r=t.message;return!(!e&&!r||e&&!r||!e&&r||e!==r||!A8(n,t)||!P8(n,t))}(n,t)&&!function mbe(n,t){var e=R8(t),r=R8(n);return!!(e&&r&&e.type===r.type&&e.value===r.value&&A8(n,t)&&P8(n,t))}(n,t))}(i,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=i}return o._previousEvent=i}return i};r.id=this.name,t(r)}}function P8(n,t){let e=D8(n),r=D8(t);if(!e&&!r)return!0;if(e&&!r||!e&&r||(e=e,r=r,r.length!==e.length))return!1;for(let s=0;s<r.length;s++){var i=r[s],o=e[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function A8(n,t){let e=n.fingerprint,r=t.fingerprint;if(!e&&!r)return!0;if(e&&!r||!e&&r)return!1;e=e,r=r;try{return e.join("")===r.join("")}catch(i){return!1}}function R8(n){return n.exception&&n.exception.values&&n.exception.values[0]}function D8(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}sp.__initStatic();const ybe=["Http failure during parsing for"],Sbe={dsn:"https://8f6b03bc41d54a058f2ccfbe5e3722e3@sentry.spribe.io/10",environment:"prod",release:Lr_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate"],normalizeDepth:8,integrations:[new pP,new sp],maxBreadcrumbs:50,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function Ebe(n,t){return(null==t?void 0:t.originalException)instanceof wv||"Timeout"===(null==t?void 0:t.originalException)||!!ybe.find(e=>{var r;return null===(r=n.message)||void 0===r?void 0:r.includes(e)})&&Math.random()>.01}(n,t)?null:n};(function oK(n){n._metadata=n._metadata||{},n._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:Cv}],version:Cv},function sK(){const n=Xm&&Xm.major?parseInt(Xm.major,10):void 0;n&&(n<10&&iK&&Vt.kg.warn(`The Sentry SDK does not officially support Angular ${n}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function hq(n,t){(0,gi.Gd)().setContext(n,t)}("angular",{version:n}))}(),function Gq(n={}){if(void 0===n.defaultIntegrations&&(n.defaultIntegrations=Uq),void 0===n.release){var t=(0,mo.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(n.release=t.SENTRY_RELEASE.id)}void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);var e=er(We({},n),{stackParser:(0,Al.Sq)(n.stackParser||cq),integrations:q$(n),transport:n.transport||((0,TS.Ak)()?kq:Lq)});(function J$(n,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Vt.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var e=(0,gi.Gd)(),r=e.getScope();r&&r.update(t.initialScope);var i=new n(t);e.bindClient(i)})(jX,e),n.autoSessionTracking&&function jq(){if(void 0!==(0,mo.R)().document){var e=(0,gi.Gd)();!e.captureSession||(r2(e),(0,Sa.o)("history",({from:r,to:i})=>{void 0===r||r===i||r2((0,gi.Gd)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Vt.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(n)})(Sbe),Lr_production&&function IW(){DI=!1}(),!1===Lr_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(n=>{console[n]=function(){}}),B$().bootstrapModule(B0e).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:ht=>{"use strict";var B=Object.prototype.hasOwnProperty,P="~";function d(){}function O(m,_,p){this.fn=m,this.context=_,this.once=p||!1}function E(m,_,p,f,b){if("function"!=typeof p)throw new TypeError("The listener must be a function");var C=new O(p,f||m,b),h=P?P+_:_;return m._events[h]?m._events[h].fn?m._events[h]=[m._events[h],C]:m._events[h].push(C):(m._events[h]=C,m._eventsCount++),m}function T(m,_){0==--m._eventsCount?m._events=new d:delete m._events[_]}function v(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(P=!1)),v.prototype.eventNames=function(){var p,f,_=[];if(0===this._eventsCount)return _;for(f in p=this._events)B.call(p,f)&&_.push(P?f.slice(1):f);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(p)):_},v.prototype.listeners=function(_){var f=this._events[P?P+_:_];if(!f)return[];if(f.fn)return[f.fn];for(var b=0,C=f.length,h=new Array(C);b<C;b++)h[b]=f[b].fn;return h},v.prototype.listenerCount=function(_){var f=this._events[P?P+_:_];return f?f.fn?1:f.length:0},v.prototype.emit=function(_,p,f,b,C,h){var g=P?P+_:_;if(!this._events[g])return!1;var N,k,S=this._events[g],R=arguments.length;if(S.fn){switch(S.once&&this.removeListener(_,S.fn,void 0,!0),R){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,f),!0;case 4:return S.fn.call(S.context,p,f,b),!0;case 5:return S.fn.call(S.context,p,f,b,C),!0;case 6:return S.fn.call(S.context,p,f,b,C,h),!0}for(k=1,N=new Array(R-1);k<R;k++)N[k-1]=arguments[k];S.fn.apply(S.context,N)}else{var L,H=S.length;for(k=0;k<H;k++)switch(S[k].once&&this.removeListener(_,S[k].fn,void 0,!0),R){case 1:S[k].fn.call(S[k].context);break;case 2:S[k].fn.call(S[k].context,p);break;case 3:S[k].fn.call(S[k].context,p,f);break;case 4:S[k].fn.call(S[k].context,p,f,b);break;default:if(!N)for(L=1,N=new Array(R-1);L<R;L++)N[L-1]=arguments[L];S[k].fn.apply(S[k].context,N)}}return!0},v.prototype.on=function(_,p,f){return E(this,_,p,f,!1)},v.prototype.once=function(_,p,f){return E(this,_,p,f,!0)},v.prototype.removeListener=function(_,p,f,b){var C=P?P+_:_;if(!this._events[C])return this;if(!p)return T(this,C),this;var h=this._events[C];if(h.fn)h.fn===p&&(!b||h.once)&&(!f||h.context===f)&&T(this,C);else{for(var g=0,S=[],R=h.length;g<R;g++)(h[g].fn!==p||b&&!h[g].once||f&&h[g].context!==f)&&S.push(h[g]);S.length?this._events[C]=1===S.length?S[0]:S:T(this,C)}return this},v.prototype.removeAllListeners=function(_){var p;return _?this._events[p=P?P+_:_]&&T(this,p):(this._events=new d,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=P,v.EventEmitter=v,ht.exports=v},9248:(ht,B,P)=>{"use strict";P.d(B,{Gd:()=>g,cu:()=>C});var d=P(5535),O=P(3967),E=P(1446),T=P(7576),v=P(723),m=P(383),_=P(1539),f=100;class b{__init(){this._stack=[{}]}constructor(L,U=new m.s,G=4){this._version=G,b.prototype.__init.call(this),this.getStackTop().scope=U,L&&this.bindClient(L)}isOlderThan(L){return this._version<L}bindClient(L){this.getStackTop().client=L,L&&L.setupIntegrations&&L.setupIntegrations()}pushScope(){var L=m.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:L}),L}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(L){var U=this.pushScope();try{L(U)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(L,U){var G=this._lastEventId=U&&U.event_id?U.event_id:(0,d.DM)(),X=new Error("Sentry syntheticException");return this._withClient((te,z)=>{te.captureException(L,er(We({originalException:L,syntheticException:X},U),{event_id:G}),z)}),G}captureMessage(L,U,G){var X=this._lastEventId=G&&G.event_id?G.event_id:(0,d.DM)(),te=new Error(L);return this._withClient((z,le)=>{z.captureMessage(L,U,er(We({originalException:L,syntheticException:te},G),{event_id:X}),le)}),X}captureEvent(L,U){var G=U&&U.event_id?U.event_id:(0,d.DM)();return"transaction"!==L.type&&(this._lastEventId=G),this._withClient((X,te)=>{X.captureEvent(L,er(We({},U),{event_id:G}),te)}),G}lastEventId(){return this._lastEventId}addBreadcrumb(L,U){const{scope:G,client:X}=this.getStackTop();if(!G||!X)return;const{beforeBreadcrumb:te=null,maxBreadcrumbs:z=f}=X.getOptions&&X.getOptions()||{};if(!(z<=0)){var le=(0,O.yW)(),K=We({timestamp:le},L),he=te?(0,E.Cf)(()=>te(K,U)):K;null!==he&&G.addBreadcrumb(he,z)}}setUser(L){var U=this.getScope();U&&U.setUser(L)}setTags(L){var U=this.getScope();U&&U.setTags(L)}setExtras(L){var U=this.getScope();U&&U.setExtras(L)}setTag(L,U){var G=this.getScope();G&&G.setTag(L,U)}setExtra(L,U){var G=this.getScope();G&&G.setExtra(L,U)}setContext(L,U){var G=this.getScope();G&&G.setContext(L,U)}configureScope(L){const{scope:U,client:G}=this.getStackTop();U&&G&&L(U)}run(L){var U=h(this);try{L(this)}finally{h(U)}}getIntegration(L){var U=this.getClient();if(!U)return null;try{return U.getIntegration(L)}catch(G){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.warn(`Cannot retrieve integration ${L.id} from the current Hub`),null}}startTransaction(L,U){return this._callExtensionMethod("startTransaction",L,U)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(L=!1){if(L)return this.endSession();this._sendSessionUpdate()}endSession(){var L=this.getStackTop(),U=L&&L.scope,G=U&&U.getSession();G&&(0,_.RJ)(G),this._sendSessionUpdate(),U&&U.setSession()}startSession(L){const{scope:U,client:G}=this.getStackTop(),{release:X,environment:te}=G&&G.getOptions()||{};var z=(0,T.R)();const{userAgent:le}=z.navigator||{};var K=(0,_.Hv)(We(We(We({release:X,environment:te},U&&{user:U.getUser()}),le&&{userAgent:le}),L));if(U){var he=U.getSession&&U.getSession();he&&"ok"===he.status&&(0,_.CT)(he,{status:"exited"}),this.endSession(),U.setSession(K)}return K}shouldSendDefaultPii(){var L=this.getClient(),U=L&&L.getOptions();return Boolean(U&&U.sendDefaultPii)}_sendSessionUpdate(){const{scope:L,client:U}=this.getStackTop();if(L){var G=L.getSession();G&&U&&U.captureSession&&U.captureSession(G)}}_withClient(L){const{scope:U,client:G}=this.getStackTop();G&&L(G,U)}_callExtensionMethod(L,...U){var X=C().__SENTRY__;if(X&&X.extensions&&"function"==typeof X.extensions[L])return X.extensions[L].apply(this,U);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.warn(`Extension method ${L} couldn't be found, doing nothing.`)}}function C(){var H=(0,T.R)();return H.__SENTRY__=H.__SENTRY__||{extensions:{},hub:void 0},H}function h(H){var L=C(),U=N(L);return k(L,H),U}function g(){var H=C();return(!R(H)||N(H).isOlderThan(4))&&k(H,new b),(0,v.KV)()?function S(H){try{var L=C().__SENTRY__,U=L&&L.extensions&&L.extensions.domain&&L.extensions.domain.active;if(!U)return N(H);if(!R(U)||N(U).isOlderThan(4)){var G=N(H).getStackTop();k(U,new b(G.client,m.s.clone(G.scope)))}return N(U)}catch(X){return N(H)}}(H):N(H)}function R(H){return!!(H&&H.__SENTRY__&&H.__SENTRY__.hub)}function N(H){return(0,T.Y)("hub",()=>new b,H)}function k(H,L){return!!H&&((H.__SENTRY__=H.__SENTRY__||{}).hub=L,!0)}},383:(ht,B,P)=>{"use strict";P.d(B,{s:()=>f,c:()=>C});var d=P(6412),O=P(3967),E=P(509),T=P(1446),v=P(5535),m=P(7576),_=P(1539);class f{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(g){var S=new f;return g&&(S._breadcrumbs=[...g._breadcrumbs],S._tags=We({},g._tags),S._extra=We({},g._extra),S._contexts=We({},g._contexts),S._user=g._user,S._level=g._level,S._span=g._span,S._session=g._session,S._transactionName=g._transactionName,S._fingerprint=g._fingerprint,S._eventProcessors=[...g._eventProcessors],S._requestSession=g._requestSession,S._attachments=[...g._attachments]),S}addScopeListener(g){this._scopeListeners.push(g)}addEventProcessor(g){return this._eventProcessors.push(g),this}setUser(g){return this._user=g||{},this._session&&(0,_.CT)(this._session,{user:g}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(g){return this._requestSession=g,this}setTags(g){return this._tags=We(We({},this._tags),g),this._notifyScopeListeners(),this}setTag(g,S){return this._tags=er(We({},this._tags),{[g]:S}),this._notifyScopeListeners(),this}setExtras(g){return this._extra=We(We({},this._extra),g),this._notifyScopeListeners(),this}setExtra(g,S){return this._extra=er(We({},this._extra),{[g]:S}),this._notifyScopeListeners(),this}setFingerprint(g){return this._fingerprint=g,this._notifyScopeListeners(),this}setLevel(g){return this._level=g,this._notifyScopeListeners(),this}setTransactionName(g){return this._transactionName=g,this._notifyScopeListeners(),this}setContext(g,S){return null===S?delete this._contexts[g]:this._contexts=er(We({},this._contexts),{[g]:S}),this._notifyScopeListeners(),this}setSpan(g){return this._span=g,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var g=this.getSpan();return g&&g.transaction}setSession(g){return g?this._session=g:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(g){if(!g)return this;if("function"==typeof g){var S=g(this);return S instanceof f?S:this}return g instanceof f?(this._tags=We(We({},this._tags),g._tags),this._extra=We(We({},this._extra),g._extra),this._contexts=We(We({},this._contexts),g._contexts),g._user&&Object.keys(g._user).length&&(this._user=g._user),g._level&&(this._level=g._level),g._fingerprint&&(this._fingerprint=g._fingerprint),g._requestSession&&(this._requestSession=g._requestSession)):(0,d.PO)(g)&&(g=g,this._tags=We(We({},this._tags),g.tags),this._extra=We(We({},this._extra),g.extra),this._contexts=We(We({},this._contexts),g.contexts),g.user&&(this._user=g.user),g.level&&(this._level=g.level),g.fingerprint&&(this._fingerprint=g.fingerprint),g.requestSession&&(this._requestSession=g.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(g,S){var R="number"==typeof S?Math.min(S,100):100;if(R<=0)return this;var N=We({timestamp:(0,O.yW)()},g);return this._breadcrumbs=[...this._breadcrumbs,N].slice(-R),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(g){return this._attachments.push(g),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(g,S={}){if(this._extra&&Object.keys(this._extra).length&&(g.extra=We(We({},this._extra),g.extra)),this._tags&&Object.keys(this._tags).length&&(g.tags=We(We({},this._tags),g.tags)),this._user&&Object.keys(this._user).length&&(g.user=We(We({},this._user),g.user)),this._contexts&&Object.keys(this._contexts).length&&(g.contexts=We(We({},this._contexts),g.contexts)),this._level&&(g.level=this._level),this._transactionName&&(g.transaction=this._transactionName),this._span){g.contexts=We({trace:this._span.getTraceContext()},g.contexts);var R=this._span.transaction&&this._span.transaction.name;R&&(g.tags=We({transaction:R},g.tags))}return this._applyFingerprint(g),g.breadcrumbs=[...g.breadcrumbs||[],...this._breadcrumbs],g.breadcrumbs=g.breadcrumbs.length>0?g.breadcrumbs:void 0,g.sdkProcessingMetadata=We(We({},g.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...b(),...this._eventProcessors],g,S)}setSDKProcessingMetadata(g){return this._sdkProcessingMetadata=We(We({},this._sdkProcessingMetadata),g),this}_notifyEventProcessors(g,S,R,N=0){return new E.cW((k,H)=>{var L=g[N];if(null===S||"function"!=typeof L)k(S);else{var U=L(We({},S),R);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&L.id&&null===U&&T.kg.log(`Event processor "${L.id}" dropped event`),(0,d.J8)(U)?U.then(G=>this._notifyEventProcessors(g,G,R,N+1).then(k)).then(null,H):this._notifyEventProcessors(g,U,R,N+1).then(k).then(null,H)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(g=>{g(this)}),this._notifyingListeners=!1)}_applyFingerprint(g){g.fingerprint=g.fingerprint?(0,v.lE)(g.fingerprint):[],this._fingerprint&&(g.fingerprint=g.fingerprint.concat(this._fingerprint)),g.fingerprint&&!g.fingerprint.length&&delete g.fingerprint}}function b(){return(0,m.Y)("globalEventProcessors",()=>[])}function C(h){b().push(h)}},1539:(ht,B,P)=>{"use strict";P.d(B,{RJ:()=>m,Hv:()=>T,CT:()=>v});var d=P(3967),O=P(5535),E=P(7759);function T(p){var f=(0,d.ph)(),b={sid:(0,O.DM)(),init:!0,timestamp:f,started:f,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function _(p){return(0,E.Jr)({sid:`${p.sid}`,init:p.init,started:new Date(1e3*p.started).toISOString(),timestamp:new Date(1e3*p.timestamp).toISOString(),status:p.status,errors:p.errors,did:"number"==typeof p.did||"string"==typeof p.did?`${p.did}`:void 0,duration:p.duration,attrs:{release:p.release,environment:p.environment,ip_address:p.ipAddress,user_agent:p.userAgent}})}(b)};return p&&v(b,p),b}function v(p,f={}){if(f.user&&(!p.ipAddress&&f.user.ip_address&&(p.ipAddress=f.user.ip_address),!p.did&&!f.did&&(p.did=f.user.id||f.user.email||f.user.username)),p.timestamp=f.timestamp||(0,d.ph)(),f.ignoreDuration&&(p.ignoreDuration=f.ignoreDuration),f.sid&&(p.sid=32===f.sid.length?f.sid:(0,O.DM)()),void 0!==f.init&&(p.init=f.init),!p.did&&f.did&&(p.did=`${f.did}`),"number"==typeof f.started&&(p.started=f.started),p.ignoreDuration)p.duration=void 0;else if("number"==typeof f.duration)p.duration=f.duration;else{var b=p.timestamp-p.started;p.duration=b>=0?b:0}f.release&&(p.release=f.release),f.environment&&(p.environment=f.environment),!p.ipAddress&&f.ipAddress&&(p.ipAddress=f.ipAddress),!p.userAgent&&f.userAgent&&(p.userAgent=f.userAgent),"number"==typeof f.errors&&(p.errors=f.errors),f.status&&(p.status=f.status)}function m(p,f){let b={};f?b={status:f}:"ok"===p.status&&(b={status:"exited"}),v(p,b)}},752:(ht,B,P)=>{"use strict";P.d(B,{ro:()=>H,lb:()=>R});var d=P(9248),O=P(1446),E=P(6412),T=P(723),v=P(3343),m=P(1255);function p(){var L=(0,m.x1)();if(L){var U="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] Transaction: ${U} -> Global error occured`),L.setStatus(U)}}var f=P(9819),b=P(7583);function C(){var L=this.getScope();if(L){var U=L.getSpan();if(U)return{"sentry-trace":U.toTraceparent()}}return{}}function h(L,U,G){if(!(0,m.zu)(U))return L.sampled=!1,L;if(void 0!==L.sampled)return L.setMetadata({transactionSampling:{method:"explicitly_set"}}),L;let X;return"function"==typeof U.tracesSampler?(X=U.tracesSampler(G),L.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(X)}})):void 0!==G.parentSampled?(X=G.parentSampled,L.setMetadata({transactionSampling:{method:"inheritance"}})):(X=U.tracesSampleRate,L.setMetadata({transactionSampling:{method:"client_rate",rate:Number(X)}})),function g(L){return(0,E.i2)(L)||"number"!=typeof L&&"boolean"!=typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(L)} of type ${JSON.stringify(typeof L)}.`),!1):!(L<0||L>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${L}.`),!1)}(X)?X?(L.sampled=Math.random()<X,L.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] starting ${L.op} transaction - ${L.name}`),L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(X)})`),L)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] Discarding transaction because "+("function"==typeof U.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),L.sampled=!1,L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),L.sampled=!1,L)}function S(L,U){var G=this.getClient(),X=G&&G.getOptions()||{};let te=new b.Y(L,this);return te=h(te,X,We({parentSampled:L.parentSampled,transactionContext:L},U)),te.sampled&&te.initSpanRecorder(X._experiments&&X._experiments.maxSpans),te}function R(L,U,G,X,te,z){var le=L.getClient(),K=le&&le.getOptions()||{};let he=new f.io(U,L,G,X,te);return he=h(he,K,We({parentSampled:U.parentSampled,transactionContext:U},z)),he.sampled&&he.initSpanRecorder(K._experiments&&K._experiments.maxSpans),he}function H(){(function N(){var L=(0,d.cu)();!L.__SENTRY__||(L.__SENTRY__.extensions=L.__SENTRY__.extensions||{},L.__SENTRY__.extensions.startTransaction||(L.__SENTRY__.extensions.startTransaction=S),L.__SENTRY__.extensions.traceHeaders||(L.__SENTRY__.extensions.traceHeaders=C))})(),(0,T.KV)()&&function k(){var L=(0,d.cu)();if(L.__SENTRY__){var U={mongodb:()=>new((0,T.l$)(ht,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,T.l$)(ht,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,T.l$)(ht,"./integrations/node/mysql").Mysql),pg:()=>new((0,T.l$)(ht,"./integrations/node/postgres").Postgres)},G=Object.keys(U).filter(X=>!!(0,T.$y)(X)).map(X=>{try{return U[X]()}catch(te){return}}).filter(X=>X);G.length>0&&(L.__SENTRY__.integrations=[...L.__SENTRY__.integrations||[],...G])}}(),function _(){(0,v.o)("error",p),(0,v.o)("unhandledrejection",p)}()}ht=P.hmd(ht)},9819:(ht,B,P)=>{"use strict";P.d(B,{mg:()=>m,nT:()=>v,io:()=>f});var d=P(3967),O=P(1446),E=P(6190),T=P(7583),v=1e3,m=3e4;class p extends E.gB{constructor(h,g,S,R){super(R),this._pushActivity=h,this._popActivity=g,this.transactionSpanId=S}add(h){h.spanId!==this.transactionSpanId&&(h.finish=g=>{h.endTimestamp="number"==typeof g?g:(0,d._I)(),this._popActivity(h.spanId)},void 0===h.endTimestamp&&this._pushActivity(h.spanId)),super.add(h)}}class f extends T.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(h,g,S=v,R=m,N=!1){super(h,g),this._idleHub=g,this._idleTimeout=S,this._finalTimeout=R,this._onScope=N,f.prototype.__init.call(this),f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),N&&(b(g),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),g.configureScope(k=>k.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(h=(0,d._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var g of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*h).toISOString(),this.op),this._beforeFinishCallbacks))g(this,h);this.spanRecorder.spans=this.spanRecorder.spans.filter(S=>{if(S.spanId===this.spanId)return!0;S.endTimestamp||(S.endTimestamp=h,S.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(S,void 0,2)));var R=S.startTimestamp<h;return R||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(S,void 0,2)),R}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&b(this._idleHub),super.finish(h)}registerBeforeFinishCallback(h){this._beforeFinishCallbacks.push(h)}initSpanRecorder(h){this.spanRecorder||(this.spanRecorder=new p(R=>{this._finished||this._pushActivity(R)},R=>{this._finished||this._popActivity(R)},this.spanId,h),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(h){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(h)},this._idleTimeout)}_pushActivity(h){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] pushActivity: ${h}`),this.activities[h]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(h){if(this.activities[h]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`[Tracing] popActivity ${h}`),delete this.activities[h],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var g=(0,d._I)()+this._idleTimeout/1e3;this._startIdleTimeout(g)}}_beat(){if(!this._finished){var h=Object.keys(this.activities).join("");h===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=h,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}function b(C){var h=C.getScope();h&&h.getTransaction()&&h.setSpan(void 0)}},6190:(ht,B,P)=>{"use strict";P.d(B,{Dr:()=>_,gB:()=>m});var d=P(7516),O=P(5535),E=P(3967),T=P(1446),v=P(7759);class m{__init(){this.spans=[]}constructor(b=1e3){m.prototype.__init.call(this),this._maxlen=b}add(b){this.spans.length>this._maxlen?b.spanRecorder=void 0:this.spans.push(b)}}class _{__init2(){this.traceId=(0,O.DM)()}__init3(){this.spanId=(0,O.DM)().substring(16)}__init4(){this.startTimestamp=(0,E._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(b){if(_.prototype.__init2.call(this),_.prototype.__init3.call(this),_.prototype.__init4.call(this),_.prototype.__init5.call(this),_.prototype.__init6.call(this),!b)return this;b.traceId&&(this.traceId=b.traceId),b.spanId&&(this.spanId=b.spanId),b.parentSpanId&&(this.parentSpanId=b.parentSpanId),"sampled"in b&&(this.sampled=b.sampled),b.op&&(this.op=b.op),b.description&&(this.description=b.description),b.data&&(this.data=b.data),b.tags&&(this.tags=b.tags),b.status&&(this.status=b.status),b.startTimestamp&&(this.startTimestamp=b.startTimestamp),b.endTimestamp&&(this.endTimestamp=b.endTimestamp)}startChild(b){var C=new _(er(We({},b),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(C.spanRecorder=this.spanRecorder,C.spanRecorder&&C.spanRecorder.add(C),C.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.transaction){var R=`[Tracing] Starting '${b&&b.op||"< unknown op >"}' span on transaction '${C.transaction.name||"< unknown name >"}' (${C.transaction.spanId}).`;C.transaction.metadata.spanMetadata[C.spanId]={logMessage:R},T.kg.log(R)}return C}setTag(b,C){return this.tags=er(We({},this.tags),{[b]:C}),this}setData(b,C){return this.data=er(We({},this.data),{[b]:C}),this}setStatus(b){return this.status=b,this}setHttpStatus(b){this.setTag("http.status_code",String(b));var C=function p(f){if(f<400&&f>=100)return"ok";if(f>=400&&f<500)switch(f){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(f>=500&&f<600)switch(f){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(b);return"unknown_error"!==C&&this.setStatus(C),this}isSuccess(){return"ok"===this.status}finish(b){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:C}=this.transaction.metadata.spanMetadata[this.spanId];C&&T.kg.log(C.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof b?b:(0,E._I)()}toTraceparent(){let b="";return void 0!==this.sampled&&(b=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${b}`}toContext(){return(0,v.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(b){return this.data=(0,d.h)(b.data,()=>({})),this.description=b.description,this.endTimestamp=b.endTimestamp,this.op=b.op,this.parentSpanId=b.parentSpanId,this.sampled=b.sampled,this.spanId=(0,d.h)(b.spanId,()=>this.spanId),this.startTimestamp=(0,d.h)(b.startTimestamp,()=>this.startTimestamp),this.status=b.status,this.tags=(0,d.h)(b.tags,()=>({})),this.traceId=(0,d.h)(b.traceId,()=>this.traceId),this}getTraceContext(){return(0,v.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,v.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},7583:(ht,B,P)=>{"use strict";P.d(B,{Y:()=>_});var d=P(7516),O=P(9248),E=P(1446),T=P(7759),v=P(9981),m=P(6190);class _ extends m.Dr{__init(){this._measurements={}}constructor(f,b){super(f),_.prototype.__init.call(this),this._hub=b||(0,O.Gd)(),this._name=f.name||"",this.metadata=er(We({},f.metadata),{spanMetadata:{}}),this._trimEnd=f.trimEnd,this.transaction=this}get name(){return this._name}set name(f){this._name=f,this.metadata.source="custom"}setName(f,b="custom"){this.name=f,this.metadata.source=b}initSpanRecorder(f=1e3){this.spanRecorder||(this.spanRecorder=new m.gB(f)),this.spanRecorder.add(this)}setMeasurement(f,b,C=""){this._measurements[f]={value:b,unit:C}}setMetadata(f){this.metadata=We(We({},this.metadata),f)}finish(f){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(f),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var b=this._hub.getClient();return void(b&&b.recordDroppedEvent("sample_rate","transaction"))}var C=this.spanRecorder?this.spanRecorder.spans.filter(R=>R!==this&&R.endTimestamp):[];this._trimEnd&&C.length>0&&(this.endTimestamp=C.reduce((R,N)=>R.endTimestamp&&N.endTimestamp?R.endTimestamp>N.endTimestamp?R:N:R).endTimestamp);var h=this.metadata,g=We({contexts:{trace:this.getTraceContext()},spans:C,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:er(We({},h),{baggage:this.getBaggage()})},h.source&&{transaction_info:{source:h.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),g.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(g)}}toContext(){var f=super.toContext();return(0,T.Jr)(er(We({},f),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(f){return super.updateWithContext(f),this.name=(0,d.h)(f.name,()=>""),this._trimEnd=f.trimEnd,this}getBaggage(){var f=this.metadata.baggage,b=!f||(0,v.Gp)(f)?this._populateBaggageWithSentryValues(f):f;return this.metadata.baggage=b,b}_populateBaggageWithSentryValues(f=(0,v.Hn)({})){var b=this._hub||(0,O.Gd)(),C=b&&b.getClient();if(!C)return f;const{environment:h,release:g}=C.getOptions()||{},{publicKey:S}=C.getDsn()||{};var R=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),N=b.getScope();const{segment:k}=N&&N.getUser()||{};var H=this.metadata.source;return(0,v.Hn)((0,T.Jr)(We({environment:h,release:g,transaction:H&&"url"!==H?this.name:void 0,user_segment:k,public_key:S,trace_id:this.traceId,sample_rate:R},(0,v.Hk)(f))),"",!1)}}},1255:(ht,B,P)=>{"use strict";P.d(B,{x1:()=>E,zu:()=>O,XL:()=>T});var d=P(9248);function O(m){var _=(0,d.Gd)().getClient(),p=m||_&&_.getOptions();return!!p&&("tracesSampleRate"in p||"tracesSampler"in p)}function E(m){var p=(m||(0,d.Gd)()).getScope();return p&&p.getTransaction()}function T(m){return m/1e3}},9981:(ht,B,P)=>{"use strict";P.d(B,{bU:()=>E,Hn:()=>_,Hk:()=>C,Gp:()=>g,J8:()=>k,rg:()=>H});var d=P(6412),O=P(1446),E="baggage",v=/^sentry-/;function _(L,U="",G=!0){return[We({},L),U,G]}function C(L){return L[0]}function g(L){return L[2]}function N(L,U=!1){return!Array.isArray(L)&&!(0,d.HD)(L)||"number"==typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof L,L),_({},"")):((0,d.HD)(L)?L:L.join(",")).split(",").map(X=>X.trim()).filter(X=>""!==X&&(U||v.test(X))).reduce(([X,te],z)=>{const[le,K]=z.split("=");if(v.test(le)){var he=decodeURIComponent(le.split("-")[1]);return[er(We({},X),{[he]:decodeURIComponent(K)}),te,!0]}return[X,""===te?z:`${te},${z}`,!0]},[{},"",!0])}function k(L,U){if(!L&&!U)return"";var G=U&&N(U,!0)||void 0,X=G&&function h(L){return L[1]}(G);return function R(L){return Object.keys(L[0]).reduce((U,G)=>{var X=L[0][G],te=`sentry-${encodeURIComponent(G)}=${encodeURIComponent(X)}`,z=""===U?te:`${U},${te}`;return z.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn(`Not adding key: ${G} with val: ${X} to baggage due to exceeding baggage size limits.`),U):z},L[1])}(_(L&&L[0]||{},X||""))}function H(L,U){var G=N(L||"");return(U||!function b(L){return 0===Object.keys(L[0]).length}(G))&&function S(L){L[2]=!1}(G),G}},6477:(ht,B,P)=>{"use strict";P.d(B,{qT:()=>m,l4:()=>v,Rt:()=>E});var d=P(7576),O=P(6412);function E(_,p){try{let S=_;var C=[];let R=0,N=0;var g=" > ".length;let k;for(;S&&R++<5&&(k=T(S,p),!("html"===k||R>1&&N+C.length*g+k.length>=80));)C.push(k),N+=k.length,S=S.parentNode;return C.reverse().join(" > ")}catch(S){return"<unknown>"}}function T(_,p){var f=_,b=[];let C,h,g,S,R;if(!f||!f.tagName)return"";b.push(f.tagName.toLowerCase());var N=p&&p.length?p.filter(H=>f.getAttribute(H)).map(H=>[H,f.getAttribute(H)]):null;if(N&&N.length)N.forEach(H=>{b.push(`[${H[0]}="${H[1]}"]`)});else if(f.id&&b.push(`#${f.id}`),C=f.className,C&&(0,O.HD)(C))for(h=C.split(/\s+/),R=0;R<h.length;R++)b.push(`.${h[R]}`);var k=["type","name","title","alt"];for(R=0;R<k.length;R++)g=k[R],S=f.getAttribute(g),S&&b.push(`[${g}="${S}"]`);return b.join("")}function v(){var _=(0,d.R)();try{return _.document.location.href}catch(p){return""}}function m(_){var p=(0,d.R)();return p.document&&p.document.querySelector?p.document.querySelector(_):null}},7516:(ht,B,P)=>{"use strict";function d(O,E){return null!=O?O:E()}P.d(B,{h:()=>d})},7576:(ht,B,P)=>{"use strict";P.d(B,{R:()=>E,Y:()=>T});var d=P(723),O={};function E(){return(0,d.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:O}function T(v,m,_){var p=_||E(),f=p.__SENTRY__=p.__SENTRY__||{};return f[v]||(f[v]=m())}},3343:(ht,B,P)=>{"use strict";P.d(B,{o:()=>C});var d=P(7576),O=P(6412),E=P(1446),T=P(7759),v=P(9725),m=P(8204),_=(0,d.R)(),p={},f={};function C(Y,oe){p[Y]=p[Y]||[],p[Y].push(oe),function b(Y){if(!f[Y])switch(f[Y]=!0,Y){case"console":!function g(){"console"in _&&E.RU.forEach(function(Y){Y in _.console&&(0,T.hl)(_.console,Y,function(oe){return function(...J){h("console",{args:J,level:Y}),oe&&oe.apply(_.console,J)}})})}();break;case"dom":!function K(){if("document"in _){var Y=h.bind(null,"dom"),oe=le(Y,!0);_.document.addEventListener("click",oe,!1),_.document.addEventListener("keypress",oe,!1),["EventTarget","Node"].forEach(J=>{var me=_[J]&&_[J].prototype;!me||!me.hasOwnProperty||!me.hasOwnProperty("addEventListener")||((0,T.hl)(me,"addEventListener",function(ie){return function(se,ue,Re){if("click"===se||"keypress"==se)try{var De=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},Et=De[se]=De[se]||{refCount:0};if(!Et.handler){var $e=le(Y);Et.handler=$e,ie.call(this,se,$e,Re)}Et.refCount+=1}catch(Ne){}return ie.call(this,se,ue,Re)}}),(0,T.hl)(me,"removeEventListener",function(ie){return function(se,ue,Re){if("click"===se||"keypress"==se)try{var De=this.__sentry_instrumentation_handlers__||{},Et=De[se];Et&&(Et.refCount-=1,Et.refCount<=0&&(ie.call(this,se,Et.handler,Re),Et.handler=void 0,delete De[se]),0===Object.keys(De).length&&delete this.__sentry_instrumentation_handlers__)}catch($e){}return ie.call(this,se,ue,Re)}}))})}}();break;case"xhr":!function k(){if("XMLHttpRequest"in _){var Y=XMLHttpRequest.prototype;(0,T.hl)(Y,"open",function(oe){return function(...J){var me=this,ie=J[1],se=me.__sentry_xhr__={method:(0,O.HD)(J[0])?J[0].toUpperCase():J[0],url:J[1]};(0,O.HD)(ie)&&"POST"===se.method&&ie.match(/sentry_key/)&&(me.__sentry_own_request__=!0);var ue=function(){if(4===me.readyState){try{se.status_code=me.status}catch(Re){}h("xhr",{args:J,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:me})}};return"onreadystatechange"in me&&"function"==typeof me.onreadystatechange?(0,T.hl)(me,"onreadystatechange",function(Re){return function(...Xe){return ue(),Re.apply(me,Xe)}}):me.addEventListener("readystatechange",ue),oe.apply(me,J)}}),(0,T.hl)(Y,"send",function(oe){return function(...J){return this.__sentry_xhr__&&void 0!==J[0]&&(this.__sentry_xhr__.body=J[0]),h("xhr",{args:J,startTimestamp:Date.now(),xhr:this}),oe.apply(this,J)}})}}();break;case"fetch":!function S(){!(0,m.t$)()||(0,T.hl)(_,"fetch",function(Y){return function(...oe){var J={args:oe,fetchData:{method:R(oe),url:N(oe)},startTimestamp:Date.now()};return h("fetch",We({},J)),Y.apply(_,oe).then(me=>(h("fetch",er(We({},J),{endTimestamp:Date.now(),response:me})),me),me=>{throw h("fetch",er(We({},J),{endTimestamp:Date.now(),error:me})),me})}})}();break;case"history":!function L(){if((0,m.Bf)()){var Y=_.onpopstate;_.onpopstate=function(...J){var me=_.location.href,ie=H;if(H=me,h("history",{from:ie,to:me}),Y)try{return Y.apply(this,J)}catch(se){}},(0,T.hl)(_.history,"pushState",oe),(0,T.hl)(_.history,"replaceState",oe)}function oe(J){return function(...me){var ie=me.length>2?me[2]:void 0;if(ie){var se=H,ue=String(ie);H=ue,h("history",{from:se,to:ue})}return J.apply(this,me)}}}();break;case"error":!function Te(){he=_.onerror,_.onerror=function(Y,oe,J,me,ie){return h("error",{column:me,error:ie,line:J,msg:Y,url:oe}),!!he&&he.apply(this,arguments)}}();break;case"unhandledrejection":!function Le(){be=_.onunhandledrejection,_.onunhandledrejection=function(Y){return h("unhandledrejection",Y),!be||be.apply(this,arguments)}}();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.warn("unknown instrumentation type:",Y))}}(Y)}function h(Y,oe){if(Y&&p[Y])for(var J of p[Y]||[])try{J(oe)}catch(me){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&E.kg.error(`Error while triggering instrumentation handler.\nType: ${Y}\nName: ${(0,v.$P)(J)}\nError:`,me)}}function R(Y=[]){return"Request"in _&&(0,O.V9)(Y[0],Request)&&Y[0].method?String(Y[0].method).toUpperCase():Y[1]&&Y[1].method?String(Y[1].method).toUpperCase():"GET"}function N(Y=[]){return"string"==typeof Y[0]?Y[0]:"Request"in _&&(0,O.V9)(Y[0],Request)?Y[0].url:String(Y[0])}let H,G,X;function le(Y,oe=!1){return J=>{if(J&&X!==J&&!function z(Y){if("keypress"!==Y.type)return!1;try{var oe=Y.target;if(!oe||!oe.tagName)return!0;if("INPUT"===oe.tagName||"TEXTAREA"===oe.tagName||oe.isContentEditable)return!1}catch(J){}return!0}(J)){var me="keypress"===J.type?"input":J.type;(void 0===G||function te(Y,oe){if(!Y||Y.type!==oe.type)return!0;try{if(Y.target!==oe.target)return!0}catch(J){}return!1}(X,J))&&(Y({event:J,name:me,global:oe}),X=J),clearTimeout(G),G=_.setTimeout(()=>{G=void 0},1e3)}}}let he=null,be=null},6412:(ht,B,P)=>{"use strict";P.d(B,{TX:()=>v,fm:()=>m,kK:()=>C,VZ:()=>O,VW:()=>T,cO:()=>b,V9:()=>N,i2:()=>R,PO:()=>f,pt:()=>p,Kj:()=>h,HD:()=>_,Cy:()=>S,J8:()=>g});var d=Object.prototype.toString;function O(k){switch(d.call(k)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return N(k,Error)}}function E(k,H){return d.call(k)===`[object ${H}]`}function T(k){return E(k,"ErrorEvent")}function v(k){return E(k,"DOMError")}function m(k){return E(k,"DOMException")}function _(k){return E(k,"String")}function p(k){return null===k||"object"!=typeof k&&"function"!=typeof k}function f(k){return E(k,"Object")}function b(k){return"undefined"!=typeof Event&&N(k,Event)}function C(k){return"undefined"!=typeof Element&&N(k,Element)}function h(k){return E(k,"RegExp")}function g(k){return Boolean(k&&k.then&&"function"==typeof k.then)}function S(k){return f(k)&&"nativeEvent"in k&&"preventDefault"in k&&"stopPropagation"in k}function R(k){return"number"==typeof k&&k!=k}function N(k,H){try{return k instanceof H}catch(L){return!1}}},1446:(ht,B,P)=>{"use strict";P.d(B,{RU:()=>T,Cf:()=>v,kg:()=>_});var d=P(7576),O=(0,d.R)(),T=["debug","info","warn","error","log","assert","trace"];function v(p){var f=(0,d.R)();if(!("console"in f))return p();var b=f.console,C={};T.forEach(h=>{var g=b[h]&&b[h].__sentry_original__;h in f.console&&g&&(C[h]=b[h],b[h]=g)});try{return p()}finally{Object.keys(C).forEach(h=>{b[h]=C[h]})}}function m(){let p=!1;var f={enable:()=>{p=!0},disable:()=>{p=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?T.forEach(b=>{f[b]=(...C)=>{p&&v(()=>{O.console[b](`Sentry Logger [${b}]:`,...C)})}}):T.forEach(b=>{f[b]=()=>{}}),f}let _;_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,d.Y)("logger",m):m()},5535:(ht,B,P)=>{"use strict";P.d(B,{EG:()=>_,Db:()=>m,lE:()=>h,YO:()=>C,jH:()=>v,DM:()=>E});var d=P(7576),O=P(7759);function E(){var g=(0,d.R)(),S=g.crypto||g.msCrypto;if(S&&S.randomUUID)return S.randomUUID().replace(/-/g,"");var R=S&&S.getRandomValues?()=>S.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,N=>(N^(15&R())>>N/4).toString(16))}function T(g){return g.exception&&g.exception.values?g.exception.values[0]:void 0}function v(g){const{message:S,event_id:R}=g;if(S)return S;var N=T(g);return N?N.type&&N.value?`${N.type}: ${N.value}`:N.type||N.value||R||"<unknown>":R||"<unknown>"}function m(g,S,R){var N=g.exception=g.exception||{},k=N.values=N.values||[],H=k[0]=k[0]||{};H.value||(H.value=S||""),H.type||(H.type=R||"Error")}function _(g,S){var R=T(g);if(R){var k=R.mechanism;if(R.mechanism=We(We(We({},{type:"generic",handled:!0}),k),S),S&&"data"in S){var H=We(We({},k&&k.data),S.data);R.mechanism.data=H}}}function C(g){if(g&&g.__sentry_captured__)return!0;try{(0,O.xp)(g,"__sentry_captured__",!0)}catch(S){}return!1}function h(g){return Array.isArray(g)?g:[g]}},723:(ht,B,P)=>{"use strict";function O(){return!function d(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function E(v,m){return v.require(m)}function T(v){let m;try{m=E(ht,v)}catch(_){}try{const{cwd:_}=E(ht,"process");m=E(ht,`${_()}/node_modules/${v}`)}catch(_){}return m}P.d(B,{l$:()=>E,KV:()=>O,$y:()=>T}),ht=P.hmd(ht)},7759:(ht,B,P)=>{"use strict";P.d(B,{xp:()=>v,Sh:()=>f,Jr:()=>g,zf:()=>h,hl:()=>T,HK:()=>_,$Q:()=>m,_j:()=>p});var d=P(6477),O=P(6412),E=P(1090);function T(N,k,H){if(k in N){var L=N[k],U=H(L);if("function"==typeof U)try{m(U,L)}catch(G){}N[k]=U}}function v(N,k,H){Object.defineProperty(N,k,{value:H,writable:!0,configurable:!0})}function m(N,k){N.prototype=k.prototype=k.prototype||{},v(N,"__sentry_original__",k)}function _(N){return N.__sentry_original__}function p(N){return Object.keys(N).map(k=>`${encodeURIComponent(k)}=${encodeURIComponent(N[k])}`).join("&")}function f(N){if((0,O.VZ)(N))return We({message:N.message,name:N.name,stack:N.stack},C(N));if((0,O.cO)(N)){var k=We({type:N.type,target:b(N.target),currentTarget:b(N.currentTarget)},C(N));return"undefined"!=typeof CustomEvent&&(0,O.V9)(N,CustomEvent)&&(k.detail=N.detail),k}return N}function b(N){try{return(0,O.kK)(N)?(0,d.Rt)(N):Object.prototype.toString.call(N)}catch(k){return"<unknown>"}}function C(N){if("object"==typeof N&&null!==N){var k={};for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&(k[H]=N[H]);return k}return{}}function h(N,k=40){var H=Object.keys(f(N));if(H.sort(),!H.length)return"[object has no keys]";if(H[0].length>=k)return(0,E.$G)(H[0],k);for(let U=H.length;U>0;U--){var L=H.slice(0,U).join(", ");if(!(L.length>k))return U===H.length?L:(0,E.$G)(L,k)}return""}function g(N){return S(N,new Map)}function S(N,k){if((0,O.PO)(N)){if(void 0!==(H=k.get(N)))return H;var L={};for(var U of(k.set(N,L),Object.keys(N)))void 0!==N[U]&&(L[U]=S(N[U],k));return L}var H;return Array.isArray(N)?void 0!==(H=k.get(N))?H:(k.set(N,L=[]),N.forEach(te=>{L.push(S(te,k))}),L):N}},9725:(ht,B,P)=>{"use strict";function O(...f){var b=f.sort((C,h)=>C[0]-h[0]).map(C=>C[1]);return(C,h=0)=>{var g=[];for(var S of C.split("\n").slice(h)){var R=S.replace(/\(error: (.*)\)/,"$1");for(var N of b){var k=N(R);if(k){g.push(k);break}}}return function T(f){if(!f.length)return[];let b=f;var C=b[0].function||"",h=b[b.length-1].function||"";return(-1!==C.indexOf("captureMessage")||-1!==C.indexOf("captureException"))&&(b=b.slice(1)),-1!==h.indexOf("sentryWrapped")&&(b=b.slice(0,-1)),b.slice(0,50).map(g=>er(We({},g),{filename:g.filename||b[0].filename,function:g.function||"?"})).reverse()}(g)}}function E(f){return Array.isArray(f)?O(...f):f}P.d(B,{pE:()=>O,$P:()=>m,Sq:()=>E});var v="<anonymous>";function m(f){try{return f&&"function"==typeof f&&f.name||v}catch(b){return v}}},1090:(ht,B,P)=>{"use strict";P.d(B,{zC:()=>v,nK:()=>T,$G:()=>O});var d=P(6412);function O(_,p=0){return"string"!=typeof _||0===p||_.length<=p?_:`${_.substr(0,p)}...`}function T(_,p){if(!Array.isArray(_))return"";var f=[];for(let C=0;C<_.length;C++){var b=_[C];try{f.push(String(b))}catch(h){f.push("[value cannot be serialized]")}}return f.join(p)}function v(_,p){return!!(0,d.HD)(_)&&((0,d.Kj)(p)?p.test(_):"string"==typeof p&&-1!==_.indexOf(p))}},8204:(ht,B,P)=>{"use strict";P.d(B,{Du:()=>_,Ak:()=>m,Bf:()=>C,t$:()=>p});var d=P(7576),O=P(1446);function m(){if(!("fetch"in(0,d.R)()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(h){return!1}}function _(h){return h&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(h.toString())}function p(){if(!m())return!1;var h=(0,d.R)();if(_(h.fetch))return!0;let g=!1;var S=h.document;if(S&&"function"==typeof S.createElement)try{var R=S.createElement("iframe");R.hidden=!0,S.head.appendChild(R),R.contentWindow&&R.contentWindow.fetch&&(g=_(R.contentWindow.fetch)),S.head.removeChild(R)}catch(N){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&O.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",N)}return g}function C(){var h=(0,d.R)(),g=h.chrome;return!(g&&g.app&&g.app.runtime||!("history"in h)||!h.history.pushState||!h.history.replaceState)}},509:(ht,B,P)=>{"use strict";P.d(B,{cW:()=>v,$2:()=>T,WD:()=>E});var O,m,d=P(6412);function E(m){return new v(_=>{_(m)})}function T(m){return new v((_,p)=>{p(m)})}(m=O||(O={}))[m.PENDING=0]="PENDING",m[m.RESOLVED=1]="RESOLVED",m[m.REJECTED=2]="REJECTED";class v{__init(){this._state=O.PENDING}__init2(){this._handlers=[]}constructor(_){v.prototype.__init.call(this),v.prototype.__init2.call(this),v.prototype.__init3.call(this),v.prototype.__init4.call(this),v.prototype.__init5.call(this),v.prototype.__init6.call(this);try{_(this._resolve,this._reject)}catch(p){this._reject(p)}}then(_,p){return new v((f,b)=>{this._handlers.push([!1,C=>{if(_)try{f(_(C))}catch(h){b(h)}else f(C)},C=>{if(p)try{f(p(C))}catch(h){b(h)}else b(C)}]),this._executeHandlers()})}catch(_){return this.then(p=>p,_)}finally(_){return new v((p,f)=>{let b,C;return this.then(h=>{C=!1,b=h,_&&_()},h=>{C=!0,b=h,_&&_()}).then(()=>{C?f(b):p(b)})})}__init3(){this._resolve=_=>{this._setResult(O.RESOLVED,_)}}__init4(){this._reject=_=>{this._setResult(O.REJECTED,_)}}__init5(){this._setResult=(_,p)=>{if(this._state===O.PENDING){if((0,d.J8)(p))return void p.then(this._resolve,this._reject);this._state=_,this._value=p,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==O.PENDING){var _=this._handlers.slice();this._handlers=[],_.forEach(p=>{p[0]||(this._state===O.RESOLVED&&p[1](this._value),this._state===O.REJECTED&&p[2](this._value),p[0]=!0)})}}}}},3967:(ht,B,P)=>{"use strict";P.d(B,{Z1:()=>g,yW:()=>p,ph:()=>f,_I:()=>b});var d=P(7576),O=P(723);ht=P.hmd(ht);var E={nowSeconds:()=>Date.now()/1e3},m=(0,O.KV)()?function v(){try{return(0,O.l$)(ht,"perf_hooks").performance}catch(R){return}}():function T(){const{performance:S}=(0,d.R)();if(S&&S.now)return{now:()=>S.now(),timeOrigin:Date.now()-S.now()}}(),_=void 0===m?E:{nowSeconds:()=>(m.timeOrigin+m.now())/1e3},p=E.nowSeconds.bind(E),f=_.nowSeconds.bind(_),b=f;let h;var g=(()=>{const{performance:S}=(0,d.R)();if(S&&S.now){var R=36e5,N=S.now(),k=Date.now(),H=S.timeOrigin?Math.abs(S.timeOrigin+N-k):R,L=H<R,U=S.timing&&S.timing.navigationStart,X="number"==typeof U?Math.abs(U+N-k):R;return L||X<R?H<=X?(h="timeOrigin",S.timeOrigin):(h="navigationStart",U):(h="dateNow",k)}h="none"})()},5469:ht=>{"use strict";function B(Y,oe,J){J=J||2;var Re,Xe,De,Et,$e,Ne,ne,me=oe&&oe.length,ie=me?oe[0]*J:Y.length,se=P(Y,0,ie,J,!0),ue=[];if(!se||se.next===se.prev)return ue;if(me&&(se=function _(Y,oe,J,me){var se,ue,De,ie=[];for(se=0,ue=oe.length;se<ue;se++)(De=P(Y,oe[se]*me,se<ue-1?oe[se+1]*me:Y.length,me,!1))===De.next&&(De.steiner=!0),ie.push(R(De));for(ie.sort(p),se=0;se<ie.length;se++)J=d(J=f(ie[se],J),J.next);return J}(Y,oe,se,J)),Y.length>80*J){Re=De=Y[0],Xe=Et=Y[1];for(var ce=J;ce<ie;ce+=J)($e=Y[ce])<Re&&(Re=$e),(Ne=Y[ce+1])<Xe&&(Xe=Ne),$e>De&&(De=$e),Ne>Et&&(Et=Ne);ne=0!==(ne=Math.max(De-Re,Et-Xe))?1/ne:0}return O(se,ue,J,Re,Xe,ne),ue}function P(Y,oe,J,me,ie){var se,ue;if(ie===Le(Y,oe,J,me)>0)for(se=oe;se<J;se+=me)ue=he(se,Y[se],Y[se+1],ue);else for(se=J-me;se>=oe;se-=me)ue=he(se,Y[se],Y[se+1],ue);return ue&&L(ue,ue.next)&&(Te(ue),ue=ue.next),ue}function d(Y,oe){if(!Y)return Y;oe||(oe=Y);var me,J=Y;do{if(me=!1,J.steiner||!L(J,J.next)&&0!==H(J.prev,J,J.next))J=J.next;else{if(Te(J),(J=oe=J.prev)===J.next)break;me=!0}}while(me||J!==oe);return oe}function O(Y,oe,J,me,ie,se,ue){if(Y){!ue&&se&&function h(Y,oe,J,me){var ie=Y;do{null===ie.z&&(ie.z=S(ie.x,ie.y,oe,J,me)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next}while(ie!==Y);ie.prevZ.nextZ=null,ie.prevZ=null,function g(Y){var oe,J,me,ie,se,ue,Re,Xe,De=1;do{for(J=Y,Y=null,se=null,ue=0;J;){for(ue++,me=J,Re=0,oe=0;oe<De&&(Re++,me=me.nextZ);oe++);for(Xe=De;Re>0||Xe>0&&me;)0!==Re&&(0===Xe||!me||J.z<=me.z)?(ie=J,J=J.nextZ,Re--):(ie=me,me=me.nextZ,Xe--),se?se.nextZ=ie:Y=ie,ie.prevZ=se,se=ie;J=me}se.nextZ=null,De*=2}while(ue>1)}(ie)}(Y,me,ie,se);for(var Xe,De,Re=Y;Y.prev!==Y.next;)if(Xe=Y.prev,De=Y.next,se?T(Y,me,ie,se):E(Y))oe.push(Xe.i/J),oe.push(Y.i/J),oe.push(De.i/J),Te(Y),Y=De.next,Re=De.next;else if((Y=De)===Re){ue?1===ue?O(Y=v(d(Y),oe,J),oe,J,me,ie,se,2):2===ue&&m(Y,oe,J,me,ie,se):O(d(Y),oe,J,me,ie,se,1);break}}}function E(Y){var oe=Y.prev,J=Y,me=Y.next;if(H(oe,J,me)>=0)return!1;for(var ie=Y.next.next;ie!==Y.prev;){if(N(oe.x,oe.y,J.x,J.y,me.x,me.y,ie.x,ie.y)&&H(ie.prev,ie,ie.next)>=0)return!1;ie=ie.next}return!0}function T(Y,oe,J,me){var ie=Y.prev,se=Y,ue=Y.next;if(H(ie,se,ue)>=0)return!1;for(var De=ie.x>se.x?ie.x>ue.x?ie.x:ue.x:se.x>ue.x?se.x:ue.x,Et=ie.y>se.y?ie.y>ue.y?ie.y:ue.y:se.y>ue.y?se.y:ue.y,$e=S(ie.x<se.x?ie.x<ue.x?ie.x:ue.x:se.x<ue.x?se.x:ue.x,ie.y<se.y?ie.y<ue.y?ie.y:ue.y:se.y<ue.y?se.y:ue.y,oe,J,me),Ne=S(De,Et,oe,J,me),ne=Y.prevZ,ce=Y.nextZ;ne&&ne.z>=$e&&ce&&ce.z<=Ne;){if(ne!==Y.prev&&ne!==Y.next&&N(ie.x,ie.y,se.x,se.y,ue.x,ue.y,ne.x,ne.y)&&H(ne.prev,ne,ne.next)>=0||(ne=ne.prevZ,ce!==Y.prev&&ce!==Y.next&&N(ie.x,ie.y,se.x,se.y,ue.x,ue.y,ce.x,ce.y)&&H(ce.prev,ce,ce.next)>=0))return!1;ce=ce.nextZ}for(;ne&&ne.z>=$e;){if(ne!==Y.prev&&ne!==Y.next&&N(ie.x,ie.y,se.x,se.y,ue.x,ue.y,ne.x,ne.y)&&H(ne.prev,ne,ne.next)>=0)return!1;ne=ne.prevZ}for(;ce&&ce.z<=Ne;){if(ce!==Y.prev&&ce!==Y.next&&N(ie.x,ie.y,se.x,se.y,ue.x,ue.y,ce.x,ce.y)&&H(ce.prev,ce,ce.next)>=0)return!1;ce=ce.nextZ}return!0}function v(Y,oe,J){var me=Y;do{var ie=me.prev,se=me.next.next;!L(ie,se)&&U(ie,me,me.next,se)&&z(ie,se)&&z(se,ie)&&(oe.push(ie.i/J),oe.push(me.i/J),oe.push(se.i/J),Te(me),Te(me.next),me=Y=se),me=me.next}while(me!==Y);return d(me)}function m(Y,oe,J,me,ie,se){var ue=Y;do{for(var Re=ue.next.next;Re!==ue.prev;){if(ue.i!==Re.i&&k(ue,Re)){var Xe=K(ue,Re);return ue=d(ue,ue.next),Xe=d(Xe,Xe.next),O(ue,oe,J,me,ie,se),void O(Xe,oe,J,me,ie,se)}Re=Re.next}ue=ue.next}while(ue!==Y)}function p(Y,oe){return Y.x-oe.x}function f(Y,oe){var J=function b(Y,oe){var ue,J=oe,me=Y.x,ie=Y.y,se=-1/0;do{if(ie<=J.y&&ie>=J.next.y&&J.next.y!==J.y){var Re=J.x+(ie-J.y)*(J.next.x-J.x)/(J.next.y-J.y);if(Re<=me&&Re>se){if(se=Re,Re===me){if(ie===J.y)return J;if(ie===J.next.y)return J.next}ue=J.x<J.next.x?J:J.next}}J=J.next}while(J!==oe);if(!ue)return null;if(me===se)return ue;var Ne,Xe=ue,De=ue.x,Et=ue.y,$e=1/0;J=ue;do{me>=J.x&&J.x>=De&&me!==J.x&&N(ie<Et?me:se,ie,De,Et,ie<Et?se:me,ie,J.x,J.y)&&(Ne=Math.abs(ie-J.y)/(me-J.x),z(J,Y)&&(Ne<$e||Ne===$e&&(J.x>ue.x||J.x===ue.x&&C(ue,J)))&&(ue=J,$e=Ne)),J=J.next}while(J!==Xe);return ue}(Y,oe);if(!J)return oe;var me=K(J,Y),ie=d(J,J.next);return d(me,me.next),oe===J?ie:oe}function C(Y,oe){return H(Y.prev,Y,oe.prev)<0&&H(oe.next,Y,Y.next)<0}function S(Y,oe,J,me,ie){return(Y=1431655765&((Y=858993459&((Y=252645135&((Y=16711935&((Y=32767*(Y-J)*ie)|Y<<8))|Y<<4))|Y<<2))|Y<<1))|(oe=1431655765&((oe=858993459&((oe=252645135&((oe=16711935&((oe=32767*(oe-me)*ie)|oe<<8))|oe<<4))|oe<<2))|oe<<1))<<1}function R(Y){var oe=Y,J=Y;do{(oe.x<J.x||oe.x===J.x&&oe.y<J.y)&&(J=oe),oe=oe.next}while(oe!==Y);return J}function N(Y,oe,J,me,ie,se,ue,Re){return(ie-ue)*(oe-Re)-(Y-ue)*(se-Re)>=0&&(Y-ue)*(me-Re)-(J-ue)*(oe-Re)>=0&&(J-ue)*(se-Re)-(ie-ue)*(me-Re)>=0}function k(Y,oe){return Y.next.i!==oe.i&&Y.prev.i!==oe.i&&!function te(Y,oe){var J=Y;do{if(J.i!==Y.i&&J.next.i!==Y.i&&J.i!==oe.i&&J.next.i!==oe.i&&U(J,J.next,Y,oe))return!0;J=J.next}while(J!==Y);return!1}(Y,oe)&&(z(Y,oe)&&z(oe,Y)&&function le(Y,oe){var J=Y,me=!1,ie=(Y.x+oe.x)/2,se=(Y.y+oe.y)/2;do{J.y>se!=J.next.y>se&&J.next.y!==J.y&&ie<(J.next.x-J.x)*(se-J.y)/(J.next.y-J.y)+J.x&&(me=!me),J=J.next}while(J!==Y);return me}(Y,oe)&&(H(Y.prev,Y,oe.prev)||H(Y,oe.prev,oe))||L(Y,oe)&&H(Y.prev,Y,Y.next)>0&&H(oe.prev,oe,oe.next)>0)}function H(Y,oe,J){return(oe.y-Y.y)*(J.x-oe.x)-(oe.x-Y.x)*(J.y-oe.y)}function L(Y,oe){return Y.x===oe.x&&Y.y===oe.y}function U(Y,oe,J,me){var ie=X(H(Y,oe,J)),se=X(H(Y,oe,me)),ue=X(H(J,me,Y)),Re=X(H(J,me,oe));return!!(ie!==se&&ue!==Re||0===ie&&G(Y,J,oe)||0===se&&G(Y,me,oe)||0===ue&&G(J,Y,me)||0===Re&&G(J,oe,me))}function G(Y,oe,J){return oe.x<=Math.max(Y.x,J.x)&&oe.x>=Math.min(Y.x,J.x)&&oe.y<=Math.max(Y.y,J.y)&&oe.y>=Math.min(Y.y,J.y)}function X(Y){return Y>0?1:Y<0?-1:0}function z(Y,oe){return H(Y.prev,Y,Y.next)<0?H(Y,oe,Y.next)>=0&&H(Y,Y.prev,oe)>=0:H(Y,oe,Y.prev)<0||H(Y,Y.next,oe)<0}function K(Y,oe){var J=new be(Y.i,Y.x,Y.y),me=new be(oe.i,oe.x,oe.y),ie=Y.next,se=oe.prev;return Y.next=oe,oe.prev=Y,J.next=ie,ie.prev=J,me.next=J,J.prev=me,se.next=me,me.prev=se,me}function he(Y,oe,J,me){var ie=new be(Y,oe,J);return me?(ie.next=me.next,ie.prev=me,me.next.prev=ie,me.next=ie):(ie.prev=ie,ie.next=ie),ie}function Te(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function be(Y,oe,J){this.i=Y,this.x=oe,this.y=J,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Le(Y,oe,J,me){for(var ie=0,se=oe,ue=J-me;se<J;se+=me)ie+=(Y[ue]-Y[se])*(Y[se+1]+Y[ue+1]),ue=se;return ie}ht.exports=B,ht.exports.default=B,B.deviation=function(Y,oe,J,me){var ie=oe&&oe.length,ue=Math.abs(Le(Y,0,ie?oe[0]*J:Y.length,J));if(ie)for(var Re=0,Xe=oe.length;Re<Xe;Re++)ue-=Math.abs(Le(Y,oe[Re]*J,Re<Xe-1?oe[Re+1]*J:Y.length,J));var $e=0;for(Re=0;Re<me.length;Re+=3){var Ne=me[Re]*J,ne=me[Re+1]*J,ce=me[Re+2]*J;$e+=Math.abs((Y[Ne]-Y[ce])*(Y[ne+1]-Y[Ne+1])-(Y[Ne]-Y[ne])*(Y[ce+1]-Y[Ne+1]))}return 0===ue&&0===$e?0:Math.abs(($e-ue)/ue)},B.flatten=function(Y){for(var oe=Y[0][0].length,J={vertices:[],holes:[],dimensions:oe},me=0,ie=0;ie<Y.length;ie++){for(var se=0;se<Y[ie].length;se++)for(var ue=0;ue<oe;ue++)J.vertices.push(Y[ie][se][ue]);ie>0&&J.holes.push(me+=Y[ie-1].length)}return J}},6461:(ht,B)=>{var d;!function(){"use strict";var O=function(){this.init()};O.prototype={init:function(){var h=this||E;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var g=this||E;if(h=parseFloat(h),g.ctx||C(),void 0!==h&&h>=0&&h<=1){if(g._volume=h,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h,E.ctx.currentTime);for(var S=0;S<g._howls.length;S++)if(!g._howls[S]._webAudio)for(var R=g._howls[S]._getSoundIds(),N=0;N<R.length;N++){var k=g._howls[S]._soundById(R[N]);k&&k._node&&(k._node.volume=k._volume*h)}return g}return g._volume},mute:function(h){var g=this||E;g.ctx||C(),g._muted=h,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h?0:g._volume,E.ctx.currentTime);for(var S=0;S<g._howls.length;S++)if(!g._howls[S]._webAudio)for(var R=g._howls[S]._getSoundIds(),N=0;N<R.length;N++){var k=g._howls[S]._soundById(R[N]);k&&k._node&&(k._node.muted=!!h||k._muted)}return g},stop:function(){for(var h=this||E,g=0;g<h._howls.length;g++)h._howls[g].stop();return h},unload:function(){for(var h=this||E,g=h._howls.length-1;g>=0;g--)h._howls[g].unload();return h.usingWebAudio&&h.ctx&&void 0!==h.ctx.close&&(h.ctx.close(),h.ctx=null,C()),h},codecs:function(h){return(this||E)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||E;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(h._canPlayEvent="canplay")}catch(S){h.noAudio=!0}else h.noAudio=!0;try{(new Audio).muted&&(h.noAudio=!0)}catch(S){}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||E,g=null;try{g="undefined"!=typeof Audio?new Audio:null}catch(G){return h}if(!g||"function"!=typeof g.canPlayType)return h;var S=g.canPlayType("audio/mpeg;").replace(/^no$/,""),R=h._navigator?h._navigator.userAgent:"",N=R.match(/OPR\/([0-6].)/g),k=N&&parseInt(N[0].split("/")[1],10)<33,H=-1!==R.indexOf("Safari")&&-1===R.indexOf("Chrome"),L=R.match(/Version\/(.*?) /),U=H&&L&&parseInt(L[1],10)<15;return h._codecs={mp3:!(k||!S&&!g.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!S,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(g.canPlayType('audio/wav; codecs="1"')||g.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(g.canPlayType("audio/x-m4b;")||g.canPlayType("audio/m4b;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(U||!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(U||!g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||E;if(!h._audioUnlocked&&h.ctx){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&44100!==h.ctx.sampleRate&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var g=function(S){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var R=new Audio;R._unlocked=!0,h._releaseHtml5Audio(R)}catch(G){h.noAudio=!0;break}for(var N=0;N<h._howls.length;N++)if(!h._howls[N]._webAudio)for(var k=h._howls[N]._getSoundIds(),H=0;H<k.length;H++){var L=h._howls[N]._soundById(k[H]);L&&L._node&&!L._node._unlocked&&(L._node._unlocked=!0,L._node.load())}h._autoResume();var U=h.ctx.createBufferSource();U.buffer=h._scratchBuffer,U.connect(h.ctx.destination),void 0===U.start?U.noteOn(0):U.start(0),"function"==typeof h.ctx.resume&&h.ctx.resume(),U.onended=function(){U.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",g,!0),document.removeEventListener("touchend",g,!0),document.removeEventListener("click",g,!0),document.removeEventListener("keydown",g,!0);for(var G=0;G<h._howls.length;G++)h._howls[G]._emit("unlock")}};return document.addEventListener("touchstart",g,!0),document.addEventListener("touchend",g,!0),document.addEventListener("click",g,!0),document.addEventListener("keydown",g,!0),h}},_obtainHtml5Audio:function(){var h=this||E;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var g=(new Audio).play();return g&&"undefined"!=typeof Promise&&(g instanceof Promise||"function"==typeof g.then)&&g.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var g=this||E;return h._unlocked&&g._html5AudioPool.push(h),g},_autoSuspend:function(){var h=this;if(h.autoSuspend&&h.ctx&&void 0!==h.ctx.suspend&&E.usingWebAudio){for(var g=0;g<h._howls.length;g++)if(h._howls[g]._webAudio)for(var S=0;S<h._howls[g]._sounds.length;S++)if(!h._howls[g]._sounds[S]._paused)return h;return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var R=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(R,R)}},3e4),h}},_autoResume:function(){var h=this;if(h.ctx&&void 0!==h.ctx.resume&&E.usingWebAudio)return"running"===h.state&&"interrupted"!==h.ctx.state&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):"suspended"===h.state||"running"===h.state&&"interrupted"===h.ctx.state?(h.ctx.resume().then(function(){h.state="running";for(var g=0;g<h._howls.length;g++)h._howls[g]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):"suspending"===h.state&&(h._resumeAfterSuspend=!0),h}};var E=new O,T=function(h){h.src&&0!==h.src.length?this.init(h):console.error("An array of source files must be passed with any new Howl.")};T.prototype={init:function(h){var g=this;return E.ctx||C(),g._autoplay=h.autoplay||!1,g._format="string"!=typeof h.format?h.format:[h.format],g._html5=h.html5||!1,g._muted=h.mute||!1,g._loop=h.loop||!1,g._pool=h.pool||5,g._preload="boolean"!=typeof h.preload&&"metadata"!==h.preload||h.preload,g._rate=h.rate||1,g._sprite=h.sprite||{},g._src="string"!=typeof h.src?h.src:[h.src],g._volume=void 0!==h.volume?h.volume:1,g._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:!(!h.xhr||!h.xhr.withCredentials)&&h.xhr.withCredentials},g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=h.onend?[{fn:h.onend}]:[],g._onfade=h.onfade?[{fn:h.onfade}]:[],g._onload=h.onload?[{fn:h.onload}]:[],g._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],g._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],g._onpause=h.onpause?[{fn:h.onpause}]:[],g._onplay=h.onplay?[{fn:h.onplay}]:[],g._onstop=h.onstop?[{fn:h.onstop}]:[],g._onmute=h.onmute?[{fn:h.onmute}]:[],g._onvolume=h.onvolume?[{fn:h.onvolume}]:[],g._onrate=h.onrate?[{fn:h.onrate}]:[],g._onseek=h.onseek?[{fn:h.onseek}]:[],g._onunlock=h.onunlock?[{fn:h.onunlock}]:[],g._onresume=[],g._webAudio=E.usingWebAudio&&!g._html5,void 0!==E.ctx&&E.ctx&&E.autoUnlock&&E._unlockAudio(),E._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&"none"!==g._preload&&g.load(),g},load:function(){var h=this,g=null;if(E.noAudio)h._emit("loaderror",null,"No audio support.");else{"string"==typeof h._src&&(h._src=[h._src]);for(var S=0;S<h._src.length;S++){var R,N;if(h._format&&h._format[S])R=h._format[S];else{if("string"!=typeof(N=h._src[S])){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(R=/^data:audio\/([^;,]+);/i.exec(N))||(R=/\.([^.]+)$/.exec(N.split("?",1)[0])),R&&(R=R[1].toLowerCase())}if(R||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),R&&E.codecs(R)){g=h._src[S];break}}if(g)return h._src=g,h._state="loading","https:"===window.location.protocol&&"http:"===g.slice(0,5)&&(h._html5=!0,h._webAudio=!1),new v(h),h._webAudio&&_(h),h;h._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(h,g){var S=this,R=null;if("number"==typeof h)R=h,h=null;else{if("string"==typeof h&&"loaded"===S._state&&!S._sprite[h])return null;if(void 0===h&&(h="__default",!S._playLock)){for(var N=0,k=0;k<S._sounds.length;k++)S._sounds[k]._paused&&!S._sounds[k]._ended&&(N++,R=S._sounds[k]._id);1===N?h=null:R=null}}var H=R?S._soundById(R):S._inactiveSound();if(!H)return null;if(R&&!h&&(h=H._sprite||"__default"),"loaded"!==S._state){H._sprite=h,H._ended=!1;var L=H._id;return S._queue.push({event:"play",action:function(){S.play(L)}}),L}if(R&&!H._paused)return g||S._loadQueue("play"),H._id;S._webAudio&&E._autoResume();var U=Math.max(0,H._seek>0?H._seek:S._sprite[h][0]/1e3),G=Math.max(0,(S._sprite[h][0]+S._sprite[h][1])/1e3-U),X=1e3*G/Math.abs(H._rate),te=S._sprite[h][0]/1e3,z=(S._sprite[h][0]+S._sprite[h][1])/1e3;H._sprite=h,H._ended=!1;var le=function(){H._paused=!1,H._seek=U,H._start=te,H._stop=z,H._loop=!(!H._loop&&!S._sprite[h][2])};if(!(U>=z)){var K=H._node;if(S._webAudio){var he=function(){S._playLock=!1,le(),S._refreshBuffer(H),K.gain.setValueAtTime(H._muted||S._muted?0:H._volume,E.ctx.currentTime),H._playStart=E.ctx.currentTime,void 0===K.bufferSource.start?K.bufferSource.noteGrainOn(0,U,H._loop?86400:G):K.bufferSource.start(0,U,H._loop?86400:G),X!==1/0&&(S._endTimers[H._id]=setTimeout(S._ended.bind(S,H),X)),g||setTimeout(function(){S._emit("play",H._id),S._loadQueue()},0)};"running"===E.state&&"interrupted"!==E.ctx.state?he():(S._playLock=!0,S.once("resume",he),S._clearTimer(H._id))}else{var Te=function(){K.currentTime=U,K.muted=H._muted||S._muted||E._muted||K.muted,K.volume=H._volume*E.volume(),K.playbackRate=H._rate;try{var Y=K.play();if(Y&&"undefined"!=typeof Promise&&(Y instanceof Promise||"function"==typeof Y.then)?(S._playLock=!0,le(),Y.then(function(){S._playLock=!1,K._unlocked=!0,g?S._loadQueue():S._emit("play",H._id)}).catch(function(){S._playLock=!1,S._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),H._ended=!0,H._paused=!0})):g||(S._playLock=!1,le(),S._emit("play",H._id)),K.playbackRate=H._rate,K.paused)return void S._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==h||H._loop?S._endTimers[H._id]=setTimeout(S._ended.bind(S,H),X):(S._endTimers[H._id]=function(){S._ended(H),K.removeEventListener("ended",S._endTimers[H._id],!1)},K.addEventListener("ended",S._endTimers[H._id],!1))}catch(oe){S._emit("playerror",H._id,oe)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===K.src&&(K.src=S._src,K.load());var be=window&&window.ejecta||!K.readyState&&E._navigator.isCocoonJS;if(K.readyState>=3||be)Te();else{S._playLock=!0,S._state="loading";var Le=function(){S._state="loaded",Te(),K.removeEventListener(E._canPlayEvent,Le,!1)};K.addEventListener(E._canPlayEvent,Le,!1),S._clearTimer(H._id)}}return H._id}S._ended(H)},pause:function(h){var g=this;if("loaded"!==g._state||g._playLock)return g._queue.push({event:"pause",action:function(){g.pause(h)}}),g;for(var S=g._getSoundIds(h),R=0;R<S.length;R++){g._clearTimer(S[R]);var N=g._soundById(S[R]);if(N&&!N._paused&&(N._seek=g.seek(S[R]),N._rateSeek=0,N._paused=!0,g._stopFade(S[R]),N._node))if(g._webAudio){if(!N._node.bufferSource)continue;void 0===N._node.bufferSource.stop?N._node.bufferSource.noteOff(0):N._node.bufferSource.stop(0),g._cleanBuffer(N._node)}else(!isNaN(N._node.duration)||N._node.duration===1/0)&&N._node.pause();arguments[1]||g._emit("pause",N?N._id:null)}return g},stop:function(h,g){var S=this;if("loaded"!==S._state||S._playLock)return S._queue.push({event:"stop",action:function(){S.stop(h)}}),S;for(var R=S._getSoundIds(h),N=0;N<R.length;N++){S._clearTimer(R[N]);var k=S._soundById(R[N]);k&&(k._seek=k._start||0,k._rateSeek=0,k._paused=!0,k._ended=!0,S._stopFade(R[N]),k._node&&(S._webAudio?k._node.bufferSource&&(void 0===k._node.bufferSource.stop?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),S._cleanBuffer(k._node)):(!isNaN(k._node.duration)||k._node.duration===1/0)&&(k._node.currentTime=k._start||0,k._node.pause(),k._node.duration===1/0&&S._clearSound(k._node))),g||S._emit("stop",k._id))}return S},mute:function(h,g){var S=this;if("loaded"!==S._state||S._playLock)return S._queue.push({event:"mute",action:function(){S.mute(h,g)}}),S;if(void 0===g){if("boolean"!=typeof h)return S._muted;S._muted=h}for(var R=S._getSoundIds(g),N=0;N<R.length;N++){var k=S._soundById(R[N]);k&&(k._muted=h,k._interval&&S._stopFade(k._id),S._webAudio&&k._node?k._node.gain.setValueAtTime(h?0:k._volume,E.ctx.currentTime):k._node&&(k._node.muted=!!E._muted||h),S._emit("mute",k._id))}return S},volume:function(){var S,R,H,h=this,g=arguments;if(0===g.length)return h._volume;if(1===g.length||2===g.length&&void 0===g[1]){var N=h._getSoundIds(),k=N.indexOf(g[0]);k>=0?R=parseInt(g[0],10):S=parseFloat(g[0])}else g.length>=2&&(S=parseFloat(g[0]),R=parseInt(g[1],10));if(!(void 0!==S&&S>=0&&S<=1))return(H=R?h._soundById(R):h._sounds[0])?H._volume:0;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,g)}}),h;void 0===R&&(h._volume=S),R=h._getSoundIds(R);for(var L=0;L<R.length;L++)(H=h._soundById(R[L]))&&(H._volume=S,g[2]||h._stopFade(R[L]),h._webAudio&&H._node&&!H._muted?H._node.gain.setValueAtTime(S,E.ctx.currentTime):H._node&&!H._muted&&(H._node.volume=S*E.volume()),h._emit("volume",H._id));return h},fade:function(h,g,S,R){var N=this;if("loaded"!==N._state||N._playLock)return N._queue.push({event:"fade",action:function(){N.fade(h,g,S,R)}}),N;h=Math.min(Math.max(0,parseFloat(h)),1),g=Math.min(Math.max(0,parseFloat(g)),1),S=parseFloat(S),N.volume(h,R);for(var k=N._getSoundIds(R),H=0;H<k.length;H++){var L=N._soundById(k[H]);if(L){if(R||N._stopFade(k[H]),N._webAudio&&!L._muted){var U=E.ctx.currentTime,G=U+S/1e3;L._volume=h,L._node.gain.setValueAtTime(h,U),L._node.gain.linearRampToValueAtTime(g,G)}N._startFadeInterval(L,h,g,S,k[H],void 0===R)}}return N},_startFadeInterval:function(h,g,S,R,N,k){var H=this,L=g,U=S-g,G=Math.abs(U/.01),X=Math.max(4,G>0?R/G:R),te=Date.now();h._fadeTo=S,h._interval=setInterval(function(){var z=(Date.now()-te)/R;te=Date.now(),L+=U*z,L=Math.round(100*L)/100,L=U<0?Math.max(S,L):Math.min(S,L),H._webAudio?h._volume=L:H.volume(L,h._id,!0),k&&(H._volume=L),(S<g&&L<=S||S>g&&L>=S)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,H.volume(S,h._id),H._emit("fade",h._id))},X)},_stopFade:function(h){var g=this,S=g._soundById(h);return S&&S._interval&&(g._webAudio&&S._node.gain.cancelScheduledValues(E.ctx.currentTime),clearInterval(S._interval),S._interval=null,g.volume(S._fadeTo,h),S._fadeTo=null,g._emit("fade",h)),g},loop:function(){var S,R,N,h=this,g=arguments;if(0===g.length)return h._loop;if(1===g.length){if("boolean"!=typeof g[0])return!!(N=h._soundById(parseInt(g[0],10)))&&N._loop;h._loop=S=g[0]}else 2===g.length&&(S=g[0],R=parseInt(g[1],10));for(var k=h._getSoundIds(R),H=0;H<k.length;H++)(N=h._soundById(k[H]))&&(N._loop=S,h._webAudio&&N._node&&N._node.bufferSource&&(N._node.bufferSource.loop=S,S&&(N._node.bufferSource.loopStart=N._start||0,N._node.bufferSource.loopEnd=N._stop,h.playing(k[H])&&(h.pause(k[H],!0),h.play(k[H],!0)))));return h},rate:function(){var S,R,H,h=this,g=arguments;if(0===g.length)R=h._sounds[0]._id;else if(1===g.length){var N=h._getSoundIds(),k=N.indexOf(g[0]);k>=0?R=parseInt(g[0],10):S=parseFloat(g[0])}else 2===g.length&&(S=parseFloat(g[0]),R=parseInt(g[1],10));if("number"!=typeof S)return(H=h._soundById(R))?H._rate:h._rate;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,g)}}),h;void 0===R&&(h._rate=S),R=h._getSoundIds(R);for(var L=0;L<R.length;L++)if(H=h._soundById(R[L])){h.playing(R[L])&&(H._rateSeek=h.seek(R[L]),H._playStart=h._webAudio?E.ctx.currentTime:H._playStart),H._rate=S,h._webAudio&&H._node&&H._node.bufferSource?H._node.bufferSource.playbackRate.setValueAtTime(S,E.ctx.currentTime):H._node&&(H._node.playbackRate=S);var U=h.seek(R[L]),G=(h._sprite[H._sprite][0]+h._sprite[H._sprite][1])/1e3-U,X=1e3*G/Math.abs(H._rate);(h._endTimers[R[L]]||!H._paused)&&(h._clearTimer(R[L]),h._endTimers[R[L]]=setTimeout(h._ended.bind(h,H),X)),h._emit("rate",H._id)}return h},seek:function(){var S,R,h=this,g=arguments;if(0===g.length)h._sounds.length&&(R=h._sounds[0]._id);else if(1===g.length){var N=h._getSoundIds(),k=N.indexOf(g[0]);k>=0?R=parseInt(g[0],10):h._sounds.length&&(R=h._sounds[0]._id,S=parseFloat(g[0]))}else 2===g.length&&(S=parseFloat(g[0]),R=parseInt(g[1],10));if(void 0===R)return 0;if("number"==typeof S&&("loaded"!==h._state||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,g)}}),h;var H=h._soundById(R);if(H){if(!("number"==typeof S&&S>=0)){if(h._webAudio){var X=h.playing(R)?E.ctx.currentTime-H._playStart:0,te=H._rateSeek?H._rateSeek-H._seek:0;return H._seek+(te+X*Math.abs(H._rate))}return H._node.currentTime}var L=h.playing(R);L&&h.pause(R,!0),H._seek=S,H._ended=!1,h._clearTimer(R),!h._webAudio&&H._node&&!isNaN(H._node.duration)&&(H._node.currentTime=S);var U=function(){L&&h.play(R,!0),h._emit("seek",R)};if(L&&!h._webAudio){var G=function(){h._playLock?setTimeout(G,0):U()};setTimeout(G,0)}else U()}return h},playing:function(h){var g=this;if("number"==typeof h){var S=g._soundById(h);return!!S&&!S._paused}for(var R=0;R<g._sounds.length;R++)if(!g._sounds[R]._paused)return!0;return!1},duration:function(h){var g=this,S=g._duration,R=g._soundById(h);return R&&(S=g._sprite[R._sprite][1]/1e3),S},state:function(){return this._state},unload:function(){for(var h=this,g=h._sounds,S=0;S<g.length;S++)g[S]._paused||h.stop(g[S]._id),h._webAudio||(h._clearSound(g[S]._node),g[S]._node.removeEventListener("error",g[S]._errorFn,!1),g[S]._node.removeEventListener(E._canPlayEvent,g[S]._loadFn,!1),g[S]._node.removeEventListener("ended",g[S]._endFn,!1),E._releaseHtml5Audio(g[S]._node)),delete g[S]._node,h._clearTimer(g[S]._id);var R=E._howls.indexOf(h);R>=0&&E._howls.splice(R,1);var N=!0;for(S=0;S<E._howls.length;S++)if(E._howls[S]._src===h._src||h._src.indexOf(E._howls[S]._src)>=0){N=!1;break}return m&&N&&delete m[h._src],E.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,g,S,R){return"function"==typeof g&&this["_on"+h].push(R?{id:S,fn:g,once:R}:{id:S,fn:g}),this},off:function(h,g,S){var R=this,N=R["_on"+h],k=0;if("number"==typeof g&&(S=g,g=null),g||S)for(k=0;k<N.length;k++){var H=S===N[k].id;if(g===N[k].fn&&H||!g&&H){N.splice(k,1);break}}else if(h)R["_on"+h]=[];else{var L=Object.keys(R);for(k=0;k<L.length;k++)0===L[k].indexOf("_on")&&Array.isArray(R[L[k]])&&(R[L[k]]=[])}return R},once:function(h,g,S){return this.on(h,g,S,1),this},_emit:function(h,g,S){for(var R=this,N=R["_on"+h],k=N.length-1;k>=0;k--)(!N[k].id||N[k].id===g||"load"===h)&&(setTimeout(function(H){H.call(this,g,S)}.bind(R,N[k].fn),0),N[k].once&&R.off(h,N[k].fn,N[k].id));return R._loadQueue(h),R},_loadQueue:function(h){var g=this;if(g._queue.length>0){var S=g._queue[0];S.event===h&&(g._queue.shift(),g._loadQueue()),h||S.action()}return g},_ended:function(h){var g=this,S=h._sprite;if(!g._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(g._ended.bind(g,h),100),g;var R=!(!h._loop&&!g._sprite[S][2]);if(g._emit("end",h._id),!g._webAudio&&R&&g.stop(h._id,!0).play(h._id),g._webAudio&&R){g._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=E.ctx.currentTime;var N=1e3*(h._stop-h._start)/Math.abs(h._rate);g._endTimers[h._id]=setTimeout(g._ended.bind(g,h),N)}return g._webAudio&&!R&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,g._clearTimer(h._id),g._cleanBuffer(h._node),E._autoSuspend()),!g._webAudio&&!R&&g.stop(h._id,!0),g},_clearTimer:function(h){var g=this;if(g._endTimers[h]){if("function"!=typeof g._endTimers[h])clearTimeout(g._endTimers[h]);else{var S=g._soundById(h);S&&S._node&&S._node.removeEventListener("ended",g._endTimers[h],!1)}delete g._endTimers[h]}return g},_soundById:function(h){for(var g=this,S=0;S<g._sounds.length;S++)if(h===g._sounds[S]._id)return g._sounds[S];return null},_inactiveSound:function(){var h=this;h._drain();for(var g=0;g<h._sounds.length;g++)if(h._sounds[g]._ended)return h._sounds[g].reset();return new v(h)},_drain:function(){var h=this,g=h._pool,S=0,R=0;if(!(h._sounds.length<g)){for(R=0;R<h._sounds.length;R++)h._sounds[R]._ended&&S++;for(R=h._sounds.length-1;R>=0;R--){if(S<=g)return;h._sounds[R]._ended&&(h._webAudio&&h._sounds[R]._node&&h._sounds[R]._node.disconnect(0),h._sounds.splice(R,1),S--)}}},_getSoundIds:function(h){if(void 0===h){for(var S=[],R=0;R<this._sounds.length;R++)S.push(this._sounds[R]._id);return S}return[h]},_refreshBuffer:function(h){return h._node.bufferSource=E.ctx.createBufferSource(),h._node.bufferSource.buffer=m[this._src],h._node.bufferSource.connect(h._panner?h._panner:h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,E.ctx.currentTime),this},_cleanBuffer:function(h){var S=E._navigator&&E._navigator.vendor.indexOf("Apple")>=0;if(E._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),S))try{h.bufferSource.buffer=E._scratchBuffer}catch(R){}return h.bufferSource=null,this},_clearSound:function(h){/MSIE |Trident\//.test(E._navigator&&E._navigator.userAgent)||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var v=function(h){this._parent=h,this.init()};v.prototype={init:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++E._counter,g._sounds.push(h),h.create(),h},create:function(){var h=this,g=h._parent,S=E._muted||h._muted||h._parent._muted?0:h._volume;return g._webAudio?(h._node=void 0===E.ctx.createGain?E.ctx.createGainNode():E.ctx.createGain(),h._node.gain.setValueAtTime(S,E.ctx.currentTime),h._node.paused=!0,h._node.connect(E.masterGain)):E.noAudio||(h._node=E._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(E._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=g._src,h._node.preload=!0===g._preload?"auto":g._preload,h._node.volume=S*E.volume(),h._node.load()),h},reset:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++E._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,g=h._parent;g._duration=Math.ceil(10*h._node.duration)/10,0===Object.keys(g._sprite).length&&(g._sprite={__default:[0,1e3*g._duration]}),"loaded"!==g._state&&(g._state="loaded",g._emit("load"),g._loadQueue()),h._node.removeEventListener(E._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,g=h._parent;g._duration===1/0&&(g._duration=Math.ceil(10*h._node.duration)/10,g._sprite.__default[1]===1/0&&(g._sprite.__default[1]=1e3*g._duration),g._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var m={},_=function(h){var g=h._src;if(m[g])return h._duration=m[g].duration,void b(h);if(/^data:[^;]+;base64,/.test(g)){for(var S=atob(g.split(",")[1]),R=new Uint8Array(S.length),N=0;N<S.length;++N)R[N]=S.charCodeAt(N);f(R.buffer,h)}else{var k=new XMLHttpRequest;k.open(h._xhr.method,g,!0),k.withCredentials=h._xhr.withCredentials,k.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(H){k.setRequestHeader(H,h._xhr.headers[H])}),k.onload=function(){var H=(k.status+"")[0];"0"===H||"2"===H||"3"===H?f(k.response,h):h._emit("loaderror",null,"Failed loading audio file with status: "+k.status+".")},k.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete m[g],h.load())},p(k)}},p=function(h){try{h.send()}catch(g){h.onerror()}},f=function(h,g){var S=function(){g._emit("loaderror",null,"Decoding audio data failed.")},R=function(N){N&&g._sounds.length>0?(m[g._src]=N,b(g,N)):S()};"undefined"!=typeof Promise&&1===E.ctx.decodeAudioData.length?E.ctx.decodeAudioData(h).then(R).catch(S):E.ctx.decodeAudioData(h,R,S)},b=function(h,g){g&&!h._duration&&(h._duration=g.duration),0===Object.keys(h._sprite).length&&(h._sprite={__default:[0,1e3*h._duration]}),"loaded"!==h._state&&(h._state="loaded",h._emit("load"),h._loadQueue())},C=function(){if(E.usingWebAudio){try{"undefined"!=typeof AudioContext?E.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?E.ctx=new webkitAudioContext:E.usingWebAudio=!1}catch(N){E.usingWebAudio=!1}E.ctx||(E.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(E._navigator&&E._navigator.platform),g=E._navigator&&E._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),S=g?parseInt(g[1],10):null;if(h&&S&&S<9){var R=/safari/.test(E._navigator&&E._navigator.userAgent.toLowerCase());E._navigator&&!R&&(E.usingWebAudio=!1)}E.usingWebAudio&&(E.masterGain=void 0===E.ctx.createGain?E.ctx.createGainNode():E.ctx.createGain(),E.masterGain.gain.setValueAtTime(E._muted?0:E._volume,E.ctx.currentTime),E.masterGain.connect(E.ctx.destination)),E._setup()}};void 0!==(d=function(){return{Howler:E,Howl:T}}.apply(B,[]))&&(ht.exports=d),B.Howler=E,B.Howl=T,"undefined"!=typeof global?(global.HowlerGlobal=O,global.Howler=E,global.Howl=T,global.Sound=v):"undefined"!=typeof window&&(window.HowlerGlobal=O,window.Howler=E,window.Howl=T,window.Sound=v)}(),function(){"use strict";var E;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(E){var T=this;if(!T.ctx||!T.ctx.listener)return T;for(var v=T._howls.length-1;v>=0;v--)T._howls[v].stereo(E);return T},HowlerGlobal.prototype.pos=function(E,T,v){var m=this;return m.ctx&&m.ctx.listener?"number"!=typeof E?m._pos:(m._pos=[E,T="number"!=typeof T?m._pos[1]:T,v="number"!=typeof v?m._pos[2]:v],void 0!==m.ctx.listener.positionX?(m.ctx.listener.positionX.setTargetAtTime(m._pos[0],Howler.ctx.currentTime,.1),m.ctx.listener.positionY.setTargetAtTime(m._pos[1],Howler.ctx.currentTime,.1),m.ctx.listener.positionZ.setTargetAtTime(m._pos[2],Howler.ctx.currentTime,.1)):m.ctx.listener.setPosition(m._pos[0],m._pos[1],m._pos[2]),m):m},HowlerGlobal.prototype.orientation=function(E,T,v,m,_,p){var f=this;if(!f.ctx||!f.ctx.listener)return f;var b=f._orientation;return"number"!=typeof E?b:(f._orientation=[E,T="number"!=typeof T?b[1]:T,v="number"!=typeof v?b[2]:v,m="number"!=typeof m?b[3]:m,_="number"!=typeof _?b[4]:_,p="number"!=typeof p?b[5]:p],void 0!==f.ctx.listener.forwardX?(f.ctx.listener.forwardX.setTargetAtTime(E,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(T,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(v,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(m,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(_,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(E,T,v,m,_,p),f)},Howl.prototype.init=(E=Howl.prototype.init,function(T){var v=this;return v._orientation=T.orientation||[1,0,0],v._stereo=T.stereo||null,v._pos=T.pos||null,v._pannerAttr={coneInnerAngle:void 0!==T.coneInnerAngle?T.coneInnerAngle:360,coneOuterAngle:void 0!==T.coneOuterAngle?T.coneOuterAngle:360,coneOuterGain:void 0!==T.coneOuterGain?T.coneOuterGain:0,distanceModel:void 0!==T.distanceModel?T.distanceModel:"inverse",maxDistance:void 0!==T.maxDistance?T.maxDistance:1e4,panningModel:void 0!==T.panningModel?T.panningModel:"HRTF",refDistance:void 0!==T.refDistance?T.refDistance:1,rolloffFactor:void 0!==T.rolloffFactor?T.rolloffFactor:1},v._onstereo=T.onstereo?[{fn:T.onstereo}]:[],v._onpos=T.onpos?[{fn:T.onpos}]:[],v._onorientation=T.onorientation?[{fn:T.onorientation}]:[],E.call(this,T)}),Howl.prototype.stereo=function(E,T){var v=this;if(!v._webAudio)return v;if("loaded"!==v._state)return v._queue.push({event:"stereo",action:function(){v.stereo(E,T)}}),v;var m=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===T){if("number"!=typeof E)return v._stereo;v._stereo=E,v._pos=[E,0,0]}for(var _=v._getSoundIds(T),p=0;p<_.length;p++){var f=v._soundById(_[p]);if(f){if("number"!=typeof E)return f._stereo;f._stereo=E,f._pos=[E,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&O(f,m),"spatial"===m?void 0!==f._panner.positionX?(f._panner.positionX.setValueAtTime(E,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(E,0,0):f._panner.pan.setValueAtTime(E,Howler.ctx.currentTime)),v._emit("stereo",f._id)}}return v},Howl.prototype.pos=function(E,T,v,m){var _=this;if(!_._webAudio)return _;if("loaded"!==_._state)return _._queue.push({event:"pos",action:function(){_.pos(E,T,v,m)}}),_;if(T="number"!=typeof T?0:T,v="number"!=typeof v?-.5:v,void 0===m){if("number"!=typeof E)return _._pos;_._pos=[E,T,v]}for(var p=_._getSoundIds(m),f=0;f<p.length;f++){var b=_._soundById(p[f]);if(b){if("number"!=typeof E)return b._pos;b._pos=[E,T,v],b._node&&((!b._panner||b._panner.pan)&&O(b,"spatial"),void 0!==b._panner.positionX?(b._panner.positionX.setValueAtTime(E,Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(T,Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(v,Howler.ctx.currentTime)):b._panner.setPosition(E,T,v)),_._emit("pos",b._id)}}return _},Howl.prototype.orientation=function(E,T,v,m){var _=this;if(!_._webAudio)return _;if("loaded"!==_._state)return _._queue.push({event:"orientation",action:function(){_.orientation(E,T,v,m)}}),_;if(T="number"!=typeof T?_._orientation[1]:T,v="number"!=typeof v?_._orientation[2]:v,void 0===m){if("number"!=typeof E)return _._orientation;_._orientation=[E,T,v]}for(var p=_._getSoundIds(m),f=0;f<p.length;f++){var b=_._soundById(p[f]);if(b){if("number"!=typeof E)return b._orientation;b._orientation=[E,T,v],b._node&&(b._panner||(b._pos||(b._pos=_._pos||[0,0,-.5]),O(b,"spatial")),void 0!==b._panner.orientationX?(b._panner.orientationX.setValueAtTime(E,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(T,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(v,Howler.ctx.currentTime)):b._panner.setOrientation(E,T,v)),_._emit("orientation",b._id)}}return _},Howl.prototype.pannerAttr=function(){var v,m,_,E=this,T=arguments;if(!E._webAudio)return E;if(0===T.length)return E._pannerAttr;if(1===T.length){if("object"!=typeof T[0])return(_=E._soundById(parseInt(T[0],10)))?_._pannerAttr:E._pannerAttr;v=T[0],void 0===m&&(v.pannerAttr||(v.pannerAttr={coneInnerAngle:v.coneInnerAngle,coneOuterAngle:v.coneOuterAngle,coneOuterGain:v.coneOuterGain,distanceModel:v.distanceModel,maxDistance:v.maxDistance,refDistance:v.refDistance,rolloffFactor:v.rolloffFactor,panningModel:v.panningModel}),E._pannerAttr={coneInnerAngle:void 0!==v.pannerAttr.coneInnerAngle?v.pannerAttr.coneInnerAngle:E._coneInnerAngle,coneOuterAngle:void 0!==v.pannerAttr.coneOuterAngle?v.pannerAttr.coneOuterAngle:E._coneOuterAngle,coneOuterGain:void 0!==v.pannerAttr.coneOuterGain?v.pannerAttr.coneOuterGain:E._coneOuterGain,distanceModel:void 0!==v.pannerAttr.distanceModel?v.pannerAttr.distanceModel:E._distanceModel,maxDistance:void 0!==v.pannerAttr.maxDistance?v.pannerAttr.maxDistance:E._maxDistance,refDistance:void 0!==v.pannerAttr.refDistance?v.pannerAttr.refDistance:E._refDistance,rolloffFactor:void 0!==v.pannerAttr.rolloffFactor?v.pannerAttr.rolloffFactor:E._rolloffFactor,panningModel:void 0!==v.pannerAttr.panningModel?v.pannerAttr.panningModel:E._panningModel})}else 2===T.length&&(v=T[0],m=parseInt(T[1],10));for(var p=E._getSoundIds(m),f=0;f<p.length;f++)if(_=E._soundById(p[f])){var b=_._pannerAttr;b={coneInnerAngle:void 0!==v.coneInnerAngle?v.coneInnerAngle:b.coneInnerAngle,coneOuterAngle:void 0!==v.coneOuterAngle?v.coneOuterAngle:b.coneOuterAngle,coneOuterGain:void 0!==v.coneOuterGain?v.coneOuterGain:b.coneOuterGain,distanceModel:void 0!==v.distanceModel?v.distanceModel:b.distanceModel,maxDistance:void 0!==v.maxDistance?v.maxDistance:b.maxDistance,refDistance:void 0!==v.refDistance?v.refDistance:b.refDistance,rolloffFactor:void 0!==v.rolloffFactor?v.rolloffFactor:b.rolloffFactor,panningModel:void 0!==v.panningModel?v.panningModel:b.panningModel};var C=_._panner;C?(C.coneInnerAngle=b.coneInnerAngle,C.coneOuterAngle=b.coneOuterAngle,C.coneOuterGain=b.coneOuterGain,C.distanceModel=b.distanceModel,C.maxDistance=b.maxDistance,C.refDistance=b.refDistance,C.rolloffFactor=b.rolloffFactor,C.panningModel=b.panningModel):(_._pos||(_._pos=E._pos||[0,0,-.5]),O(_,"spatial"))}return E},Sound.prototype.init=function(E){return function(){var T=this,v=T._parent;T._orientation=v._orientation,T._stereo=v._stereo,T._pos=v._pos,T._pannerAttr=v._pannerAttr,E.call(this),T._stereo?v.stereo(T._stereo):T._pos&&v.pos(T._pos[0],T._pos[1],T._pos[2],T._id)}}(Sound.prototype.init),Sound.prototype.reset=function(E){return function(){var T=this,v=T._parent;return T._orientation=v._orientation,T._stereo=v._stereo,T._pos=v._pos,T._pannerAttr=v._pannerAttr,T._stereo?v.stereo(T._stereo):T._pos?v.pos(T._pos[0],T._pos[1],T._pos[2],T._id):T._panner&&(T._panner.disconnect(0),T._panner=void 0,v._refreshBuffer(T)),E.call(this)}}(Sound.prototype.reset);var O=function(E,T){"spatial"===(T=T||"spatial")?(E._panner=Howler.ctx.createPanner(),E._panner.coneInnerAngle=E._pannerAttr.coneInnerAngle,E._panner.coneOuterAngle=E._pannerAttr.coneOuterAngle,E._panner.coneOuterGain=E._pannerAttr.coneOuterGain,E._panner.distanceModel=E._pannerAttr.distanceModel,E._panner.maxDistance=E._pannerAttr.maxDistance,E._panner.refDistance=E._pannerAttr.refDistance,E._panner.rolloffFactor=E._pannerAttr.rolloffFactor,E._panner.panningModel=E._pannerAttr.panningModel,void 0!==E._panner.positionX?(E._panner.positionX.setValueAtTime(E._pos[0],Howler.ctx.currentTime),E._panner.positionY.setValueAtTime(E._pos[1],Howler.ctx.currentTime),E._panner.positionZ.setValueAtTime(E._pos[2],Howler.ctx.currentTime)):E._panner.setPosition(E._pos[0],E._pos[1],E._pos[2]),void 0!==E._panner.orientationX?(E._panner.orientationX.setValueAtTime(E._orientation[0],Howler.ctx.currentTime),E._panner.orientationY.setValueAtTime(E._orientation[1],Howler.ctx.currentTime),E._panner.orientationZ.setValueAtTime(E._orientation[2],Howler.ctx.currentTime)):E._panner.setOrientation(E._orientation[0],E._orientation[1],E._orientation[2])):(E._panner=Howler.ctx.createStereoPanner(),E._panner.pan.setValueAtTime(E._stereo,Howler.ctx.currentTime)),E._panner.connect(E._node),E._paused||E._parent.pause(E._id,!0).play(E._id,!0)}}()},5943:ht=>{"use strict";var B=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;function O(T){if(null==T)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(T)}ht.exports=function E(){try{if(!Object.assign)return!1;var T=new String("abc");if(T[5]="de","5"===Object.getOwnPropertyNames(T)[0])return!1;for(var v={},m=0;m<10;m++)v["_"+String.fromCharCode(m)]=m;if("0123456789"!==Object.getOwnPropertyNames(v).map(function(f){return v[f]}).join(""))return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(f){p[f]=f}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},p)).join("")}catch(f){return!1}}()?Object.assign:function(T,v){for(var m,p,_=O(T),f=1;f<arguments.length;f++){for(var b in m=Object(arguments[f]))P.call(m,b)&&(_[b]=m[b]);if(B){p=B(m);for(var C=0;C<p.length;C++)d.call(m,p[C])&&(_[p[C]]=m[p[C]])}}return _}},516:ht=>{"use strict";function B(P,d){return Object.prototype.hasOwnProperty.call(P,d)}ht.exports=function(P,d,O,E){O=O||"=";var T={};if("string"!=typeof P||0===P.length)return T;var v=/\+/g;P=P.split(d=d||"&");var m=1e3;E&&"number"==typeof E.maxKeys&&(m=E.maxKeys);var _=P.length;m>0&&_>m&&(_=m);for(var p=0;p<_;++p){var C,h,g,S,f=P[p].replace(v,"%20"),b=f.indexOf(O);b>=0?(C=f.substr(0,b),h=f.substr(b+1)):(C=f,h=""),g=decodeURIComponent(C),S=decodeURIComponent(h),B(T,g)?Array.isArray(T[g])?T[g].push(S):T[g]=[T[g],S]:T[g]=S}return T}},5776:ht=>{"use strict";var B=function(P){switch(typeof P){case"string":return P;case"boolean":return P?"true":"false";case"number":return isFinite(P)?P:"";default:return""}};ht.exports=function(P,d,O,E){return d=d||"&",O=O||"=",null===P&&(P=void 0),"object"==typeof P?Object.keys(P).map(function(T){var v=encodeURIComponent(B(T))+O;return Array.isArray(P[T])?P[T].map(function(m){return v+encodeURIComponent(B(m))}).join(d):v+encodeURIComponent(B(P[T]))}).join(d):E?encodeURIComponent(B(E))+O+encodeURIComponent(B(P)):""}},7137:(ht,B,P)=>{"use strict";B.decode=B.parse=P(516),B.encode=B.stringify=P(5776)},8135:function(ht){ht.exports=function(B){var P={};function d(O){if(P[O])return P[O].exports;var E=P[O]={i:O,l:!1,exports:{}};return B[O].call(E.exports,E,E.exports,d),E.l=!0,E.exports}return d.m=B,d.c=P,d.d=function(O,E,T){d.o(O,E)||Object.defineProperty(O,E,{configurable:!1,enumerable:!0,get:T})},d.r=function(O){Object.defineProperty(O,"__esModule",{value:!0})},d.n=function(O){var E=O&&O.__esModule?function(){return O.default}:function(){return O};return d.d(E,"a",E),E},d.o=function(O,E){return Object.prototype.hasOwnProperty.call(O,E)},d.p="",d(d.s=325)}([function(B,P,d){var O=d(6),E=d(37),T=d(18),v=d(15),m=d(27),_=function(p,f,b){var C,h,g,S,R=p&_.F,N=p&_.G,H=p&_.P,L=p&_.B,U=N?O:p&_.S?O[f]||(O[f]={}):(O[f]||{}).prototype,G=N?E:E[f]||(E[f]={}),X=G.prototype||(G.prototype={});for(C in N&&(b=f),b)g=((h=!R&&U&&void 0!==U[C])?U:b)[C],S=L&&h?m(g,O):H&&"function"==typeof g?m(Function.call,g):g,U&&v(U,C,g,p&_.U),G[C]!=g&&T(G,C,S),H&&X[C]!=g&&(X[C]=g)};O.core=E,_.F=1,_.G=2,_.S=4,_.P=8,_.B=16,_.W=32,_.U=64,_.R=128,B.exports=_},function(B,P,d){"use strict";function O(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function E(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?p:f}function T(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}Object.defineProperty(P,"__esModule",{value:!0});var v=function(p){function f(b){O(this,f);var C=E(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b));return C.name="SFSError",C}return T(f,Error),f}(),m=function(p){function f(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];O(this,f);var h=E(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b));return h.name="SFSValidationError",h.errors=C,h}return T(f,v),f}(),_=function(p){function f(b){O(this,f);var C=E(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,b));return C.name="SFSTypeError",C}return T(f,v),f}();P.SFSError=v,P.SFSValidationError=m,P.SFSTypeError=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Message=P.Requests=P.BaseRequest=void 0;var O=function(){function f(b,C){for(var h=0;h<C.length;h++){var g=C[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,C,h){return C&&f(b.prototype,C),h&&f(b,h),b}}(),E=d(8),T=d(50);function v(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}var m=function(){function f(b){v(this,f),this._reqObj=new E.SFSObject,this._id=b,this._targetController=0,this._logger=T.Logger.instance}return O(f,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),O(f,[{key:"getMessage",value:function(){return new _(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),f}(),_=function(){function f(b,C,h){v(this,f),this._id=b,this._targetController=C,this._content=h,Object.freeze(this)}return O(f,[{key:"dump",value:function(){return(p.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),f}(),p=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(f){for(var b in this)if(this.hasOwnProperty(b)&&this[b]===f)return b;return""}});P.BaseRequest=m,P.Requests=p,P.Message=_},function(B,P){B.exports=function(d){try{return!!d()}catch(O){return!0}}},function(B,P){B.exports=function(d){return"object"==typeof d?null!==d:"function"==typeof d}},function(B,P,d){var O=d(4);B.exports=function(E){if(!O(E))throw TypeError(E+" is not an object!");return E}},function(B,P){var d=B.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},function(B,P,d){var O=d(95)("wks"),E=d(35),T=d(6).Symbol,v="function"==typeof T;(B.exports=function(m){return O[m]||(O[m]=v&&T[m]||(v?T:E)("Symbol."+m))}).store=O},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.Vec3D=P.SFSArray=P.SFSObject=P.SFSDataWrapper=P.SFSDataType=void 0;var O=function(){function g(S,R){for(var N=0;N<R.length;N++){var k=R[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,R,N){return R&&g(S.prototype,R),N&&g(S,N),S}}(),E=d(174),T=d(51),v=d(50),m=d(1);function _(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}var p=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(g){if("number"!=typeof g)return null;for(var S in this)if(this.hasOwnProperty(S)&&this[S]===g)return S},validate:function(g,S){if(null==this.fromId(g))throw new m.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var R=null;if(g===this.NULL&&null!=S&&(R="a null value"),g!==this.NULL&&null==S&&(R="a non-null value"),g!==this.BOOL||this.isBoolType(S)||(R="a boolean value"),g!==this.BYTE||this.isByteType(S)||(R="an integer number in this range: 0 <= value < 256"),g!==this.SHORT||this.isShortType(S)||(R="an integer number in this range: -32.768 <= value < +32.768"),g!==this.INT||this.isIntType(S)||(R="an integer number in this range: -2^31 <= value < +2^31"),g!==this.LONG||this.isLongType(S)||(R="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),g!==this.FLOAT||this.isFloatType(S)||(R="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),g!==this.DOUBLE||this.isDoubleType(S)||(R="a finite number"),g!==this.UTF_STRING&&g!==this.TEXT||this.isStringType(S)||(R="a string value"),g!==this.BOOL_ARRAY||this.isArrayType(S,this.isBoolType)||(R="an array of boolean values"),g!==this.BYTE_ARRAY||S instanceof Uint8Array||(R="a Uint8Array"),g!==this.SHORT_ARRAY||this.isArrayType(S,this.isShortType)||(R="an array of integer numbers in this range: -32.768 <= value < +32.768"),g!==this.INT_ARRAY||this.isArrayType(S,this.isIntType)||(R="an array of integer numbers in this range: -2^31 <= value < +2^31"),g!==this.LONG_ARRAY||this.isArrayType(S,this.isLongType)||(R="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),g!==this.FLOAT_ARRAY||this.isArrayType(S,this.isFloatType)||(R="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),g!==this.DOUBLE_ARRAY||this.isArrayType(S,this.isDoubleType)||(R="an array of finite numbers"),g!==this.UTF_STRING_ARRAY||this.isArrayType(S,this.isStringType)||(R="an array of string values"),g!==this.SFS_OBJECT||S instanceof b||(R="a SFSObject instance"),g!==this.SFS_ARRAY||S instanceof C||(R="a SFSArray instance"),null!=R)throw new m.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(g)+" requires "+R)},isBoolType:function(g){return"boolean"==typeof g},isByteType:function(g){return"number"==typeof g&&Math.floor(g)===g&&g>=0&&g<256},isShortType:function(g){return"number"==typeof g&&Math.floor(g)===g&&g>=-32768&&g<32768},isIntType:function(g){return"number"==typeof g&&Math.floor(g)===g&&g>=-2147483648&&g<2147483648},isLongType:function(g){return"number"==typeof g&&Math.floor(g)===g&&Number.isSafeInteger(g)},isFloatType:function(g){return"number"==typeof g&&g>=-34028234663852886e22&&g<=34028234663852886e22},isDoubleType:function(g){return"number"==typeof g&&isFinite(g)},isStringType:function(g){return"string"==typeof g},isArrayType:function(g,S){return g instanceof Array&&(!(g.length>0)||S(g[0]))}}),f=function g(S,R){_(this,g),this.type=S,this.value=R,Object.freeze(this)},b=function(){function g(){_(this,g),this._dataHolder=new Map,this._serializer=E.SFSDataSerializer.instance,Object.freeze(this)}return O(g,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(S){return this._dataHolder.get(S)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(S){return null!=this.getWrappedItem(S)}},{key:"get",value:function(S){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,N=this.getWrappedItem(S);if(null!=N&&null!=R&&N.type!=R)throw new m.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(R));return null!=N?N.value:null}},{key:"isNull",value:function(S){var R=this.getWrappedItem(S);return null==R||R.type==p.NULL}},{key:"getBool",value:function(S){return this.get(S,p.BOOL)}},{key:"getByte",value:function(S){return this.get(S,p.BYTE)}},{key:"getShort",value:function(S){return this.get(S,p.SHORT)}},{key:"getInt",value:function(S){return this.get(S,p.INT)}},{key:"getLong",value:function(S){var R=this.get(S,p.LONG);return Number.isSafeInteger(R)||v.Logger.instance.warn("Long value contained in SFSObject is not safe"),R}},{key:"getFloat",value:function(S){return this.get(S,p.FLOAT)}},{key:"getDouble",value:function(S){return this.get(S,p.DOUBLE)}},{key:"getUtfString",value:function(S){return this.get(S,p.UTF_STRING)}},{key:"getText",value:function(S){return this.get(S,p.TEXT)}},{key:"getBoolArray",value:function(S){return this.get(S,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(S){return this.get(S,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(S){return this.get(S,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(S){return this.get(S,p.INT_ARRAY)}},{key:"getLongArray",value:function(S){return this.get(S,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(S){return this.get(S,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(S){return this.get(S,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(S){return this.get(S,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(S){return this.get(S,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(S){return this.get(S,p.SFS_ARRAY)}},{key:"put",value:function(S,R,N){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof S)throw"Invalid key passed; must be of type string";p.validate(N,R)}this._dataHolder.set(S,new f(N,R))}},{key:"putNull",value:function(S){this.put(S,null,p.NULL)}},{key:"putBool",value:function(S,R){this.put(S,R,p.BOOL)}},{key:"putByte",value:function(S,R){this.put(S,R,p.BYTE)}},{key:"putShort",value:function(S,R){this.put(S,R,p.SHORT)}},{key:"putInt",value:function(S,R){this.put(S,R,p.INT)}},{key:"putLong",value:function(S,R){this.put(S,R,p.LONG)}},{key:"putFloat",value:function(S,R){this.put(S,R,p.FLOAT)}},{key:"putDouble",value:function(S,R){this.put(S,R,p.DOUBLE)}},{key:"putUtfString",value:function(S,R){this.put(S,R,p.UTF_STRING)}},{key:"putText",value:function(S,R){this.put(S,R,p.TEXT)}},{key:"putBoolArray",value:function(S,R){this.put(S,R,p.BOOL_ARRAY)}},{key:"putByteArray",value:function(S,R){this.put(S,R,p.BYTE_ARRAY)}},{key:"putShortArray",value:function(S,R){this.put(S,R,p.SHORT_ARRAY)}},{key:"putIntArray",value:function(S,R){this.put(S,R,p.INT_ARRAY)}},{key:"putLongArray",value:function(S,R){this.put(S,R,p.LONG_ARRAY)}},{key:"putFloatArray",value:function(S,R){this.put(S,R,p.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(S,R){this.put(S,R,p.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(S,R){this.put(S,R,p.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(S,R){this.put(S,R,p.SFS_ARRAY)}},{key:"putSFSObject",value:function(S,R){this.put(S,R,p.SFS_OBJECT)}},{key:"getDump",value:function(){var S=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":S?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var S=T.DumpFormatter.TOKEN_INDENT_OPEN,R=!0,N=!1,k=void 0;try{for(var H,L=this.keys()[Symbol.iterator]();!(R=(H=L.next()).done);R=!0){var U=H.value,G=this.getWrappedItem(U);S+="("+p.fromId(G.type).toLowerCase()+") "+U+": ",S+=G.type===p.SFS_OBJECT||G.type===p.SFS_ARRAY?G.value.getDump(!1):G.type===p.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(G.value):G.value,S+=T.DumpFormatter.TOKEN_DIVIDER}}catch(X){N=!0,k=X}finally{try{!R&&L.return&&L.return()}finally{if(N)throw k}}return S+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(S){return E.SFSDataSerializer.instance.binary2object(S)}}]),g}(),C=function(){function g(){_(this,g),this._dataHolder=[],this._serializer=E.SFSDataSerializer.instance,Object.freeze(this)}return O(g,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(S){return"number"!=typeof S||S>=this._dataHolder.length?null:this._dataHolder[S]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(S){if(S instanceof g||S instanceof b)throw new m.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var R=0;R<this.size();R++){var N=this.getWrappedItem(R);if(null!=N&&N.value==S)return!0}return!1}},{key:"get",value:function(S){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof S||S>=this._dataHolder.length)return null;var N=this.getWrappedItem(S);if(null!=N&&null!=R&&N.type!=R)throw new m.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(R));return null!=N?N.value:null}},{key:"isNull",value:function(S){var R=this.getWrappedItem(S);return null==R||R.type==p.NULL}},{key:"getBool",value:function(S){return this.get(S,p.BOOL)}},{key:"getByte",value:function(S){return this.get(S,p.BYTE)}},{key:"getShort",value:function(S){return this.get(S,p.SHORT)}},{key:"getInt",value:function(S){return this.get(S,p.INT)}},{key:"getLong",value:function(S){var R=this.get(S,p.LONG);return Number.isSafeInteger(R)||v.Logger.instance.warn("Long value contained in SFSObject is not safe"),R}},{key:"getFloat",value:function(S){return this.get(S,p.FLOAT)}},{key:"getDouble",value:function(S){return this.get(S,p.DOUBLE)}},{key:"getUtfString",value:function(S){return this.get(S,p.UTF_STRING)}},{key:"getText",value:function(S){return this.get(S,p.TEXT)}},{key:"getBoolArray",value:function(S){return this.get(S,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(S){return this.get(S,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(S){return this.get(S,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(S){return this.get(S,p.INT_ARRAY)}},{key:"getLongArray",value:function(S){return this.get(S,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(S){return this.get(S,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(S){return this.get(S,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(S){return this.get(S,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(S){return this.get(S,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(S){return this.get(S,p.SFS_ARRAY)}},{key:"add",value:function(S,R){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||p.validate(R,S),this._dataHolder.push(new f(R,S))}},{key:"addNull",value:function(){this.add(null,p.NULL)}},{key:"addBool",value:function(S){this.add(S,p.BOOL)}},{key:"addByte",value:function(S){this.add(S,p.BYTE)}},{key:"addShort",value:function(S){this.add(S,p.SHORT)}},{key:"addInt",value:function(S){this.add(S,p.INT)}},{key:"addLong",value:function(S){this.add(S,p.LONG)}},{key:"addFloat",value:function(S){this.add(S,p.FLOAT)}},{key:"addDouble",value:function(S){this.add(S,p.DOUBLE)}},{key:"addUtfString",value:function(S){this.add(S,p.UTF_STRING)}},{key:"addText",value:function(S){this.add(S,p.TEXT)}},{key:"addBoolArray",value:function(S){this.add(S,p.BOOL_ARRAY)}},{key:"addByteArray",value:function(S){this.add(S,p.BYTE_ARRAY)}},{key:"addShortArray",value:function(S){this.add(S,p.SHORT_ARRAY)}},{key:"addIntArray",value:function(S){this.add(S,p.INT_ARRAY)}},{key:"addLongArray",value:function(S){this.add(S,p.LONG_ARRAY)}},{key:"addFloatArray",value:function(S){this.add(S,p.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(S){this.add(S,p.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(S){this.add(S,p.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(S){this.add(S,p.SFS_ARRAY)}},{key:"addSFSObject",value:function(S){this.add(S,p.SFS_OBJECT)}},{key:"getDump",value:function(){var S=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":S?T.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return T.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var S=T.DumpFormatter.TOKEN_INDENT_OPEN,R=0;R<this.size();R++){var N=this.getWrappedItem(R);S+="("+p.fromId(N.type).toLowerCase()+") "+R+": ",S+=N.type===p.SFS_OBJECT||N.type===p.SFS_ARRAY?N.value.getDump(!1):N.type===p.BYTE_ARRAY?T.DumpFormatter.prettyPrintByteArray(N.value):N.value,S+=T.DumpFormatter.TOKEN_DIVIDER}return S+T.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(S){return E.SFSDataSerializer.instance.binary2array(S)}}]),g}(),h=function(){function g(S,R){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,k=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_(this,g),this.px=S,this.py=R,this.pz=N,this._useFloatCoordinates=k}return O(g,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(S){return new g(S[0],S[1],S[2])}}]),g}();P.SFSDataType=p,P.SFSDataWrapper=f,P.SFSObject=b,P.SFSArray=C,P.Vec3D=h},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MMORoom=P.SFSRoom=void 0;var O=function(){function b(C,h){for(var g=0;g<h.length;g++){var S=h[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,h,g){return h&&b(C.prototype,h),g&&b(C,g),C}}(),E=d(8),T=d(49),v=d(119),m=d(1);function _(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var p=function(){function b(C,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];_(this,b),this._id=C,this._name=h,this._groupId=g,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new v.SFSUserManager,this._roomManager=null,this.properties={},S&&Object.seal(this)}return O(b,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(C){return this._userManager.getUserByName(C)}},{key:"getUserById",value:function(C){return this._userManager.getUserById(C)}},{key:"containsUser",value:function(C){return this._userManager.containsUser(C)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isPlayerInRoom(C)})}},{key:"getSpectatorList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isSpectatorInRoom(C)})}},{key:"getVariable",value:function(C){return this._variables.get(C)}},{key:"containsVariable",value:function(C){return this._variables.has(C)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(C){this._userManager._addUser(C)}},{key:"_removeUser",value:function(C){this._userManager._removeUser(C)}},{key:"_setVariables",value:function(C){var h=!0,g=!1,S=void 0;try{for(var R,N=C[Symbol.iterator]();!(h=(R=N.next()).done);h=!0)this._setVariable(R.value)}catch(H){g=!0,S=H}finally{try{!h&&N.return&&N.return()}finally{if(g)throw S}}}},{key:"_setVariable",value:function(C){C.isNull?this._variables.delete(C.name):this._variables.set(C.name,C)}},{key:"_setRoomManager",value:function(C){if(null!=this._roomManager)throw new m.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=C}},{key:"_merge",value:function(C){if(!this.isJoined){this._variables.clear();var h=!0,g=!1,S=void 0;try{for(var R,N=C._variables.values()[Symbol.iterator]();!(h=(R=N.next()).done);h=!0)this._setVariable(R.value)}catch(z){g=!0,S=z}finally{try{!h&&N.return&&N.return()}finally{if(g)throw S}}this._userManager._clearAll();var H=!0,L=!1,U=void 0;try{for(var G,X=C.getUserList()[Symbol.iterator]();!(H=(G=X.next()).done);H=!0)this._addUser(G.value)}catch(z){L=!0,U=z}finally{try{!H&&X.return&&X.return()}finally{if(L)throw U}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(C){var h=14===C.size(),g=void 0;(g=h?new f(C.get(0),C.get(1),C.get(2)):new b(C.get(0),C.get(1),C.get(2)))._isGame=C.get(3),g._isHidden=C.get(4),g._isPasswordProtected=C.get(5),g._userCount=C.get(6),g._maxUsers=C.get(7);var S=C.get(8);if(null!=S)for(var R=0;R<S.size();R++){var N=T.SFSRoomVariable.fromSFSArray(S.get(R));g._setVariable(N)}return g._isGame&&(g._specCount=C.get(9),g._maxSpectators=C.get(10)),h&&(g._defaultAOI=E.Vec3D.fromArray(C.get(11)),null!=C.get(13)&&(g._lowerMapLimit=E.Vec3D.fromArray(C.get(12)),g._higherMapLimit=E.Vec3D.fromArray(C.get(13)))),g}}]),b}(),f=function(b){function C(h,g){var S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";_(this,C);var R=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,h,g,S,!1));return R._defaultAOI=null,R._lowerMapLimit=null,R._higherMapLimit=null,R._itemsById=new Map,Object.seal(R),R}return function(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(C,p),O(C,[{key:"getMMOItem",value:function(h){return this._itemsById.get(h)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(h){this._itemsById.set(h.id,h)}},{key:"_removeItem",value:function(h){this._itemsById.delete(h)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),C}();P.SFSRoom=p,P.MMORoom=f},function(B,P,d){var O=d(5),E=d(148),T=d(30),v=Object.defineProperty;P.f=d(11)?Object.defineProperty:function(m,_,p){if(O(m),_=T(_,!0),O(p),E)try{return v(m,_,p)}catch(f){}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(m[_]=p.value),m}},function(B,P,d){B.exports=!d(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(B,P,d){var O=d(24),E=Math.min;B.exports=function(T){return T>0?E(O(T),9007199254740991):0}},function(B,P,d){var O=d(0),E=d(3),T=d(28),v=/"/g,m=function(_,p,f,b){var C=String(T(_)),h="<"+p;return""!==f&&(h+=" "+f+'="'+String(b).replace(v,"&quot;")+'"'),h+">"+C+"</"+p+">"};B.exports=function(_,p){var f={};f[_]=p(m),O(O.P+O.F*E(function(){var b=""[_]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",f)}},function(B,P,d){var O=d(28);B.exports=function(E){return Object(O(E))}},function(B,P,d){var O=d(6),E=d(18),T=d(16),v=d(35)("src"),m=Function.toString,_=(""+m).split("toString");d(37).inspectSource=function(p){return m.call(p)},(B.exports=function(p,f,b,C){var h="function"==typeof b;h&&(T(b,"name")||E(b,"name",f)),p[f]!==b&&(h&&(T(b,v)||E(b,v,p[f]?""+p[f]:_.join(String(f)))),p===O?p[f]=b:C?p[f]?p[f]=b:E(p,f,b):(delete p[f],E(p,f,b)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[v]||m.call(this)})},function(B,P){var d={}.hasOwnProperty;B.exports=function(O,E){return d.call(O,E)}},function(B,P,d){"use strict";var O=d(3);B.exports=function(E,T){return!!E&&O(function(){T?E.call(null,function(){},1):E.call(null)})}},function(B,P,d){var O=d(10),E=d(36);B.exports=d(11)?function(T,v,m){return O.f(T,v,E(1,m))}:function(T,v,m){return T[v]=m,T}},function(B,P,d){var O=d(27),E=d(54),T=d(14),v=d(12),m=d(231);B.exports=function(_,p){var f=1==_,b=2==_,C=3==_,h=4==_,g=6==_,S=5==_||g,R=p||m;return function(N,k,H){for(var L,U,G=T(N),X=E(G),te=O(k,H,3),z=v(X.length),le=0,K=f?R(N,z):b?R(N,0):void 0;z>le;le++)if((S||le in X)&&(U=te(L=X[le],le,G),_))if(f)K[le]=U;else if(U)switch(_){case 3:return!0;case 5:return L;case 6:return le;case 2:K.push(L)}else if(h)return!1;return g?-1:C||h?h:K}}},function(B,P,d){var O=d(0),E=d(37),T=d(3);B.exports=function(v,m){var _=(E.Object||{})[v]||Object[v],p={};p[v]=m(_),O(O.S+O.F*T(function(){_(1)}),"Object",p)}},function(B,P,d){var O=d(54),E=d(28);B.exports=function(T){return O(E(T))}},function(B,P,d){"use strict";if(d(11)){var O=d(44),E=d(6),T=d(3),v=d(0),m=d(60),_=d(75),p=d(27),f=d(42),b=d(36),C=d(18),h=d(41),g=d(24),S=d(12),R=d(121),N=d(34),k=d(30),H=d(16),L=d(66),U=d(4),G=d(14),X=d(80),te=d(33),z=d(31),le=d(32).f,K=d(79),he=d(35),Te=d(7),be=d(19),Le=d(94),Y=d(76),oe=d(128),J=d(53),me=d(64),ie=d(43),se=d(78),ue=d(129),Re=d(10),Xe=d(23),De=Re.f,Et=Xe.f,$e=E.RangeError,Ne=E.TypeError,ne=E.Uint8Array,ce=Array.prototype,fe=_.ArrayBuffer,Ie=_.DataView,je=be(0),Je=be(2),Ce=be(3),Ue=be(4),Ht=be(5),Dt=be(6),$t=Le(!0),Hn=Le(!1),Qe=oe.values,at=oe.keys,_e=oe.entries,de=ce.lastIndexOf,Se=ce.reduce,Me=ce.reduceRight,ye=ce.join,Ae=ce.sort,nt=ce.slice,ct=ce.toString,ft=ce.toLocaleString,sn=Te("iterator"),On=Te("toStringTag"),Yn=he("typed_constructor"),Nt=he("def_constructor"),Mn=m.CONSTR,Jt=m.TYPED,Ft=m.VIEW,En=be(1,function(qe,bt){return hr(Y(qe,qe[Nt]),bt)}),ei=T(function(){return 1===new ne(new Uint16Array([1]).buffer)[0]}),ti=!!ne&&!!ne.prototype.set&&T(function(){new ne(1).set({})}),xn=function(qe,bt){var kt=g(qe);if(kt<0||kt%bt)throw $e("Wrong offset!");return kt},Xt=function(qe){if(U(qe)&&Jt in qe)return qe;throw Ne(qe+" is not a typed array!")},hr=function(qe,bt){if(!U(qe)||!(Yn in qe))throw Ne("It is not a typed array constructor!");return new qe(bt)},Yt=function(qe,bt){return Dr(Y(qe,qe[Nt]),bt)},Dr=function(qe,bt){for(var kt=0,or=bt.length,en=hr(qe,or);or>kt;)en[kt]=bt[kt++];return en},ni=function(qe,bt,kt){De(qe,bt,{get:function(){return this._d[kt]}})},lt=function(qe){var bt,kt,or,en,Sr,ts,tn=G(qe),Tr=arguments.length,oi=Tr>1?arguments[1]:void 0,lo=void 0!==oi,Hi=K(tn);if(null!=Hi&&!X(Hi)){for(ts=Hi.call(tn),or=[],bt=0;!(Sr=ts.next()).done;bt++)or.push(Sr.value);tn=or}for(lo&&Tr>2&&(oi=p(oi,arguments[2],2)),bt=0,kt=S(tn.length),en=hr(this,kt);kt>bt;bt++)en[bt]=lo?oi(tn[bt],bt):tn[bt];return en},ri=function(){for(var qe=0,bt=arguments.length,kt=hr(this,bt);bt>qe;)kt[qe]=arguments[qe++];return kt},Di=!!ne&&T(function(){ft.call(new ne(1))}),Ms=function(){return ft.apply(Di?nt.call(Xt(this)):Xt(this),arguments)},Zu={copyWithin:function(qe,bt){return ue.call(Xt(this),qe,bt,arguments.length>2?arguments[2]:void 0)},every:function(qe){return Ue(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},fill:function(qe){return se.apply(Xt(this),arguments)},filter:function(qe){return Yt(this,Je(Xt(this),qe,arguments.length>1?arguments[1]:void 0))},find:function(qe){return Ht(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},findIndex:function(qe){return Dt(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},forEach:function(qe){je(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},indexOf:function(qe){return Hn(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},includes:function(qe){return $t(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},join:function(qe){return ye.apply(Xt(this),arguments)},lastIndexOf:function(qe){return de.apply(Xt(this),arguments)},map:function(qe){return En(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},reduce:function(qe){return Se.apply(Xt(this),arguments)},reduceRight:function(qe){return Me.apply(Xt(this),arguments)},reverse:function(){for(var qe,bt=Xt(this).length,kt=Math.floor(bt/2),or=0;or<kt;)qe=this[or],this[or++]=this[--bt],this[bt]=qe;return this},some:function(qe){return Ce(Xt(this),qe,arguments.length>1?arguments[1]:void 0)},sort:function(qe){return Ae.call(Xt(this),qe)},subarray:function(qe,bt){var kt=Xt(this),or=kt.length,en=N(qe,or);return new(Y(kt,kt[Nt]))(kt.buffer,kt.byteOffset+en*kt.BYTES_PER_ELEMENT,S((void 0===bt?or:N(bt,or))-en))}},ws=function(qe,bt){return Yt(this,nt.call(Xt(this),qe,bt))},ml=function(qe){Xt(this);var bt=xn(arguments[1],1),kt=this.length,or=G(qe),en=S(or.length),Sr=0;if(en+bt>kt)throw $e("Wrong length!");for(;Sr<en;)this[bt+Sr]=or[Sr++]},ii={entries:function(){return _e.call(Xt(this))},keys:function(){return at.call(Xt(this))},values:function(){return Qe.call(Xt(this))}},Oo=function(qe,bt){return U(qe)&&qe[Jt]&&"symbol"!=typeof bt&&bt in qe&&String(+bt)==String(bt)},ji=function(qe,bt){return Oo(qe,bt=k(bt,!0))?b(2,qe[bt]):Et(qe,bt)},xr=function(qe,bt,kt){return!(Oo(qe,bt=k(bt,!0))&&U(kt)&&H(kt,"value"))||H(kt,"get")||H(kt,"set")||kt.configurable||H(kt,"writable")&&!kt.writable||H(kt,"enumerable")&&!kt.enumerable?De(qe,bt,kt):(qe[bt]=kt.value,qe)};Mn||(Xe.f=ji,Re.f=xr),v(v.S+v.F*!Mn,"Object",{getOwnPropertyDescriptor:ji,defineProperty:xr}),T(function(){ct.call({})})&&(ct=ft=function(){return ye.call(this)});var xi=h({},Zu);h(xi,ii),C(xi,sn,ii.values),h(xi,{slice:ws,set:ml,constructor:function(){},toString:ct,toLocaleString:Ms}),ni(xi,"buffer","b"),ni(xi,"byteOffset","o"),ni(xi,"byteLength","l"),ni(xi,"length","e"),De(xi,On,{get:function(){return this[Jt]}}),B.exports=function(qe,bt,kt,or){var en=qe+((or=!!or)?"Clamped":"")+"Array",Sr="get"+qe,ts="set"+qe,tn=E[en],Tr=tn||{},oi=tn&&z(tn),Hi={},di=tn&&tn.prototype,vl=function(kn,ur){De(kn,ur,{get:function(){return(uo=this._d).v[Sr](ur*bt+uo.o,ei);var uo},set:function(Kn){return uo=ur,Sn=Kn,Ps=this._d,or&&(Sn=(Sn=Math.round(Sn))<0?0:Sn>255?255:255&Sn),void Ps.v[ts](uo*bt+Ps.o,Sn,ei);var uo,Sn,Ps},enumerable:!0})};tn&&m.ABV?T(function(){tn(1)})&&T(function(){new tn(-1)})&&me(function(kn){new tn,new tn(null),new tn(1.5),new tn(kn)},!0)||(tn=kt(function(kn,ur,Kn,Mo){var uo;return f(kn,tn,en),U(ur)?ur instanceof fe||"ArrayBuffer"==(uo=L(ur))||"SharedArrayBuffer"==uo?void 0!==Mo?new Tr(ur,xn(Kn,bt),Mo):void 0!==Kn?new Tr(ur,xn(Kn,bt)):new Tr(ur):Jt in ur?Dr(tn,ur):lt.call(tn,ur):new Tr(R(ur))}),je(oi!==Function.prototype?le(Tr).concat(le(oi)):le(Tr),function(kn){kn in tn||C(tn,kn,Tr[kn])}),tn.prototype=di,O||(di.constructor=tn)):(tn=kt(function(kn,ur,Kn,Mo){f(kn,tn,en,"_d");var uo,Sn,Ps,tr,Jh=0,Qh=0;if(U(ur)){if(!(ur instanceof fe||"ArrayBuffer"==(tr=L(ur))||"SharedArrayBuffer"==tr))return Jt in ur?Dr(tn,ur):lt.call(tn,ur);uo=ur,Qh=xn(Kn,bt);var gn=ur.byteLength;if(void 0===Mo){if(gn%bt||(Sn=gn-Qh)<0)throw $e("Wrong length!")}else if((Sn=S(Mo)*bt)+Qh>gn)throw $e("Wrong length!");Ps=Sn/bt}else Ps=R(ur),uo=new fe(Sn=Ps*bt);for(C(kn,"_d",{b:uo,o:Qh,l:Sn,e:Ps,v:new Ie(uo)});Jh<Ps;)vl(kn,Jh++)}),di=tn.prototype=te(xi),C(di,"constructor",tn));var sa=di[sn],iu=!!sa&&("values"==sa.name||null==sa.name),ec=ii.values;C(tn,Yn,!0),C(di,Jt,en),C(di,Ft,!0),C(di,Nt,tn),(or?new tn(1)[On]==en:On in di)||De(di,On,{get:function(){return en}}),Hi[en]=tn,v(v.G+v.W+v.F*(tn!=Tr),Hi),v(v.S,en,{BYTES_PER_ELEMENT:bt}),v(v.S+v.F*T(function(){Tr.of.call(tn,1)}),en,{from:lt,of:ri}),"BYTES_PER_ELEMENT"in di||C(di,"BYTES_PER_ELEMENT",bt),v(v.P,en,Zu),ie(en),v(v.P+v.F*ti,en,{set:ml}),v(v.P+v.F*!iu,en,ii),O||di.toString==ct||(di.toString=ct),v(v.P+v.F*T(function(){new tn(1).slice()}),en,{slice:ws}),v(v.P+v.F*(T(function(){return[1,2].toLocaleString()!=new tn([1,2]).toLocaleString()})||!T(function(){di.toLocaleString.call([1,2])})),en,{toLocaleString:Ms}),J[en]=iu?sa:ec,O||iu||C(di,sn,ec)}}else B.exports=function(){}},function(B,P,d){var O=d(67),E=d(36),T=d(21),v=d(30),m=d(16),_=d(148),p=Object.getOwnPropertyDescriptor;P.f=d(11)?p:function(f,b){if(f=T(f),b=v(b,!0),_)try{return p(f,b)}catch(C){}if(m(f,b))return E(!O.f.call(f,b),f[b])}},function(B,P){var d=Math.ceil,O=Math.floor;B.exports=function(E){return isNaN(E=+E)?0:(E>0?O:d)(E)}},function(B,P){var d={}.toString;B.exports=function(O){return d.call(O).slice(8,-1)}},function(B,P){B.exports=function(d){if("function"!=typeof d)throw TypeError(d+" is not a function!");return d}},function(B,P,d){var O=d(26);B.exports=function(E,T,v){if(O(E),void 0===T)return E;switch(v){case 1:return function(m){return E.call(T,m)};case 2:return function(m,_){return E.call(T,m,_)};case 3:return function(m,_,p){return E.call(T,m,_,p)}}return function(){return E.apply(T,arguments)}}},function(B,P){B.exports=function(d){if(null==d)throw TypeError("Can't call method on  "+d);return d}},function(B,P,d){var O=d(35)("meta"),E=d(4),T=d(16),v=d(10).f,m=0,_=Object.isExtensible||function(){return!0},p=!d(3)(function(){return _(Object.preventExtensions({}))}),f=function(C){v(C,O,{value:{i:"O"+ ++m,w:{}}})},b=B.exports={KEY:O,NEED:!1,fastKey:function(C,h){if(!E(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!T(C,O)){if(!_(C))return"F";if(!h)return"E";f(C)}return C[O].i},getWeak:function(C,h){if(!T(C,O)){if(!_(C))return!0;if(!h)return!1;f(C)}return C[O].w},onFreeze:function(C){return p&&b.NEED&&_(C)&&!T(C,O)&&f(C),C}}},function(B,P,d){var O=d(4);B.exports=function(E,T){if(!O(E))return E;var v,m;if(T&&"function"==typeof(v=E.toString)&&!O(m=v.call(E))||"function"==typeof(v=E.valueOf)&&!O(m=v.call(E))||!T&&"function"==typeof(v=E.toString)&&!O(m=v.call(E)))return m;throw TypeError("Can't convert object to primitive value")}},function(B,P,d){var O=d(16),E=d(14),T=d(93)("IE_PROTO"),v=Object.prototype;B.exports=Object.getPrototypeOf||function(m){return m=E(m),O(m,T)?m[T]:"function"==typeof m.constructor&&m instanceof m.constructor?m.constructor.prototype:m instanceof Object?v:null}},function(B,P,d){var O=d(146),E=d(92).concat("length","prototype");P.f=Object.getOwnPropertyNames||function(T){return O(T,E)}},function(B,P,d){var O=d(5),E=d(145),T=d(92),v=d(93)("IE_PROTO"),m=function(){},_=function(){var p,f=d(96)("iframe"),b=T.length;for(f.style.display="none",d(90).appendChild(f),f.src="javascript:",(p=f.contentWindow.document).open(),p.write("<script>document.F=Object<\/script>"),p.close(),_=p.F;b--;)delete _.prototype[T[b]];return _()};B.exports=Object.create||function(p,f){var b;return null!==p?(m.prototype=O(p),b=new m,m.prototype=null,b[v]=p):b=_(),void 0===f?b:E(b,f)}},function(B,P,d){var O=d(24),E=Math.max,T=Math.min;B.exports=function(v,m){return(v=O(v))<0?E(v+m,0):T(v,m)}},function(B,P){var d=0,O=Math.random();B.exports=function(E){return"Symbol(".concat(void 0===E?"":E,")_",(++d+O).toString(36))}},function(B,P){B.exports=function(d,O){return{enumerable:!(1&d),configurable:!(2&d),writable:!(4&d),value:O}}},function(B,P){var d=B.exports={version:"2.5.4"};"number"==typeof __e&&(__e=d)},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LogicOperator=P.MatchExpression=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(8);function T(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}var v=function(){function _(p,f,b){T(this,_),this._varName=p,this._condition=f,this._value=b,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return O(_,[{key:"and",value:function(p,f,b){return this._next=_.chainedMatchExpression(p,f,b,m.AND,this),this._next}},{key:"or",value:function(p,f,b){return this._next=_.chainedMatchExpression(p,f,b,m.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var p=this;null!=p._parent;)p=p._parent;return p}},{key:"toString",value:function(){for(var p=this.rewind(),f=p.asString();p.hasNext();)f+=(p=p.next).asString();return f}},{key:"asString",value:function(){var p="";return null!=this._logicOp&&(p+=" "+this._logicOp.id+" "),p+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var p=this.rewind(),f=new E.SFSArray;for(f.addSFSArray(p.expressionAsSFSArray());p.hasNext();)f.addSFSArray((p=p.next).expressionAsSFSArray());return f}},{key:"expressionAsSFSArray",value:function(){var p=new E.SFSArray;return null!=this._logicOp?p.addUtfString(this._logicOp.id):p.addNull(),p.addUtfString(this._varName),p.addByte(this._condition.type),p.addUtfString(this._condition.symbol),0===this._condition.type?p.addBool(this._value):1===this._condition.type?p.addDouble(this._value):p.addUtfString(this._value),p}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(p,f,b,C,h){var g=new _(p,f,b);return g._logicOp=C,g._parent=h,g}}]),_}(),m=function(){function _(p){T(this,_),this._id=p,Object.freeze(this)}return O(_,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new _("AND")}},{key:"OR",get:function(){return new _("OR")}}]),_}();P.MatchExpression=v,P.LogicOperator=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=function(){function m(){(function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._listenersByEvent={}}return O(m,[{key:"addEventListener",value:function(_,p,f){this._listenersByEvent[_]||(this._listenersByEvent[_]=[]),this._listenersByEvent[_].push({callback:p,scope:f})}},{key:"removeEventListener",value:function(_,p){var f=this._listenersByEvent[_];if(f)for(var b=0;b<f.length;b++)if(f[b].callback===p){f.splice(b,1);break}}},{key:"dispatchEvent",value:function(_,p){var f=this._listenersByEvent[_];if(f){var b=!0,C=!1,h=void 0;try{for(var g,S=f[Symbol.iterator]();!(b=(g=S.next()).done);b=!0){var R=g.value;R.callback.call(R.scope,p)}}catch(N){C=!0,h=N}finally{try{!b&&S.return&&S.return()}finally{if(C)throw h}}}}}]),m}(),T=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),v=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});P.EventDispatcher=E,P.SFSEvent=T,P.SFSBuddyEvent=v},function(B,P,d){var O=d(4);B.exports=function(E,T){if(!O(E)||E._t!==T)throw TypeError("Incompatible receiver, "+T+" required!");return E}},function(B,P,d){var O=d(15);B.exports=function(E,T,v){for(var m in T)O(E,m,T[m],v);return E}},function(B,P){B.exports=function(d,O,E,T){if(!(d instanceof O)||void 0!==T&&T in d)throw TypeError(E+": incorrect invocation!");return d}},function(B,P,d){"use strict";var O=d(6),E=d(10),T=d(11),v=d(7)("species");B.exports=function(m){var _=O[m];T&&_&&!_[v]&&E.f(_,v,{configurable:!0,get:function(){return this}})}},function(B,P){B.exports=!1},function(B,P,d){var O=d(10).f,E=d(16),T=d(7)("toStringTag");B.exports=function(v,m,_){v&&!E(v=_?v:v.prototype,T)&&O(v,T,{configurable:!0,value:m})}},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSBuddyVariable=P.ReservedBuddyVariables=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(48),T=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),v=function(m){function _(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p,f,b));return Object.freeze(C),C}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseVariable),O(_,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),O(_,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===_.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(p){return new _(p.get(0),p.get(2),p.get(1))}}]),_}();P.ReservedBuddyVariables=T,P.SFSBuddyVariable=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.UserPrivileges=P.SFSUser=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(59),T=d(1),v=function(){function _(p,f){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,_),this._id=p,this._name=f,this._isItMe=b,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return O(_,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(p){return p.containsUser(this)}},{key:"getPlayerId",value:function(p){var f=this._playerIdByRoomId.get(p.id);return null!=f?f:0}},{key:"isPlayerInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)>0}},{key:"isSpectatorInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)<0}},{key:"getVariable",value:function(p){return this._variables.get(p)}},{key:"containsVariable",value:function(p){return this._variables.has(p)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(p,f){this._playerIdByRoomId.set(f.id,p)}},{key:"_removePlayerId",value:function(p){this._playerIdByRoomId.delete(p.id)}},{key:"_setVariables",value:function(p){var f=!0,b=!1,C=void 0;try{for(var h,g=p[Symbol.iterator]();!(f=(h=g.next()).done);f=!0)this._setVariable(h.value)}catch(R){b=!0,C=R}finally{try{!f&&g.return&&g.return()}finally{if(b)throw C}}}},{key:"_setVariable",value:function(p){p.isNull?this._variables.delete(p.name):this._variables.set(p.name,p)}},{key:"_setUserManager",value:function(p){if(null!=this._userManager)throw new T.SFSError("User Manager already assigned to user "+this.toString());this._userManager=p}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===m.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===m.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===m.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===m.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=new _(p.get(0),p.get(1));b._privilegeId=p.get(2),null!=f&&b._setPlayerId(p.get(3),f);var C=p.get(4);if(null!=C)for(var h=0;h<C.size();h++)b._setVariable(E.SFSUserVariable.fromSFSArray(C.get(h)));return b}}]),_}(),m=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});P.SFSUser=v,P.UserPrivileges=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BaseVariable=P.VariableType=void 0;var O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_){return typeof _}:function(_){return _&&"function"==typeof Symbol&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},E=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),T=d(8),v=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(_){return["null","boolean","int","double","string","SFSObject","SFSArray"][_]}}),m=function(){function _(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,_),this._name=p,this._value=f,this._type=b>-1?b:this._evalType()}return E(_,[{key:"toSFSArray",value:function(){var p=new T.SFSArray;return p.addUtfString(this.name),p.addByte(this._type),this._populateArrayWithValue(p),p}},{key:"_populateArrayWithValue",value:function(p){switch(this._type){case v.NULL:p.addNull();break;case v.BOOLEAN:p.addBool(this.value);break;case v.INT:p.addInt(this.value);break;case v.DOUBLE:p.addDouble(this.value);break;case v.STRING:p.addUtfString(this.value);break;case v.SFSOBJECT:p.addSFSObject(this.value);break;case v.SFSARRAY:p.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return v.NULL;var p=O(this._value);if("boolean"===p)return v.BOOLEAN;if("number"===p){var f=this._value;return f===+f&&f===(0|f)?v.INT:v.DOUBLE}return"string"===p?v.STRING:"object"===p?this._value instanceof T.SFSArray?v.SFSARRAY:v.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return v.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===v.NULL}}]),_}();P.VariableType=v,P.BaseVariable=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSRoomVariable=P.ReservedRoomVariables=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(48),T=Object.freeze({RV_GAME_STARTED:"$GS"}),v=function(m){function _(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p,f,b));return C.isPrivate=!1,C.isPersistent=!1,Object.seal(C),C}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseVariable),O(_,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var p=function f(b,C,h){null===b&&(b=Function.prototype);var g=Object.getOwnPropertyDescriptor(b,C);if(void 0===g){var S=Object.getPrototypeOf(b);return null===S?void 0:f(S,C,h)}if("value"in g)return g.value;var R=g.get;return void 0!==R?R.call(h):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"toSFSArray",this).call(this);return p.addBool(this.isPrivate),p.addBool(this.isPersistent),p}}],[{key:"fromSFSArray",value:function(p){var f=new _(p.get(0),p.get(2),p.get(1));return f.isPrivate=p.get(3),f.isPersistent=p.get(4),f}}]),_}();P.ReservedRoomVariables=T,P.SFSRoomVariable=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LoggerEvent=P.Logger=P.LogLevel=void 0;var O=function(){function f(b,C){for(var h=0;h<C.length;h++){var g=C[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,C,h){return C&&f(b.prototype,C),h&&f(b,h),b}}(),E=d(39),T=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(f){return f===this.DEBUG?"DEBUG":f===this.INFO?"INFO":f===this.WARN?"WARN":f===this.ERROR?"ERROR":void 0}}),v=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),m=Symbol(),_=Symbol(),p=function(f){function b(C){!function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?g:S}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(C!==_)throw"Logger is a singleton class; you can't instantiate it";return h._enableConsoleOutput=void 0!==console,h._enableEventDispatching=!1,h._level=T.INFO,h._useBasicLog=!0,void 0!==console&&(h._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),h}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,E.EventDispatcher),O(b,[{key:"log",value:function(C){for(var h=this,g=arguments.length,S=Array(g>1?g-1:0),R=1;R<g;R++)S[R-1]=arguments[R];if(this.isValidLevel(C)&&C>=this._level){if(this._enableConsoleOutput){var N=function(k,H){h._useBasicLog&&(H=function(L){console.log(L)}),H("[ SFS2X | "+k+" ] "+S.join(" "))};switch(C){case T.DEBUG:N("DEBUG",function(k){console.debug(k)});break;case T.INFO:N("INFO",function(k){console.info(k)});break;case T.WARN:N("WARN",function(k){console.warn(k)});break;case T.ERROR:N("ERROR",function(k){console.error(k)})}}this._enableEventDispatching&&this.dispatchEvent(T.toString(C).toLowerCase(),{message:S.join(" ")})}}},{key:"debug",value:function(){for(var C=arguments.length,h=Array(C),g=0;g<C;g++)h[g]=arguments[g];this.log(T.DEBUG,h)}},{key:"info",value:function(){for(var C=arguments.length,h=Array(C),g=0;g<C;g++)h[g]=arguments[g];this.log(T.INFO,h)}},{key:"warn",value:function(){for(var C=arguments.length,h=Array(C),g=0;g<C;g++)h[g]=arguments[g];this.log(T.WARN,h)}},{key:"error",value:function(){for(var C=arguments.length,h=Array(C),g=0;g<C;g++)h[g]=arguments[g];this.log(T.ERROR,h)}},{key:"isValidLevel",value:function(C){if(!Number.isInteger(C)||C<T.DEBUG||C>T.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(C){this.isValidLevel(C)&&(this._level=C)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(C){void 0!==console&&(this._enableConsoleOutput=C)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(C){this._enableEventDispatching=C},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[m]||(this[m]=new b(_)),Object.seal(this[m])}}]),b}();P.LogLevel=T,P.Logger=p,P.LoggerEvent=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(v){switch(v){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),T=function(){function v(){!function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,v)}return O(v,null,[{key:"prettyPrintByteArray",value:function(m){return null==m?"Null":m.length<32?m.toString():"Byte["+m.length+"]"}},{key:"prettyPrintDump",value:function(m){for(var _="",p=0,f=0;f<m.length;f++){var b=m.charAt(f);if(b==this.TOKEN_INDENT_OPEN)p++,_+=this.NEW_LINE+this.getFormatTabs(p);else if(b==this.TOKEN_INDENT_CLOSE){if(--p<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";_+=this.NEW_LINE+this.getFormatTabs(p)}else _+=b==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(p):b}if(0!=p)throw"DumpFormatter: the indentPos is not === 0 ("+p+"). TOKENS ARE NOT BALANCED!";return _}},{key:"getFormatTabs",value:function(m){return this.strFill(this.TAB,m)}},{key:"strFill",value:function(m,_){for(var p="",f=0;f<_;f++)p+=m;return p}},{key:"hexDump",value:function(m){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===_&&(_=this.HEX_BYTES_PER_LINE);var p="Binary size: "+m.byteLength+this.NEW_LINE,f="",b="",C=0,h=0,g=null;do{var S=(g=m[C]).toString(16).toUpperCase();1===S.length&&(S="0"+S),f+=S+" ",b+=g>=33&&g<=126?String.fromCharCode(g):this.DOT,++h===_&&(h=0,p+=f+this.TAB+b+this.NEW_LINE,f="",b="")}while(++C<m.length);if(0!==h){for(var R=_-h;R>0;--R)f+="   ",b+=" ";p+=f+this.TAB+b+this.NEW_LINE}return p}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),v}();P.ClientDisconnectionReason=E,P.DumpFormatter=T},function(B,P,d){var O=d(7)("unscopables"),E=Array.prototype;null==E[O]&&d(18)(E,O,{}),B.exports=function(T){E[O][T]=!0}},function(B,P){B.exports={}},function(B,P,d){var O=d(25);B.exports=Object("z").propertyIsEnumerable(0)?Object:function(E){return"String"==O(E)?E.split(""):Object(E)}},function(B,P,d){var O=d(146),E=d(92);B.exports=Object.keys||function(T){return O(T,E)}},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MessageRecipientMode=P.BanMode=P.MapLimits=P.RoomExtension=P.RoomEvents=P.RoomPermissions=P.MMORoomSettings=P.SFSGameSettings=P.RoomSettings=void 0;var O=function(){function h(g,S){for(var R=0;R<S.length;R++){var N=S[R];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(g,N.key,N)}}return function(g,S,R){return S&&h(g.prototype,S),R&&h(g,R),g}}(),E=d(1);function T(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}function v(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}function m(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var _=function h(g){m(this,h),this.name=g,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},p=function(h){function g(S){m(this,g);var R=T(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S));return R.isPublic=!0,R.minPlayersToStartGame=2,R.invitedPlayers=null,R.searchableRooms=null,R.invitationExpiryTime=15,R.leaveLastJoinedRoom=!0,R.notifyGameStarted=!1,R.playerMatchExpression=null,R.spectatorMatchExpression=null,R.invitationParams=null,Object.seal(R),R}return v(g,_),g}(),f=function(h){function g(S,R){m(this,g);var N=T(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,S));return N.defaultAOI=R,N.mapLimits=null,N.userMaxLimboSeconds=50,N.proximityListUpdateMillis=250,N.sendAOIEntryPoint=!0,Object.seal(N),N}return v(g,_),g}(),b=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),C=function(){function h(g,S){if(m(this,h),g<h.TO_USER||g>h.TO_ZONE)throw new E.SFSError("Illegal recipient mode: "+g);this._mode=g,this._target=S,Object.freeze(this)}return O(h,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),O(h,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),h}();P.RoomSettings=_,P.SFSGameSettings=p,P.MMORoomSettings=f,P.RoomPermissions=function h(){m(this,h),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},P.RoomEvents=function h(){m(this,h),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},P.RoomExtension=function h(g,S){m(this,h),this.id=g,this.className=S,this.propertiesFile="",Object.seal(this)},P.MapLimits=function h(g,S){if(m(this,h),null==g||null==S)throw new E.SFSError("Map limits arguments must be both non null!");this.lowerLimit=g,this.higherLimit=S,Object.seal(this)},P.BanMode=b,P.MessageRecipientMode=C},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.CreateRoomRequest=void 0;var O=function(){function b(C,h){for(var g=0;g<h.length;g++){var S=h[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,h,g){return h&&b(C.prototype,h),g&&b(C,g),C}}(),E=d(2),T=d(1),v=d(56),m=d(8),_=d(9),p=d(49),f=function(b){function C(h){var g=arguments.length>1&&void 0!==arguments[1]&&arguments[1],S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}(this,C);var R=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,E.Requests.CreateRoom));return R._settings=h,R._autoJoin=g,R._roomToLeave=S,Object.seal(R),R}return function(h,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(C,E.BaseRequest),O(C,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),O(C,[{key:"validate",value:function(h){if(!(this._settings instanceof v.RoomSettings))throw new T.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var g=[];if(null!=this._settings.name&&0!==this._settings.name.length||g.push("Missing Room name"),this._settings.maxUsers<=0&&g.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&g.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&g.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(S){return S instanceof p.SFSRoomVariable})||g.push("Each Room Variable must be an instance of SFSRoomVariable class"):g.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof v.RoomPermissions||g.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof v.RoomEvents||g.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof v.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||g.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||g.push("Missing Room Extension id")):g.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof v.MMORoomSettings&&(null==this._settings.defaultAOI&&g.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof m.Vec3D||g.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof v.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||g.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof m.Vec3D&&this._settings.mapLimits.higherLimit instanceof m.Vec3D||g.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):g.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof _.SFSRoom||g.push("Room to leave must be an instance of SFSRoom class"),g.length>0)throw new T.SFSValidationError("CreateRoomRequest Error",g)}},{key:"execute",value:function(h){if(this._reqObj.putUtfString(C.KEY_NAME,this._settings.name),this._reqObj.putUtfString(C.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(C.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(C.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(C.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(C.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(C.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(C.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var g=new m.SFSArray,S=!0,R=!1,N=void 0;try{for(var k,H=this._settings.variables[Symbol.iterator]();!(S=(k=H.next()).done);S=!0)g.addSFSArray(k.value.toSFSArray())}catch(X){R=!0,N=X}finally{try{!S&&H.return&&H.return()}finally{if(R)throw N}}this._reqObj.putSFSArray(C.KEY_ROOMVARS,g)}if(null!=this._settings.permissions){var U=[];U.push(this._settings.permissions.allowNameChange),U.push(this._settings.permissions.allowPasswordStateChange),U.push(this._settings.permissions.allowPublicMessages),U.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(C.KEY_PERMISSIONS,U)}if(null!=this._settings.events){var G=[];G.push(this._settings.events.allowUserEnter),G.push(this._settings.events.allowUserExit),G.push(this._settings.events.allowUserCountChange),G.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(C.KEY_EVENTS,G)}null!=this._settings.extension&&(this._reqObj.putUtfString(C.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(C.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(C.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof v.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(C.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(C.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(C.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(C.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(C.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),C}();P.CreateRoomRequest=f},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BuddyOnlineState=P.SFSBuddy=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(46),T=function(){function m(_,p){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=_,this._name=p,this._isBlocked=f,this._isTemp=b,this._variables=new Map,Object.seal(this)}return O(m,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(_){return _.name.charAt(0)===E.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(_){return _.name.charAt(0)!==E.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(_){var p=!0,f=!1,b=void 0;try{for(var C,h=_[Symbol.iterator]();!(p=(C=h.next()).done);p=!0)this._setVariable(C.value)}catch(S){f=!0,b=S}finally{try{!p&&h.return&&h.return()}finally{if(f)throw b}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"_removeVariable",value:function(_){this._variables.delete(_)}},{key:"_clearVolatileVariables",value:function(){var _=!0,p=!1,f=void 0;try{for(var b,C=this.getOnlineVariables()[Symbol.iterator]();!(_=(b=C.next()).done);_=!0)this._removeVariable(b.value.name)}catch(g){p=!0,f=g}finally{try{!_&&C.return&&C.return()}finally{if(p)throw f}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var _=!0;return this.containsVariable(E.ReservedBuddyVariables.BV_ONLINE)&&(_=this.getVariable(E.ReservedBuddyVariables.BV_ONLINE).value),_&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(E.ReservedBuddyVariables.BV_STATE)?this.getVariable(E.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(E.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(E.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(_){var p=new m(_.get(0),_.get(1),_.get(2),_.size()>3&&_.get(4)),f=_.get(3);if(null!=f)for(var b=0;b<f.size();b++)p._setVariable(E.SFSBuddyVariable.fromSFSArray(f.get(b)));return p}}]),m}(),v=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});P.SFSBuddy=T,P.BuddyOnlineState=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSUserVariable=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(48),T=function(v){function m(_,p){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_,p,f));return b.isPrivate=!1,Object.seal(b),b}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(m,E.BaseVariable),O(m,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var _=function p(f,b,C){null===f&&(f=Function.prototype);var h=Object.getOwnPropertyDescriptor(f,b);if(void 0===h){var g=Object.getPrototypeOf(f);return null===g?void 0:p(g,b,C)}if("value"in h)return h.value;var S=h.get;return void 0!==S?S.call(C):void 0}(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"toSFSArray",this).call(this);return _.addBool(this.isPrivate),_}}],[{key:"fromSFSArray",value:function(_){var p=new m(_.get(0),_.get(2),_.get(1));return _.size()>3&&(p.isPrivate=_.get(3)),p}}]),m}();P.SFSUserVariable=T},function(B,P,d){for(var O,E=d(6),T=d(18),v=d(35),m=v("typed_array"),_=v("view"),p=!(!E.ArrayBuffer||!E.DataView),f=p,b=0,C="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");b<9;)(O=E[C[b++]])?(T(O.prototype,m,!0),T(O.prototype,_,!0)):f=!1;B.exports={ABV:p,CONSTR:f,TYPED:m,VIEW:_}},function(B,P,d){"use strict";var O=d(6),E=d(0),T=d(15),v=d(41),m=d(29),_=d(62),p=d(42),f=d(4),b=d(3),C=d(64),h=d(45),g=d(87);B.exports=function(S,R,N,k,H,L){var U=O[S],G=U,X=H?"set":"add",te=G&&G.prototype,z={},le=function(Y){var oe=te[Y];T(te,Y,"delete"==Y||"has"==Y?function(J){return!(L&&!f(J))&&oe.call(this,0===J?0:J)}:"get"==Y?function(J){return L&&!f(J)?void 0:oe.call(this,0===J?0:J)}:"add"==Y?function(J){return oe.call(this,0===J?0:J),this}:function(J,me){return oe.call(this,0===J?0:J,me),this})};if("function"==typeof G&&(L||te.forEach&&!b(function(){(new G).entries().next()}))){var K=new G,he=K[X](L?{}:-0,1)!=K,Te=b(function(){K.has(1)}),be=C(function(Y){new G(Y)}),Le=!L&&b(function(){for(var Y=new G,oe=5;oe--;)Y[X](oe,oe);return!Y.has(-0)});be||((G=R(function(Y,oe){p(Y,G,S);var J=g(new U,Y,G);return null!=oe&&_(oe,H,J[X],J),J})).prototype=te,te.constructor=G),(Te||Le)&&(le("delete"),le("has"),H&&le("get")),(Le||he)&&le(X),L&&te.clear&&delete te.clear}else G=k.getConstructor(R,S,H,X),v(G.prototype,N),m.NEED=!0;return h(G,S),z[S]=G,E(E.G+E.W+E.F*(G!=U),z),L||k.setStrong(G,S,H),G}},function(B,P,d){var O=d(27),E=d(132),T=d(80),v=d(5),m=d(12),_=d(79),p={},f={};(P=B.exports=function(b,C,h,g,S){var R,N,k,H,L=S?function(){return b}:_(b),U=O(h,g,C?2:1),G=0;if("function"!=typeof L)throw TypeError(b+" is not iterable!");if(T(L)){for(R=m(b.length);R>G;G++)if((H=C?U(v(N=b[G])[0],N[1]):U(b[G]))===p||H===f)return H}else for(k=L.call(b);!(N=k.next()).done;)if((H=E(k,U,N.value,C))===p||H===f)return H}).BREAK=p,P.RETURN=f},function(B,P,d){"use strict";var O=d(18),E=d(15),T=d(3),v=d(28),m=d(7);B.exports=function(_,p,f){var b=m(_),C=f(v,b,""[_]),h=C[0],g=C[1];T(function(){var S={};return S[b]=function(){return 7},7!=""[_](S)})&&(E(String.prototype,_,h),O(RegExp.prototype,b,2==p?function(S,R){return g.call(S,this,R)}:function(S){return g.call(S,this)}))}},function(B,P,d){var O=d(7)("iterator"),E=!1;try{var T=[7][O]();T.return=function(){E=!0},Array.from(T,function(){throw 2})}catch(v){}B.exports=function(v,m){if(!m&&!E)return!1;var _=!1;try{var p=[7],f=p[O]();f.next=function(){return{done:_=!0}},p[O]=function(){return f},v(p)}catch(b){}return _}},function(B,P,d){var O=d(0),E=d(28),T=d(3),v=d(88),m="["+v+"]",_=RegExp("^"+m+m+"*"),p=RegExp(m+m+"*$"),f=function(C,h,g){var S={},R=T(function(){return!!v[C]()||"\u200b\x85"!="\u200b\x85"[C]()}),N=S[C]=R?h(b):v[C];g&&(S[g]=N),O(O.P+O.F*R,"String",S)},b=f.trim=function(C,h){return C=String(E(C)),1&h&&(C=C.replace(_,"")),2&h&&(C=C.replace(p,"")),C};B.exports=f},function(B,P,d){var O=d(25),E=d(7)("toStringTag"),T="Arguments"==O(function(){return arguments}());B.exports=function(v){var m,_,p;return void 0===v?"Undefined":null===v?"Null":"string"==typeof(_=function(f,b){try{return f[b]}catch(C){}}(m=Object(v),E))?_:T?O(m):"Object"==(p=O(m))&&"function"==typeof m.callee?"Arguments":p}},function(B,P){P.f={}.propertyIsEnumerable},function(B,P){P.f=Object.getOwnPropertySymbols},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.InviteUsersRequest=void 0;var O=function(){function f(b,C){for(var h=0;h<C.length;h++){var g=C[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,C,h){return C&&f(b.prototype,C),h&&f(b,h),b}}(),E=d(2),T=d(1),v=d(47),m=d(58),_=d(8),p=function(f){function b(C,h){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}(this,b);var S=function(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?R:N}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E.Requests.InviteUsers));return S._invitedUsers=C,S._secondsForAnswer=h,S._params=g,Object.seal(S),S}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,E.BaseRequest),O(b,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),O(b,[{key:"validate",value:function(C){var h=[];if(null==this._invitedUsers?h.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&h.push("No invited users"),this._invitedUsers.length>b.MAX_INVITATIONS_FROM_CLIENT_SIDE&&h.push("Too many invitations; "+b.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(g){return g instanceof v.SFSUser||g instanceof m.SFSBuddy})||h.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):h.push("Invited users must be passed in an array"),(this._secondsForAnswer<b.MIN_EXPIRY_TIME||this._secondsForAnswer>b.MAX_EXPIRY_TIME)&&h.push("secondsForAnswer value is out of range (min: "+b.MIN_EXPIRY_TIME+"; max: "+b.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof _.SFSObject||h.push("Custom invitation parameters must be set in a SFSObject class instance"),h.length>0)throw new T.SFSValidationError("InviteUsersRequest Error",h)}},{key:"execute",value:function(C){var h=[],g=!0,S=!1,R=void 0;try{for(var N,k=this._invitedUsers[Symbol.iterator]();!(g=(N=k.next()).done);g=!0){var H=N.value;if(H instanceof v.SFSUser||H instanceof m.SFSBuddy){if(H===C.mySelf)continue;h.push(H.id)}}}catch(L){S=!0,R=L}finally{try{!g&&k.return&&k.return()}finally{if(S)throw R}}this._reqObj.putIntArray(b.KEY_INVITED_USERS,h),this._reqObj.putShort(b.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(b.KEY_PARAMS,this._params)}}]),b}();P.InviteUsersRequest=p},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.AdminMessageRequest=P.ModeratorMessageRequest=P.ObjectMessageRequest=P.PrivateMessageRequest=P.PublicMessageRequest=P.GenericMessageRequest=P.GenericMessageType=void 0;var O=function(){function L(U,G){for(var X=0;X<G.length;X++){var te=G[X];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(U,te.key,te)}}return function(U,G,X){return G&&L(U.prototype,G),X&&L(U,X),U}}(),E=d(2),T=d(1),v=d(56),m=d(8),_=d(9),p=d(47);function f(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function b(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?L:U}function C(L,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var h=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),g=function(L){function U(){f(this,U);var G=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,E.Requests.GenericMessage));return G._type=-1,G._room=null,G._user=null,G._message=null,G._params=null,G._recipient=null,G._sendMode=-1,Object.seal(G),G}return C(U,E.BaseRequest),O(U,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),O(U,[{key:"validate",value:function(G){if(this._type<0)throw new T.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var X=[];switch(this._type){case h.PUBLIC_MSG:this._validatePublicMessage(G,X);break;case h.PRIVATE_MSG:this._validatePrivateMessage(G,X);break;case h.OBJECT_MSG:this._validateObjectMessage(G,X);break;case h.BUDDY_MSG:this._validateBuddyMessage(G,X);break;default:this._validateSuperUserMessage(G,X)}if(X.length>0)throw new T.SFSValidationError("GenericMessageRequest Error",X)}},{key:"execute",value:function(G){switch(this._reqObj.putByte(U.KEY_MESSAGE_TYPE,this._type),this._type){case h.PUBLIC_MSG:this._executePublicMessage(G);break;case h.PRIVATE_MSG:this._executePrivateMessage(G);break;case h.OBJECT_MSG:this._executeObjectMessage(G);break;case h.BUDDY_MSG:this._executeBuddyMessage(G);break;default:this._executeSuperUserMessage(G)}}},{key:"_validatePublicMessage",value:function(G,X){null!=this._message&&0!==this._message.length||X.push("Public message is empty"),null==this._room&&(this._room=G.lastJoinedRoom),null==this._room?X.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?G.getJoinedRooms().indexOf(this._room)<0&&X.push("You are not joined in the target Room: "+this._room):X.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(G,X){null!=this._message&&0!==this._message.length||X.push("Private message is empty"),this._recipient<0&&X.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(G,X){null==this._params?X.push("Object message is null"):this._params instanceof m.SFSObject||X.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=G.lastJoinedRoom),null==this._room?X.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?G.getJoinedRooms().indexOf(this._room)<0&&X.push("You are not joined in the target Room: "+this._room):X.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(te){return te instanceof p.SFSUser})||X.push("Each message recipient must be an instance of SFSUser class"):X.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&X.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(G,X){G.buddyManager.isInited||X.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===G.buddyManager.myOnlineState&&X.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||X.push("Buddy message is empty"),this._recipient<0&&X.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(G,X){switch(null!=this._message&&0!==this._message.length||X.push("Moderator message is empty"),null==this._params||this._params instanceof m.SFSObject||X.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case v.MessageRecipientMode.TO_USER:this._recipient instanceof p.SFSUser||X.push("Recipient must be an instance of SFSUser class");break;case v.MessageRecipientMode.TO_ROOM:this._recipient instanceof _.SFSRoom||X.push("Recipient must be an instance of SFSRoom class");break;case v.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&X.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(G){this._reqObj.putInt(U.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(U.KEY_USER_ID,G.mySelf.id),this._reqObj.putUtfString(U.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(U.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(G){this._reqObj.putInt(U.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(U.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(U.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(G){this._reqObj.putInt(U.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(U.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(U.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(G){switch(this._reqObj.putUtfString(U.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(U.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(U.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case v.MessageRecipientMode.TO_USER:case v.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(U.KEY_RECIPIENT,this._recipient.id);break;case v.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(U.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(G){this._reqObj.putInt(U.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(U.KEY_XTRA_PARAMS,this._params);var X=new Set;if(null!=this._recipient){var te=!0,z=!1,le=void 0;try{for(var K,he=this._recipient[Symbol.iterator]();!(te=(K=he.next()).done);te=!0)X.add(K.value.id)}catch(be){z=!0,le=be}finally{try{!te&&he.return&&he.return()}finally{if(z)throw le}}}X.size>0&&this._reqObj.putIntArray(U.KEY_RECIPIENT,Array.from(X))}}]),U}(),S=function(L){function U(G){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,U);var z=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));return z._type=h.OBJECT_MSG,z._params=G,z._room=X,z._recipient=te,Object.seal(z),z}return C(U,g),U}(),R=function(L){function U(G){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,U);var z=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));return z._type=h.PUBLIC_MSG,z._message=G,z._room=te,z._params=X,Object.seal(z),z}return C(U,g),U}(),N=function(L){function U(G,X){var te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,U);var z=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));return z._type=h.PRIVATE_MSG,z._message=G,z._recipient=X,z._params=te,Object.seal(z),z}return C(U,g),U}(),k=function(L){function U(G,X){var te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,U);var z=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));if(null==X)throw new T.SFSError("Recipient mode cannot be null");if(!(X instanceof v.MessageRecipientMode))throw new T.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return z._type=h.MODERATOR_MSG,z._message=G,z._params=te,z._recipient=X.target,z._sendMode=X.mode,Object.seal(z),z}return C(U,g),U}(),H=function(L){function U(G,X){var te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,U);var z=b(this,(U.__proto__||Object.getPrototypeOf(U)).call(this));if(null==X)throw new T.SFSError("Recipient mode cannot be null");if(!(X instanceof v.MessageRecipientMode))throw new T.SFSError("Recipient mode must an instance of MessageRecipientMode class");return z._type=h.ADMING_MSG,z._message=G,z._params=te,z._recipient=X.target,z._sendMode=X.mode,Object.seal(z),z}return C(U,g),U}();P.GenericMessageType=h,P.GenericMessageRequest=g,P.PublicMessageRequest=R,P.PrivateMessageRequest=N,P.ObjectMessageRequest=S,P.ModeratorMessageRequest=k,P.AdminMessageRequest=H},function(B,P,d){"use strict";d.r(P),d.d(P,"MD5",function(){return O});var O=function(){this.hexcase=0,this.b64pad=""};O.prototype={},O.prototype.hex_md5=function(E){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(E)))},O.prototype.b64_md5=function(E){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(E)))},O.prototype.any_md5=function(E,T){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(E)),T)},O.prototype.hex_hmac_md5=function(E,T){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(E),this.str2rstr_utf8(T)))},O.prototype.b64_hmac_md5=function(E,T){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(E),this.str2rstr_utf8(T)))},O.prototype.any_hmac_md5=function(E,T,v){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(E),this.str2rstr_utf8(T)),v)},O.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},O.prototype.rstr_md5=function(E){return this.binl2rstr(this.binl_md5(this.rstr2binl(E),8*E.length))},O.prototype.rstr_hmac_md5=function(E,T){var v=this.rstr2binl(E);v.length>16&&(v=this.binl_md5(v,8*E.length));for(var m=Array(16),_=Array(16),p=0;p<16;p++)m[p]=909522486^v[p],_[p]=1549556828^v[p];var f=this.binl_md5(m.concat(this.rstr2binl(T)),512+8*T.length);return this.binl2rstr(this.binl_md5(_.concat(f),640))},O.prototype.rstr2hex=function(E){for(var T,v=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",m="",_=0;_<E.length;_++)T=E.charCodeAt(_),m+=v.charAt(T>>>4&15)+v.charAt(15&T);return m},O.prototype.rstr2b64=function(E){for(var T="",v=E.length,m=0;m<v;m+=3)for(var _=E.charCodeAt(m)<<16|(m+1<v?E.charCodeAt(m+1)<<8:0)|(m+2<v?E.charCodeAt(m+2):0),p=0;p<4;p++)T+=8*m+6*p>8*E.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(_>>>6*(3-p)&63);return T},O.prototype.rstr2any=function(E,T){var v,m,_,p,f,b=T.length,C=Array(Math.ceil(E.length/2));for(v=0;v<C.length;v++)C[v]=E.charCodeAt(2*v)<<8|E.charCodeAt(2*v+1);var h=Math.ceil(8*E.length/(Math.log(T.length)/Math.log(2))),g=Array(h);for(m=0;m<h;m++){for(f=Array(),p=0,v=0;v<C.length;v++)p=(p<<16)+C[v],p-=(_=Math.floor(p/b))*b,(f.length>0||_>0)&&(f[f.length]=_);g[m]=p,C=f}var S="";for(v=g.length-1;v>=0;v--)S+=T.charAt(g[v]);return S},O.prototype.str2rstr_utf8=function(E){for(var T,v,m="",_=-1;++_<E.length;)T=E.charCodeAt(_),v=_+1<E.length?E.charCodeAt(_+1):0,55296<=T&&T<=56319&&56320<=v&&v<=57343&&(T=65536+((1023&T)<<10)+(1023&v),_++),T<=127?m+=String.fromCharCode(T):T<=2047?m+=String.fromCharCode(192|T>>>6&31,128|63&T):T<=65535?m+=String.fromCharCode(224|T>>>12&15,128|T>>>6&63,128|63&T):T<=2097151&&(m+=String.fromCharCode(240|T>>>18&7,128|T>>>12&63,128|T>>>6&63,128|63&T));return m},O.prototype.str2rstr_utf16le=function(E){for(var T="",v=0;v<E.length;v++)T+=String.fromCharCode(255&E.charCodeAt(v),E.charCodeAt(v)>>>8&255);return T},O.prototype.str2rstr_utf16be=function(E){for(var T="",v=0;v<E.length;v++)T+=String.fromCharCode(E.charCodeAt(v)>>>8&255,255&E.charCodeAt(v));return T},O.prototype.rstr2binl=function(E){for(var T=Array(E.length>>2),v=0;v<T.length;v++)T[v]=0;for(v=0;v<8*E.length;v+=8)T[v>>5]|=(255&E.charCodeAt(v/8))<<v%32;return T},O.prototype.binl2rstr=function(E){for(var T="",v=0;v<32*E.length;v+=8)T+=String.fromCharCode(E[v>>5]>>>v%32&255);return T},O.prototype.binl_md5=function(E,T){E[T>>5]|=128<<T%32,E[14+(T+64>>>9<<4)]=T;for(var v=1732584193,m=-271733879,_=-1732584194,p=271733878,f=0;f<E.length;f+=16){var b=v,C=m,h=_,g=p;v=this.md5_ff(v,m,_,p,E[f+0],7,-680876936),p=this.md5_ff(p,v,m,_,E[f+1],12,-389564586),_=this.md5_ff(_,p,v,m,E[f+2],17,606105819),m=this.md5_ff(m,_,p,v,E[f+3],22,-1044525330),v=this.md5_ff(v,m,_,p,E[f+4],7,-176418897),p=this.md5_ff(p,v,m,_,E[f+5],12,1200080426),_=this.md5_ff(_,p,v,m,E[f+6],17,-1473231341),m=this.md5_ff(m,_,p,v,E[f+7],22,-45705983),v=this.md5_ff(v,m,_,p,E[f+8],7,1770035416),p=this.md5_ff(p,v,m,_,E[f+9],12,-1958414417),_=this.md5_ff(_,p,v,m,E[f+10],17,-42063),m=this.md5_ff(m,_,p,v,E[f+11],22,-1990404162),v=this.md5_ff(v,m,_,p,E[f+12],7,1804603682),p=this.md5_ff(p,v,m,_,E[f+13],12,-40341101),_=this.md5_ff(_,p,v,m,E[f+14],17,-1502002290),m=this.md5_ff(m,_,p,v,E[f+15],22,1236535329),v=this.md5_gg(v,m,_,p,E[f+1],5,-165796510),p=this.md5_gg(p,v,m,_,E[f+6],9,-1069501632),_=this.md5_gg(_,p,v,m,E[f+11],14,643717713),m=this.md5_gg(m,_,p,v,E[f+0],20,-373897302),v=this.md5_gg(v,m,_,p,E[f+5],5,-701558691),p=this.md5_gg(p,v,m,_,E[f+10],9,38016083),_=this.md5_gg(_,p,v,m,E[f+15],14,-660478335),m=this.md5_gg(m,_,p,v,E[f+4],20,-405537848),v=this.md5_gg(v,m,_,p,E[f+9],5,568446438),p=this.md5_gg(p,v,m,_,E[f+14],9,-1019803690),_=this.md5_gg(_,p,v,m,E[f+3],14,-187363961),m=this.md5_gg(m,_,p,v,E[f+8],20,1163531501),v=this.md5_gg(v,m,_,p,E[f+13],5,-1444681467),p=this.md5_gg(p,v,m,_,E[f+2],9,-51403784),_=this.md5_gg(_,p,v,m,E[f+7],14,1735328473),m=this.md5_gg(m,_,p,v,E[f+12],20,-1926607734),v=this.md5_hh(v,m,_,p,E[f+5],4,-378558),p=this.md5_hh(p,v,m,_,E[f+8],11,-2022574463),_=this.md5_hh(_,p,v,m,E[f+11],16,1839030562),m=this.md5_hh(m,_,p,v,E[f+14],23,-35309556),v=this.md5_hh(v,m,_,p,E[f+1],4,-1530992060),p=this.md5_hh(p,v,m,_,E[f+4],11,1272893353),_=this.md5_hh(_,p,v,m,E[f+7],16,-155497632),m=this.md5_hh(m,_,p,v,E[f+10],23,-1094730640),v=this.md5_hh(v,m,_,p,E[f+13],4,681279174),p=this.md5_hh(p,v,m,_,E[f+0],11,-358537222),_=this.md5_hh(_,p,v,m,E[f+3],16,-722521979),m=this.md5_hh(m,_,p,v,E[f+6],23,76029189),v=this.md5_hh(v,m,_,p,E[f+9],4,-640364487),p=this.md5_hh(p,v,m,_,E[f+12],11,-421815835),_=this.md5_hh(_,p,v,m,E[f+15],16,530742520),m=this.md5_hh(m,_,p,v,E[f+2],23,-995338651),v=this.md5_ii(v,m,_,p,E[f+0],6,-198630844),p=this.md5_ii(p,v,m,_,E[f+7],10,1126891415),_=this.md5_ii(_,p,v,m,E[f+14],15,-1416354905),m=this.md5_ii(m,_,p,v,E[f+5],21,-57434055),v=this.md5_ii(v,m,_,p,E[f+12],6,1700485571),p=this.md5_ii(p,v,m,_,E[f+3],10,-1894986606),_=this.md5_ii(_,p,v,m,E[f+10],15,-1051523),m=this.md5_ii(m,_,p,v,E[f+1],21,-2054922799),v=this.md5_ii(v,m,_,p,E[f+8],6,1873313359),p=this.md5_ii(p,v,m,_,E[f+15],10,-30611744),_=this.md5_ii(_,p,v,m,E[f+6],15,-1560198380),m=this.md5_ii(m,_,p,v,E[f+13],21,1309151649),v=this.md5_ii(v,m,_,p,E[f+4],6,-145523070),p=this.md5_ii(p,v,m,_,E[f+11],10,-1120210379),_=this.md5_ii(_,p,v,m,E[f+2],15,718787259),m=this.md5_ii(m,_,p,v,E[f+9],21,-343485551),v=this.safe_add(v,b),m=this.safe_add(m,C),_=this.safe_add(_,h),p=this.safe_add(p,g)}return Array(v,m,_,p)},O.prototype.md5_cmn=function(E,T,v,m,_,p){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(T,E),this.safe_add(m,p)),_),v)},O.prototype.md5_ff=function(E,T,v,m,_,p,f){return this.md5_cmn(T&v|~T&m,E,T,_,p,f)},O.prototype.md5_gg=function(E,T,v,m,_,p,f){return this.md5_cmn(T&m|v&~m,E,T,_,p,f)},O.prototype.md5_hh=function(E,T,v,m,_,p,f){return this.md5_cmn(T^v^m,E,T,_,p,f)},O.prototype.md5_ii=function(E,T,v,m,_,p,f){return this.md5_cmn(v^(T|~m),E,T,_,p,f)},O.prototype.safe_add=function(E,T){var v=(65535&E)+(65535&T);return(E>>16)+(T>>16)+(v>>16)<<16|65535&v},O.prototype.bit_rol=function(E,T){return E<<T|E>>>32-T}},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=function(){function v(m,_){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,v),this._id=-1,this._inviter=m,this._invitee=_,this._secondsForAnswer=p,this._params=f,Object.seal(this)}return O(v,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),v}(),T=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});P.SFSInvitation=E,P.InvitationReply=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MMOItemVariable=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(48),T=function(v){function m(_,p){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,m);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_,p,f));return Object.freeze(b),b}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(m,E.BaseVariable),O(m,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(_){return new m(_.get(0),_.get(2),_.get(1))}}]),m}();P.MMOItemVariable=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=function(){function v(){throw function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,v),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return O(v,null,[{key:"setErrorMessage",value:function(m,_){this._errorsByCode[m]=_}},{key:"getErrorMessage",value:function(m,_){return this.stringFormat(this._errorsByCode[m],_)}},{key:"stringFormat",value:function(m,_){if(null==m)return"";if(null!=_)for(var p=0;p<_.length;p++)m=m.replace("{"+p+"}",_[p]);return m}},{key:"_errorsByCode",get:function(){return T}}]),v}();P.SFSErrorCodes=E;var T=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(B,P,d){"use strict";var O=d(6),E=d(11),T=d(44),v=d(60),m=d(18),_=d(41),p=d(3),f=d(42),b=d(24),C=d(12),h=d(121),g=d(32).f,S=d(10).f,R=d(78),N=d(45),k="prototype",H="Wrong index!",L=O.ArrayBuffer,U=O.DataView,G=O.Math,X=O.RangeError,te=O.Infinity,z=L,le=G.abs,K=G.pow,he=G.floor,Te=G.log,be=G.LN2,Le=E?"_b":"buffer",Y=E?"_l":"byteLength",oe=E?"_o":"byteOffset";function J(Ce,Ue,Ht){var Dt,$t,Hn,Qe=new Array(Ht),at=8*Ht-Ue-1,_e=(1<<at)-1,de=_e>>1,Se=23===Ue?K(2,-24)-K(2,-77):0,Me=0,ye=Ce<0||0===Ce&&1/Ce<0?1:0;for((Ce=le(Ce))!=Ce||Ce===te?($t=Ce!=Ce?1:0,Dt=_e):(Dt=he(Te(Ce)/be),Ce*(Hn=K(2,-Dt))<1&&(Dt--,Hn*=2),(Ce+=Dt+de>=1?Se/Hn:Se*K(2,1-de))*Hn>=2&&(Dt++,Hn/=2),Dt+de>=_e?($t=0,Dt=_e):Dt+de>=1?($t=(Ce*Hn-1)*K(2,Ue),Dt+=de):($t=Ce*K(2,de-1)*K(2,Ue),Dt=0));Ue>=8;Qe[Me++]=255&$t,$t/=256,Ue-=8);for(Dt=Dt<<Ue|$t,at+=Ue;at>0;Qe[Me++]=255&Dt,Dt/=256,at-=8);return Qe[--Me]|=128*ye,Qe}function me(Ce,Ue,Ht){var Dt,$t=8*Ht-Ue-1,Hn=(1<<$t)-1,Qe=Hn>>1,at=$t-7,_e=Ht-1,de=Ce[_e--],Se=127&de;for(de>>=7;at>0;Se=256*Se+Ce[_e],_e--,at-=8);for(Dt=Se&(1<<-at)-1,Se>>=-at,at+=Ue;at>0;Dt=256*Dt+Ce[_e],_e--,at-=8);if(0===Se)Se=1-Qe;else{if(Se===Hn)return Dt?NaN:de?-te:te;Dt+=K(2,Ue),Se-=Qe}return(de?-1:1)*Dt*K(2,Se-Ue)}function ie(Ce){return Ce[3]<<24|Ce[2]<<16|Ce[1]<<8|Ce[0]}function se(Ce){return[255&Ce]}function ue(Ce){return[255&Ce,Ce>>8&255]}function Re(Ce){return[255&Ce,Ce>>8&255,Ce>>16&255,Ce>>24&255]}function Xe(Ce){return J(Ce,52,8)}function De(Ce){return J(Ce,23,4)}function Et(Ce,Ue,Ht){S(Ce[k],Ue,{get:function(){return this[Ht]}})}function $e(Ce,Ue,Ht,Dt){var $t=h(+Ht);if($t+Ue>Ce[Y])throw X(H);var Qe=$t+Ce[oe],at=Ce[Le]._b.slice(Qe,Qe+Ue);return Dt?at:at.reverse()}function Ne(Ce,Ue,Ht,Dt,$t,Hn){var Qe=h(+Ht);if(Qe+Ue>Ce[Y])throw X(H);for(var at=Ce[Le]._b,_e=Qe+Ce[oe],de=Dt(+$t),Se=0;Se<Ue;Se++)at[_e+Se]=de[Hn?Se:Ue-Se-1]}if(v.ABV){if(!p(function(){L(1)})||!p(function(){new L(-1)})||p(function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name})){for(var ne,ce=(L=function(Ce){return f(this,L),new z(h(Ce))})[k]=z[k],fe=g(z),Ie=0;fe.length>Ie;)(ne=fe[Ie++])in L||m(L,ne,z[ne]);T||(ce.constructor=L)}var je=new U(new L(2)),Je=U[k].setInt8;je.setInt8(0,2147483648),je.setInt8(1,2147483649),!je.getInt8(0)&&je.getInt8(1)||_(U[k],{setInt8:function(Ce,Ue){Je.call(this,Ce,Ue<<24>>24)},setUint8:function(Ce,Ue){Je.call(this,Ce,Ue<<24>>24)}},!0)}else L=function(Ce){f(this,L,"ArrayBuffer");var Ue=h(Ce);this._b=R.call(new Array(Ue),0),this[Y]=Ue},U=function(Ce,Ue,Ht){f(this,U,"DataView"),f(Ce,L,"DataView");var Dt=Ce[Y],$t=b(Ue);if($t<0||$t>Dt)throw X("Wrong offset!");if($t+(Ht=void 0===Ht?Dt-$t:C(Ht))>Dt)throw X("Wrong length!");this[Le]=Ce,this[oe]=$t,this[Y]=Ht},E&&(Et(L,"byteLength","_l"),Et(U,"buffer","_b"),Et(U,"byteLength","_l"),Et(U,"byteOffset","_o")),_(U[k],{getInt8:function(Ce){return $e(this,1,Ce)[0]<<24>>24},getUint8:function(Ce){return $e(this,1,Ce)[0]},getInt16:function(Ce){var Ue=$e(this,2,Ce,arguments[1]);return(Ue[1]<<8|Ue[0])<<16>>16},getUint16:function(Ce){var Ue=$e(this,2,Ce,arguments[1]);return Ue[1]<<8|Ue[0]},getInt32:function(Ce){return ie($e(this,4,Ce,arguments[1]))},getUint32:function(Ce){return ie($e(this,4,Ce,arguments[1]))>>>0},getFloat32:function(Ce){return me($e(this,4,Ce,arguments[1]),23,4)},getFloat64:function(Ce){return me($e(this,8,Ce,arguments[1]),52,8)},setInt8:function(Ce,Ue){Ne(this,1,Ce,se,Ue)},setUint8:function(Ce,Ue){Ne(this,1,Ce,se,Ue)},setInt16:function(Ce,Ue){Ne(this,2,Ce,ue,Ue,arguments[2])},setUint16:function(Ce,Ue){Ne(this,2,Ce,ue,Ue,arguments[2])},setInt32:function(Ce,Ue){Ne(this,4,Ce,Re,Ue,arguments[2])},setUint32:function(Ce,Ue){Ne(this,4,Ce,Re,Ue,arguments[2])},setFloat32:function(Ce,Ue){Ne(this,4,Ce,De,Ue,arguments[2])},setFloat64:function(Ce,Ue){Ne(this,8,Ce,Xe,Ue,arguments[2])}});N(L,"ArrayBuffer"),N(U,"DataView"),m(U[k],v.VIEW,!0),P.ArrayBuffer=L,P.DataView=U},function(B,P,d){var O=d(5),E=d(26),T=d(7)("species");B.exports=function(v,m){var _,p=O(v).constructor;return void 0===p||null==(_=O(p)[T])?m:E(_)}},function(B,P,d){"use strict";var O=d(5);B.exports=function(){var E=O(this),T="";return E.global&&(T+="g"),E.ignoreCase&&(T+="i"),E.multiline&&(T+="m"),E.unicode&&(T+="u"),E.sticky&&(T+="y"),T}},function(B,P,d){"use strict";var O=d(14),E=d(34),T=d(12);B.exports=function(v){for(var m=O(this),_=T(m.length),p=arguments.length,f=E(p>1?arguments[1]:void 0,_),b=p>2?arguments[2]:void 0,C=void 0===b?_:E(b,_);C>f;)m[f++]=v;return m}},function(B,P,d){var O=d(66),E=d(7)("iterator"),T=d(53);B.exports=d(37).getIteratorMethod=function(v){if(null!=v)return v[E]||v["@@iterator"]||T[O(v)]}},function(B,P,d){var O=d(53),E=d(7)("iterator"),T=Array.prototype;B.exports=function(v){return void 0!==v&&(O.Array===v||T[E]===v)}},function(B,P,d){var O=d(7)("match");B.exports=function(E){var T=/./;try{"/./"[E](T)}catch(v){try{return T[O]=!1,!"/./"[E](T)}catch(m){}}return!0}},function(B,P,d){var O=d(4),E=d(25),T=d(7)("match");B.exports=function(v){var m;return O(v)&&(void 0!==(m=v[T])?!!m:"RegExp"==E(v))}},function(B,P,d){var O=d(82),E=d(28);B.exports=function(T,v,m){if(O(v))throw TypeError("String#"+m+" doesn't accept regex!");return String(E(T))}},function(B,P,d){"use strict";var O=d(44),E=d(0),T=d(15),v=d(18),m=d(53),_=d(133),p=d(45),f=d(31),b=d(7)("iterator"),C=!([].keys&&"next"in[].keys()),h=function(){return this};B.exports=function(g,S,R,N,k,H,L){_(R,S,N);var U,G,X,te=function(oe){if(!C&&oe in he)return he[oe];switch(oe){case"keys":case"values":return function(){return new R(this,oe)}}return function(){return new R(this,oe)}},z=S+" Iterator",le="values"==k,K=!1,he=g.prototype,Te=he[b]||he["@@iterator"]||k&&he[k],be=Te||te(k),Le=k?le?te("entries"):be:void 0,Y="Array"==S&&he.entries||Te;if(Y&&(X=f(Y.call(new g)))!==Object.prototype&&X.next&&(p(X,z,!0),O||"function"==typeof X[b]||v(X,b,h)),le&&Te&&"values"!==Te.name&&(K=!0,be=function(){return Te.call(this)}),O&&!L||!C&&!K&&he[b]||v(he,b,be),m[S]=be,m[z]=h,k)if(U={values:le?be:te("values"),keys:H?be:te("keys"),entries:Le},L)for(G in U)G in he||T(he,G,U[G]);else E(E.P+E.F*(C||K),S,U);return U}},function(B,P){var d=Math.expm1;B.exports=!d||d(10)>22025.465794806718||d(10)<22025.465794806718||-2e-17!=d(-2e-17)?function(O){return 0==(O=+O)?O:O>-1e-6&&O<1e-6?O+O*O/2:Math.exp(O)-1}:d},function(B,P){B.exports=Math.sign||function(d){return 0==(d=+d)||d!=d?d:d<0?-1:1}},function(B,P,d){var O=d(4),E=d(89).set;B.exports=function(T,v,m){var _,p=v.constructor;return p!==m&&"function"==typeof p&&(_=p.prototype)!==m.prototype&&O(_)&&E&&E(T,_),T}},function(B,P){B.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(B,P,d){var O=d(4),E=d(5),T=function(v,m){if(E(v),!O(m)&&null!==m)throw TypeError(m+": can't set as prototype!")};B.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(v,m,_){try{(_=d(27)(Function.call,d(23).f(Object.prototype,"__proto__").set,2))(v,[]),m=!(v instanceof Array)}catch(p){m=!0}return function(p,f){return T(p,f),m?p.__proto__=f:_(p,f),p}}({},!1):void 0),check:T}},function(B,P,d){var O=d(6).document;B.exports=O&&O.documentElement},function(B,P,d){var O=d(25);B.exports=Array.isArray||function(E){return"Array"==O(E)}},function(B,P){B.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(B,P,d){var O=d(95)("keys"),E=d(35);B.exports=function(T){return O[T]||(O[T]=E(T))}},function(B,P,d){var O=d(21),E=d(12),T=d(34);B.exports=function(v){return function(m,_,p){var f,b=O(m),C=E(b.length),h=T(p,C);if(v&&_!=_){for(;C>h;)if((f=b[h++])!=f)return!0}else for(;C>h;h++)if((v||h in b)&&b[h]===_)return v||h||0;return!v&&-1}}},function(B,P,d){var O=d(6),E=O["__core-js_shared__"]||(O["__core-js_shared__"]={});B.exports=function(T){return E[T]||(E[T]={})}},function(B,P,d){var O=d(4),E=d(6).document,T=O(E)&&O(E.createElement);B.exports=function(v){return T?E.createElement(v):{}}},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ExtensionRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(8),m=d(9),_=function(p){function f(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,f);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.CallExtension));return g._targetController=1,g._extCmd=b,g._params=C,g._room=h,null==g._params&&(g._params=new v.SFSObject),Object.seal(g),g}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null!=this._extCmd&&0!==this._extCmd.length||C.push("Missing extension command"),null==this._params||this._params instanceof v.SFSObject||C.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof m.SFSRoom||C.push("Room must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("ExtensionRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putUtfString(f.KEY_CMD,this._extCmd),this._reqObj.putInt(f.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(f.KEY_PARAMS,this._params)}}]),f}();P.ExtensionRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SetBuddyVariablesRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(8),m=d(46),_=function(p){function f(b){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.SetBuddyVariables));return C._buddyVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(b.buddyManager.isInited||C.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===b.buddyManager.getMyOnlineState()&&C.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?C.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?C.push("No Buddy Variables specified"):this._buddyVariables.every(function(h){return h instanceof m.SFSBuddyVariable})||C.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):C.push("Buddy Variables must be passed in an array"),C.length>0)throw new T.SFSValidationError("SetBuddyVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new v.SFSArray,h=!0,g=!1,S=void 0;try{for(var R,N=this._buddyVariables[Symbol.iterator]();!(h=(R=N.next()).done);h=!0)C.addSFSArray(R.value.toSFSArray())}catch(H){g=!0,S=H}finally{try{!h&&N.return&&N.return()}finally{if(g)throw S}}this._reqObj.putSFSArray(f.KEY_BUDDY_VARS,C)}}]),f}();P.SetBuddyVariablesRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.GoOnlineRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.GoOnline));return f._online=p,Object.seal(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(p.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),f.length>0)throw new T.SFSValidationError("GoOnlineRequest Error",f)}},{key:"execute",value:function(p){p.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(_.KEY_ONLINE,this._online)}}]),_}();P.GoOnlineRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BlockBuddyRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p,f){!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.BlockBuddy));return b._name=p,b._blocked=f,Object.seal(b),b}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(p.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&f.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)f.push("Invalid buddy name (null or empty string)");else{var b=p.buddyManager.getBuddyByName(this._name);null==b?f.push("Can't block buddy '"+this._name+"' because it isn't in your list"):b.isBlocked==this._blocked&&f.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(f.length>0)throw new T.SFSValidationError("BlockBuddyRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(_.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),_}();P.BlockBuddyRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.RemoveBuddyRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.RemoveBuddy));return f._name=p,Object.seal(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(p.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&f.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?f.push("Invalid buddy name (null or empty string)"):p.buddyManager.containsBuddy(this._name)||f.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),f.length>0)throw new T.SFSValidationError("RemoveBuddyRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_BUDDY_NAME,this._name)}}]),_}();P.RemoveBuddyRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.AddBuddyRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.AddBuddy));return f._name=p,Object.seal(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),O(_,[{key:"validate",value:function(p){var f=[];p.buddyManager.isInited||f.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&f.push("Invalid buddy name (null or empty string)"),!1===p.buddyManager.getMyOnlineState()&&f.push("Can't add a buddy while you are offline in the Buddy List system");var b=p.buddyManager.getBuddyByName(this._name);if(null==b||b.isTemp||f.push("Can't add buddy '"+this._name+"' because it is already in your list"),f.length>0)throw new T.SFSValidationError("AddBuddyRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_BUDDY_NAME,this._name)}}]),_}();P.AddBuddyRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.InitBuddyListRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,_);var p=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.InitBuddyList));return Object.seal(p),p}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(p.buddyManager.isInited&&f.push("Buddy List is already initialized"),f.length>0)throw new T.SFSValidationError("InitBuddyListRequest Error",f)}},{key:"execute",value:function(p){}}]),_}();P.InitBuddyListRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SetUserPositionRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(8),m=d(9),_=function(p){function f(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,f);var h=function(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?g:S}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.SetUserPosition));return h._pos=b,h._room=C,Object.seal(h),h}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null!=this._pos&&this._pos instanceof v.Vec3D||C.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=b.lastJoinedRoom),null==this._room&&C.push("You are not joined in any room"),this._room instanceof m.MMORoom||C.push("Target room must be an instance of MMORoom class"),C.length>0)throw new T.SFSValidationError("SetUserPosition Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(f.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(f.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(f.KEY_VEC3D,this._pos.toArray())}}]),f}();P.SetUserPositionRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.FindUsersRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(9),m=d(38),_=function(p){function f(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,f);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.FindUsers));return g._matchExpr=b,g._target=C,g._limit=h,Object.seal(g),g}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpr&&C.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof m.MatchExpression||C.push("Match expression must be passed as an instance of MatchExpression class"),C.length>0)throw new T.SFSValidationError("FindUsersRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putSFSArray(f.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof v.SFSRoom?this._reqObj.putInt(f.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(f.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(f.KEY_LIMIT,this._limit)}}]),f}();P.FindUsersRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.FindRoomsRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(38),m=function(_){function p(f){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?g:S}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.FindRooms));return h._matchExpr=f,h._groupId=b,h._limit=C,Object.seal(h),h}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(null==this._matchExpr&&b.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof v.MatchExpression||b.push("Match expression must be passed as an instance of MatchExpression class"),b.length>0)throw new T.SFSValidationError("FindRoomsRequest Error",b)}},{key:"execute",value:function(f){this._reqObj.putSFSArray(p.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(p.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(p.KEY_LIMIT,this._limit)}}]),p}();P.FindRoomsRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.PlayerToSpectatorRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.PlayerToSpectator));return b._room=f,Object.seal(b),b}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(f.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof v.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new T.SFSValidationError("PlayerToSpectatorRequest Error",b)}},{key:"execute",value:function(f){null==this._room&&(this._room=f.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();P.PlayerToSpectatorRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SpectatorToPlayerRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.SpectatorToPlayer));return b._room=f,Object.seal(b),b}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(f.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof v.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new T.SFSValidationError("SpectatorToPlayerRequest Error",b)}},{key:"execute",value:function(f){null==this._room&&(this._room=f.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();P.SpectatorToPlayerRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.UnsubscribeRoomGroupRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.UnsubscribeRoomGroup));return f._groupId=p,Object.seal(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(null!=this._groupId&&0!==this._groupId.length||f.push("Invalid group id passed; must be a string with at least one character"),f.length>0)throw new T.SFSValidationError("UnsubscribeGroupRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_GROUP_ID,this._groupId)}}]),_}();P.UnsubscribeRoomGroupRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SubscribeRoomGroupRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.SubscribeRoomGroup));return f._groupId=p,Object.seal(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(null!=this._groupId&&0!==this._groupId.length||f.push("Invalid group id passed; must be a string with at least one character"),f.length>0)throw new T.SFSValidationError("SubscribeGroupRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putUtfString(_.KEY_GROUP_ID,this._groupId)}}]),_}();P.SubscribeRoomGroupRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SetUserVariablesRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(8),m=d(59),_=function(p){function f(b){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.SetUserVariables));return C._userVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null==this._userVariables?C.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?C.push("No User Variables specified"):this._userVariables.every(function(h){return h instanceof m.SFSUserVariable})||C.push("User Variables must be passed as instances of SFSUserVariable class"):C.push("User Variables must be passed in an array"),C.length>0)throw new T.SFSValidationError("SetUserVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new v.SFSArray,h=!0,g=!1,S=void 0;try{for(var R,N=this._userVariables[Symbol.iterator]();!(h=(R=N.next()).done);h=!0)C.addSFSArray(R.value.toSFSArray())}catch(H){g=!0,S=H}finally{try{!h&&N.return&&N.return()}finally{if(g)throw S}}this._reqObj.putSFSArray(f.KEY_VAR_LIST,C)}}]),f}();P.SetUserVariablesRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SetRoomVariablesRequest=void 0;var O=function(){function f(b,C){for(var h=0;h<C.length;h++){var g=C[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,C,h){return C&&f(b.prototype,C),h&&f(b,h),b}}(),E=d(2),T=d(1),v=d(8),m=d(9),_=d(49),p=function(f){function b(C){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,b);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E.Requests.SetRoomVariables));return g._roomVariables=C,g._room=h,Object.seal(g),g}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,E.BaseRequest),O(b,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),O(b,[{key:"validate",value:function(C){var h=[];if(null==this._room&&(this._room=C.lastJoinedRoom),null==this._room?h.push("You must be joined in a Room to send a message"):this._room instanceof m.SFSRoom?C.getJoinedRooms().indexOf(this._room)<0&&h.push("You are not joined in the target Room: "+this._room):h.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?h.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?h.push("No Room Variables specified"):this._roomVariables.every(function(g){return g instanceof _.SFSRoomVariable})||h.push("Room Variables must be passed as instances of SFSRoomVariable class"):h.push("Room Variables must be passed in an array"),h.length>0)throw new T.SFSValidationError("SetRoomVariablesRequest Error",h)}},{key:"execute",value:function(C){var h=new v.SFSArray,g=!0,S=!1,R=void 0;try{for(var N,k=this._roomVariables[Symbol.iterator]();!(g=(N=k.next()).done);g=!0)h.addSFSArray(N.value.toSFSArray())}catch(L){S=!0,R=L}finally{try{!g&&k.return&&k.return()}finally{if(S)throw R}}this._reqObj.putSFSArray(b.KEY_VAR_LIST,h),this._reqObj.putInt(b.KEY_VAR_ROOM,this._room.id)}}]),b}();P.SetRoomVariablesRequest=p},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ChangeRoomCapacityRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(f,b,C){!function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(g,S){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?g:S}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.ChangeRoomCapacity));return h._room=f,h._newMaxUsers=b,h._newMaxSpect=C,Object.seal(h),h}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(this._room instanceof v.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new T.SFSValidationError("ChangeRoomCapacityRequest Error",b)}},{key:"execute",value:function(f){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putInt(p.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(p.KEY_SPEC_SIZE,this._newMaxSpect)}}]),p}();P.ChangeRoomCapacityRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ChangeRoomPasswordStateRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(f,b){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.ChangeRoomPassword));return C._room=f,C._newPass=b,Object.seal(C),C}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(this._room instanceof v.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null==this._newPass&&b.push("New room password must be a non-null string (empty string to remove the password)"),b.length>0)throw new T.SFSValidationError("ChangeRoomPasswordStateRequest Error",b)}},{key:"execute",value:function(f){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_PASS,this._newPass)}}]),p}();P.ChangeRoomPasswordStateRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ChangeRoomNameRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(f,b){!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.ChangeRoomName));return C._room=f,C._newName=b,Object.seal(C),C}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(this._room instanceof v.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||b.push("New room name must be a non-null and non-empty string"),b.length>0)throw new T.SFSValidationError("ChangeRoomNameRequest Error",b)}},{key:"execute",value:function(f){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_NAME,this._newName)}}]),p}();P.ChangeRoomNameRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.JoinRoomRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(f){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,p);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.JoinRoom));return"string"==typeof f?g._rName=f:"number"==typeof f?g._rId=f:f instanceof v.SFSRoom&&(g._rId=f.id,g._rName=f.name),g._password=b,g._roomIdToLeave=C,g._asSpectator=h,Object.seal(g),g}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),O(p,[{key:"validate",value:function(f){if(null==this._rId&&null==this._rName)throw new T.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(f){f._isJoining=!0,this._rId>=0?this._reqObj.putInt(p.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(p.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(p.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(p.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(p.KEY_AS_SPECTATOR,this._asSpectator)}}]),p}();P.JoinRoomRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LogoutRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(){!function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")}(this,_);var p=function(f,b){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?f:b}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.Logout));return Object.seal(p),p}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),O(_,[{key:"validate",value:function(p){if(null==p.mySelf)throw new T.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(p){}}]),_}();P.LogoutRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LoginRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(71),T=d(2),v=d(1),m=d(8),_=function(p){function f(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(R,N){if(!(R instanceof N))throw new TypeError("Cannot call a class as a function")}(this,f);var S=function(R,N){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?R:N}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,T.Requests.Login));return S._userName=b,S._password=C,S._params=h,S._zoneName=g,Object.seal(S),S}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,T.BaseRequest),O(f,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),O(f,[{key:"validate",value:function(b){if(null!=b.mySelf)throw new v.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var C=[],h=null!=b.config&&null!=b.config.zone?b.config.zone:null;if(null!=this._zoneName&&(h=this._zoneName),null==h||0===h.length?C.push("Missing Zone name"):this._zoneName=h,null==this._params||this._params instanceof m.SFSObject||C.push("Custom parameters must be passed in a SFSObject"),C.length>0)throw new v.SFSValidationError("LoginRequest Error",C)}},{key:"execute",value:function(b){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(f.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(f.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(f.KEY_PASSWORD,this._password.length>0?(new E.MD5).hex_md5(b.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(f.KEY_PARAMS,this._params)}}]),f}();P.LoginRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}();function E(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}var T=function(){function m(_){E(this,m),this._sfs=_,this._usersById=new Map,this._usersByName=new Map}return O(m,[{key:"containsUserName",value:function(_){return this._usersByName.has(_)}},{key:"containsUserId",value:function(_){return this._usersById.has(_)}},{key:"containsUser",value:function(_){return this._usersById.has(_.id)}},{key:"getUserById",value:function(_){return this._usersById.get(_)}},{key:"getUserByName",value:function(_){return this._usersByName.get(_)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(_){this.__addUser(_)}},{key:"__addUser",value:function(_){this._usersByName.set(_.name,_),this._usersById.set(_.id,_)}},{key:"_removeUser",value:function(_){this._usersById.delete(_.id),this._usersByName.delete(_.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),m}(),v=function(m){function _(p){E(this,_);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p));return f._roomRefCount=new Map,Object.freeze(f),f}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,T),O(_,[{key:"_addUser",value:function(p){this._roomRefCount.has(p)?this._roomRefCount.set(p,this._roomRefCount.get(p)+1):this._roomRefCount.set(p,1),this.__addUser(p)}},{key:"_removeUser",value:function(p){this._removeUserReference(p,!1)}},{key:"_removeUserReference",value:function(p,f){var b=this._roomRefCount.get(p);b<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+p):(this._roomRefCount.set(p,this._roomRefCount.get(p)-1),(0===b||f)&&(function C(h,g,S){null===h&&(h=Function.prototype);var R=Object.getOwnPropertyDescriptor(h,g);if(void 0===R){var N=Object.getPrototypeOf(h);return null===N?void 0:C(N,g,S)}if("value"in R)return R.value;var k=R.get;return void 0!==k?k.call(S):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"_removeUser",this).call(this,p),this._roomRefCount.delete(p)))}}]),_}();P.SFSUserManager=T,P.GlobalUserManager=v},function(B,P,d){(function(O){var E,T=function(v,m,_){this._byteOffset=m||0,v instanceof ArrayBuffer?this.buffer=v:"object"==typeof v?(this.dataView=v,m&&(this._byteOffset+=m)):this.buffer=new ArrayBuffer(v||1),this.position=0,this.endianness=null==_?T.LITTLE_ENDIAN:_};T.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),T.prototype.save=function(v){var m=new Blob(this.buffer),_=window.webkitURL||window.URL;if(!_||!_.createObjectURL)throw"DataStream.save: Can't create object URL.";var p=_.createObjectURL(m),f=document.createElement("a");f.setAttribute("href",p),f.setAttribute("download",v),f.click(),_.revokeObjectURL(p)},T.BIG_ENDIAN=!1,T.LITTLE_ENDIAN=!0,T.prototype._dynamicSize=!0,Object.defineProperty(T.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(v){v||this._trimAlloc(),this._dynamicSize=v}}),T.prototype._byteLength=0,Object.defineProperty(T.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(T.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(v){this._buffer=v,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(v){this._byteOffset=v,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(T.prototype,"dataView",{get:function(){return this._dataView},set:function(v){this._byteOffset=v.byteOffset,this._buffer=v.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+v.byteLength}}),T.prototype._realloc=function(v){if(this._dynamicSize){var m=this._byteOffset+this.position+v,_=this._buffer.byteLength;if(m<=_)m>this._byteLength&&(this._byteLength=m);else{for(_<1&&(_=1);m>_;)_*=2;var p=new ArrayBuffer(_),f=new Uint8Array(this._buffer);new Uint8Array(p,0,f.length).set(f),this.buffer=p,this._byteLength=m}}},T.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var v=new ArrayBuffer(this._byteLength),m=new Uint8Array(v),_=new Uint8Array(this._buffer,0,m.length);m.set(_),this.buffer=v}},T.prototype.seek=function(v){var m=Math.max(0,Math.min(this.byteLength,v));this.position=isNaN(m)||!isFinite(m)?0:m},T.prototype.isEof=function(){return this.position>=this.byteLength},T.prototype.mapInt32Array=function(v,m){this._realloc(4*v);var _=new Int32Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=4*v,_},T.prototype.mapInt16Array=function(v,m){this._realloc(2*v);var _=new Int16Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=2*v,_},T.prototype.mapInt8Array=function(v){this._realloc(1*v);var m=new Int8Array(this._buffer,this.byteOffset+this.position,v);return this.position+=1*v,m},T.prototype.mapUint32Array=function(v,m){this._realloc(4*v);var _=new Uint32Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=4*v,_},T.prototype.mapUint16Array=function(v,m){this._realloc(2*v);var _=new Uint16Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=2*v,_},T.prototype.mapUint8Array=function(v){this._realloc(1*v);var m=new Uint8Array(this._buffer,this.byteOffset+this.position,v);return this.position+=1*v,m},T.prototype.mapFloat64Array=function(v,m){this._realloc(8*v);var _=new Float64Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=8*v,_},T.prototype.mapFloat32Array=function(v,m){this._realloc(4*v);var _=new Float32Array(this._buffer,this.byteOffset+this.position,v);return T.arrayToNative(_,null==m?this.endianness:m),this.position+=4*v,_},T.prototype.readInt32Array=function(v,m){v=null==v?this.byteLength-this.position/4:v;var _=new Int32Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.readInt16Array=function(v,m){v=null==v?this.byteLength-this.position/2:v;var _=new Int16Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.readInt8Array=function(v){v=null==v?this.byteLength-this.position:v;var m=new Int8Array(v);return T.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,v*m.BYTES_PER_ELEMENT),this.position+=m.byteLength,m},T.prototype.readUint32Array=function(v,m){v=null==v?this.byteLength-this.position/4:v;var _=new Uint32Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.readUint16Array=function(v,m){v=null==v?this.byteLength-this.position/2:v;var _=new Uint16Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.readUint8Array=function(v){v=null==v?this.byteLength-this.position:v;var m=new Uint8Array(v);return T.memcpy(m.buffer,0,this.buffer,this.byteOffset+this.position,v*m.BYTES_PER_ELEMENT),this.position+=m.byteLength,m},T.prototype.readFloat64Array=function(v,m){v=null==v?this.byteLength-this.position/8:v;var _=new Float64Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.readFloat32Array=function(v,m){v=null==v?this.byteLength-this.position/4:v;var _=new Float32Array(v);return T.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,v*_.BYTES_PER_ELEMENT),T.arrayToNative(_,null==m?this.endianness:m),this.position+=_.byteLength,_},T.prototype.writeInt32Array=function(v,m){if(this._realloc(4*v.length),v instanceof Int32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt32Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeInt32(v[_],m)},T.prototype.writeInt16Array=function(v,m){if(this._realloc(2*v.length),v instanceof Int16Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt16Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeInt16(v[_],m)},T.prototype.writeInt8Array=function(v){if(this._realloc(1*v.length),v instanceof Int8Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapInt8Array(v.length);else for(var m=0;m<v.length;m++)this.writeInt8(v[m])},T.prototype.writeUint32Array=function(v,m){if(this._realloc(4*v.length),v instanceof Uint32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint32Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeUint32(v[_],m)},T.prototype.writeUint16Array=function(v,m){if(this._realloc(2*v.length),v instanceof Uint16Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint16Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeUint16(v[_],m)},T.prototype.writeUint8Array=function(v){if(this._realloc(1*v.length),v instanceof Uint8Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapUint8Array(v.length);else for(var m=0;m<v.length;m++)this.writeUint8(v[m])},T.prototype.writeFloat64Array=function(v,m){if(this._realloc(8*v.length),v instanceof Float64Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapFloat64Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeFloat64(v[_],m)},T.prototype.writeFloat32Array=function(v,m){if(this._realloc(4*v.length),v instanceof Float32Array&&(this.byteOffset+this.position)%v.BYTES_PER_ELEMENT==0)T.memcpy(this._buffer,this.byteOffset+this.position,v.buffer,v.byteOffset,v.byteLength),this.mapFloat32Array(v.length,m);else for(var _=0;_<v.length;_++)this.writeFloat32(v[_],m)},T.prototype.readInt32=function(v){var m=this._dataView.getInt32(this.position,null==v?this.endianness:v);return this.position+=4,m},T.prototype.readInt16=function(v){var m=this._dataView.getInt16(this.position,null==v?this.endianness:v);return this.position+=2,m},T.prototype.readInt8=function(){var v=this._dataView.getInt8(this.position);return this.position+=1,v},T.prototype.readUint32=function(v){var m=this._dataView.getUint32(this.position,null==v?this.endianness:v);return this.position+=4,m},T.prototype.readUint16=function(v){var m=this._dataView.getUint16(this.position,null==v?this.endianness:v);return this.position+=2,m},T.prototype.readUint8=function(){var v=this._dataView.getUint8(this.position);return this.position+=1,v},T.prototype.readFloat32=function(v){var m=this._dataView.getFloat32(this.position,null==v?this.endianness:v);return this.position+=4,m},T.prototype.readFloat64=function(v){var m=this._dataView.getFloat64(this.position,null==v?this.endianness:v);return this.position+=8,m},T.prototype.writeInt32=function(v,m){this._realloc(4),this._dataView.setInt32(this.position,v,null==m?this.endianness:m),this.position+=4},T.prototype.writeInt16=function(v,m){this._realloc(2),this._dataView.setInt16(this.position,v,null==m?this.endianness:m),this.position+=2},T.prototype.writeInt8=function(v){this._realloc(1),this._dataView.setInt8(this.position,v),this.position+=1},T.prototype.writeUint32=function(v,m){this._realloc(4),this._dataView.setUint32(this.position,v,null==m?this.endianness:m),this.position+=4},T.prototype.writeUint16=function(v,m){this._realloc(2),this._dataView.setUint16(this.position,v,null==m?this.endianness:m),this.position+=2},T.prototype.writeUint8=function(v){this._realloc(1),this._dataView.setUint8(this.position,v),this.position+=1},T.prototype.writeFloat32=function(v,m){this._realloc(4),this._dataView.setFloat32(this.position,v,null==m?this.endianness:m),this.position+=4},T.prototype.writeFloat64=function(v,m){this._realloc(8),this._dataView.setFloat64(this.position,v,null==m?this.endianness:m),this.position+=8},T.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,T.memcpy=function(v,m,_,p,f){var b=new Uint8Array(v,m,f),C=new Uint8Array(_,p,f);b.set(C)},T.arrayToNative=function(v,m){return m==this.endianness?v:this.flipArrayEndianness(v)},T.nativeToEndian=function(v,m){return this.endianness==m?v:this.flipArrayEndianness(v)},T.flipArrayEndianness=function(v){for(var m=new Uint8Array(v.buffer,v.byteOffset,v.byteLength),_=0;_<v.byteLength;_+=v.BYTES_PER_ELEMENT)for(var p=_+v.BYTES_PER_ELEMENT-1,f=_;p>f;p--,f++){var b=m[f];m[f]=m[p],m[p]=b}return v},T.createStringFromArray=function(v){for(var m=[],_=0;_<v.length;_+=32768)m.push(String.fromCharCode.apply(null,v.subarray(_,_+32768)));return m.join("")},T.prototype.failurePosition=0,T.prototype.readStruct=function(v){for(var _,p={},f=this.position,b=0;b<v.length;b+=2){if(null==(_=this.readType(v[b+1],p)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=f,null;p[v[b]]=_}return p},T.prototype.readUCS2String=function(v,m){return T.createStringFromArray(this.readUint16Array(v,m))},T.prototype.writeUCS2String=function(v,m,_){null==_&&(_=v.length);for(var p=0;p<v.length&&p<_;p++)this.writeUint16(v.charCodeAt(p),m);for(;p<_;p++)this.writeUint16(0)},T.prototype.readString=function(v,m){return null==m||"ASCII"==m?T.createStringFromArray(this.mapUint8Array(null==v?this.byteLength-this.position:v)):new TextDecoder(m).decode(this.mapUint8Array(v))},T.prototype.writeString=function(v,m,_){if(null==m||"ASCII"==m)if(null!=_){var p=0,f=Math.min(v.length,_);for(p=0;p<f;p++)this.writeUint8(v.charCodeAt(p));for(;p<_;p++)this.writeUint8(0)}else for(p=0;p<v.length;p++)this.writeUint8(v.charCodeAt(p));else this.writeUint8Array(new TextEncoder(m).encode(v.substring(0,_)))},T.prototype.readCString=function(v){var m=this.byteLength-this.position,_=new Uint8Array(this._buffer,this._byteOffset+this.position),p=m;null!=v&&(p=Math.min(v,m));for(var f=0;f<p&&0!=_[f];f++);var b=T.createStringFromArray(this.mapUint8Array(f));return null!=v?this.position+=p-f:f!=m&&(this.position+=1),b},T.prototype.writeCString=function(v,m){if(null!=m){var _=0,p=Math.min(v.length,m);for(_=0;_<p;_++)this.writeUint8(v.charCodeAt(_));for(;_<m;_++)this.writeUint8(0)}else{for(_=0;_<v.length;_++)this.writeUint8(v.charCodeAt(_));this.writeUint8(0)}},T.prototype.readType=function(v,m){if("function"==typeof v)return v(this,m);if(!("object"!=typeof v||v instanceof Array))return v.get(this,m);if(v instanceof Array&&3!=v.length)return this.readStruct(v,m);var _,p=null,f=null,b="ASCII",C=this.position;switch("string"==typeof v&&/:/.test(v)&&(v=(_=v.split(":"))[0],f=null!=m[h=_[1]]?parseInt(m[h]):parseInt(_[1])),"string"==typeof v&&/,/.test(v)&&(v=(_=v.split(","))[0],b=parseInt(_[1])),v){case"uint8":p=this.readUint8();break;case"int8":p=this.readInt8();break;case"uint16":p=this.readUint16(this.endianness);break;case"int16":p=this.readInt16(this.endianness);break;case"uint32":p=this.readUint32(this.endianness);break;case"int32":p=this.readInt32(this.endianness);break;case"float32":p=this.readFloat32(this.endianness);break;case"float64":p=this.readFloat64(this.endianness);break;case"uint16be":p=this.readUint16(T.BIG_ENDIAN);break;case"int16be":p=this.readInt16(T.BIG_ENDIAN);break;case"uint32be":p=this.readUint32(T.BIG_ENDIAN);break;case"int32be":p=this.readInt32(T.BIG_ENDIAN);break;case"float32be":p=this.readFloat32(T.BIG_ENDIAN);break;case"float64be":p=this.readFloat64(T.BIG_ENDIAN);break;case"uint16le":p=this.readUint16(T.LITTLE_ENDIAN);break;case"int16le":p=this.readInt16(T.LITTLE_ENDIAN);break;case"uint32le":p=this.readUint32(T.LITTLE_ENDIAN);break;case"int32le":p=this.readInt32(T.LITTLE_ENDIAN);break;case"float32le":p=this.readFloat32(T.LITTLE_ENDIAN);break;case"float64le":p=this.readFloat64(T.LITTLE_ENDIAN);break;case"cstring":p=this.readCString(f);break;case"string":p=this.readString(f,b);break;case"u16string":p=this.readUCS2String(f,this.endianness);break;case"u16stringle":p=this.readUCS2String(f,T.LITTLE_ENDIAN);break;case"u16stringbe":p=this.readUCS2String(f,T.BIG_ENDIAN);break;default:if(3==v.length){var h,g=v[1],S=0;if(S="function"==typeof(h=v[2])?h(m,this,v):"string"==typeof h&&null!=m[h]?parseInt(m[h]):parseInt(h),"string"==typeof g){var R=g.replace(/(le|be)$/,""),N=null;switch(/le$/.test(g)?N=T.LITTLE_ENDIAN:/be$/.test(g)&&(N=T.BIG_ENDIAN),"*"==h&&(S=null),R){case"uint8":p=this.readUint8Array(S);break;case"uint16":p=this.readUint16Array(S,N);break;case"uint32":p=this.readUint32Array(S,N);break;case"int8":p=this.readInt8Array(S);break;case"int16":p=this.readInt16Array(S,N);break;case"int32":p=this.readInt32Array(S,N);break;case"float32":p=this.readFloat32Array(S,N);break;case"float64":p=this.readFloat64Array(S,N);break;case"cstring":case"utf16string":case"string":if(null==S)for(p=[];!this.isEof()&&null!=(U=this.readType(g,m));)p.push(U);else{p=new Array(S);for(var k=0;k<S;k++)p[k]=this.readType(g,m)}}}else if("*"==h)for(p=[];;){var H=this.position;try{var L=this.readType(g,m);if(null==L){this.position=H;break}p.push(L)}catch(G){this.position=H;break}}else for(p=new Array(S),k=0;k<S;k++){var U;if(null==(U=this.readType(g,m)))return null;p[k]=U}break}}return null!=f&&(this.position=C+f),p},T.prototype.writeStruct=function(v,m){for(var _=0;_<v.length;_+=2)this.writeType(v[_+1],m[v[_]],m)},T.prototype.writeType=function(v,m,_){if("function"==typeof v)return v(this,m);if("object"==typeof v&&!(v instanceof Array))return v.set(this,m,_);var p,f=null,b="ASCII",C=this.position;switch("string"==typeof v&&/:/.test(v)&&(v=(p=v.split(":"))[0],f=parseInt(p[1])),"string"==typeof v&&/,/.test(v)&&(v=(p=v.split(","))[0],b=parseInt(p[1])),v){case"uint8":this.writeUint8(m);break;case"int8":this.writeInt8(m);break;case"uint16":this.writeUint16(m,this.endianness);break;case"int16":this.writeInt16(m,this.endianness);break;case"uint32":this.writeUint32(m,this.endianness);break;case"int32":this.writeInt32(m,this.endianness);break;case"float32":this.writeFloat32(m,this.endianness);break;case"float64":this.writeFloat64(m,this.endianness);break;case"uint16be":this.writeUint16(m,T.BIG_ENDIAN);break;case"int16be":this.writeInt16(m,T.BIG_ENDIAN);break;case"uint32be":this.writeUint32(m,T.BIG_ENDIAN);break;case"int32be":this.writeInt32(m,T.BIG_ENDIAN);break;case"float32be":this.writeFloat32(m,T.BIG_ENDIAN);break;case"float64be":this.writeFloat64(m,T.BIG_ENDIAN);break;case"uint16le":this.writeUint16(m,T.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(m,T.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(m,T.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(m,T.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(m,T.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(m,T.LITTLE_ENDIAN);break;case"cstring":this.writeCString(m,f);break;case"string":this.writeString(m,b,f);break;case"u16string":this.writeUCS2String(m,this.endianness,f);break;case"u16stringle":this.writeUCS2String(m,T.LITTLE_ENDIAN,f);break;case"u16stringbe":this.writeUCS2String(m,T.BIG_ENDIAN,f);break;default:if(3==v.length){for(var h=v[1],g=0;g<m.length;g++)this.writeType(h,m[g]);break}this.writeStruct(v,m)}null!=f&&(this.position=C,this._realloc(f),this.position=C+f)},void 0===(E=function(){return T}.apply(P,[]))||(O.exports=E),"object"==typeof O&&O&&O.exports&&(O.exports=T)}).call(this,d(173)(B))},function(B,P,d){var O=d(24),E=d(12);B.exports=function(T){if(void 0===T)return 0;var v=O(T),m=E(v);if(v!==m)throw RangeError("Wrong length!");return m}},function(B,P,d){"use strict";var O=d(41),E=d(29).getWeak,T=d(5),v=d(4),m=d(42),_=d(62),p=d(19),f=d(16),b=d(40),C=p(5),h=p(6),g=0,S=function(k){return k._l||(k._l=new R)},R=function(){this.a=[]},N=function(k,H){return C(k.a,function(L){return L[0]===H})};R.prototype={get:function(k){var H=N(this,k);if(H)return H[1]},has:function(k){return!!N(this,k)},set:function(k,H){var L=N(this,k);L?L[1]=H:this.a.push([k,H])},delete:function(k){var H=h(this.a,function(L){return L[0]===k});return~H&&this.a.splice(H,1),!!~H}},B.exports={getConstructor:function(k,H,L,U){var G=k(function(X,te){m(X,G,H,"_i"),X._t=H,X._i=g++,X._l=void 0,null!=te&&_(te,L,X[U],X)});return O(G.prototype,{delete:function(X){if(!v(X))return!1;var te=E(X);return!0===te?S(b(this,H)).delete(X):te&&f(te,this._i)&&delete te[this._i]},has:function(X){if(!v(X))return!1;var te=E(X);return!0===te?S(b(this,H)).has(X):te&&f(te,this._i)}}),G},def:function(k,H,L){var U=E(T(H),!0);return!0===U?S(k).set(H,L):U[k._i]=L,k},ufstore:S}},function(B,P,d){"use strict";var O=d(10).f,E=d(33),T=d(41),v=d(27),m=d(42),_=d(62),p=d(84),f=d(127),b=d(43),C=d(11),h=d(29).fastKey,g=d(40),S=C?"_s":"size",R=function(N,k){var H,L=h(k);if("F"!==L)return N._i[L];for(H=N._f;H;H=H.n)if(H.k==k)return H};B.exports={getConstructor:function(N,k,H,L){var U=N(function(G,X){m(G,U,k,"_i"),G._t=k,G._i=E(null),G._f=void 0,G._l=void 0,G[S]=0,null!=X&&_(X,H,G[L],G)});return T(U.prototype,{clear:function(){for(var G=g(this,k),X=G._i,te=G._f;te;te=te.n)te.r=!0,te.p&&(te.p=te.p.n=void 0),delete X[te.i];G._f=G._l=void 0,G[S]=0},delete:function(G){var X=g(this,k),te=R(X,G);if(te){var z=te.n,le=te.p;delete X._i[te.i],te.r=!0,le&&(le.n=z),z&&(z.p=le),X._f==te&&(X._f=z),X._l==te&&(X._l=le),X[S]--}return!!te},forEach:function(G){g(this,k);for(var X,te=v(G,arguments.length>1?arguments[1]:void 0,3);X=X?X.n:this._f;)for(te(X.v,X.k,this);X&&X.r;)X=X.p},has:function(G){return!!R(g(this,k),G)}}),C&&O(U.prototype,"size",{get:function(){return g(this,k)[S]}}),U},def:function(N,k,H){var L,U,G=R(N,k);return G?G.v=H:(N._l=G={i:U=h(k,!0),k,v:H,p:L=N._l,n:void 0,r:!1},N._f||(N._f=G),L&&(L.n=G),N[S]++,"F"!==U&&(N._i[U]=G)),N},getEntry:R,setStrong:function(N,k,H){p(N,k,function(L,U){this._t=g(L,k),this._k=U,this._l=void 0},function(){for(var L=this._k,U=this._l;U&&U.r;)U=U.p;return this._t&&(this._l=U=U?U.n:this._t._f)?f(0,"keys"==L?U.k:"values"==L?U.v:[U.k,U.v]):(this._t=void 0,f(1))},H?"entries":"values",!H,!0),b(k)}}},function(B,P,d){"use strict";var O=d(26);B.exports.f=function(E){return new function(T){var v,m;this.promise=new T(function(_,p){if(void 0!==v||void 0!==m)throw TypeError("Bad Promise constructor");v=_,m=p}),this.resolve=O(v),this.reject=O(m)}(E)}},function(B,P,d){var O,E,T,v=d(27),m=d(141),_=d(90),p=d(96),f=d(6),b=f.process,C=f.setImmediate,h=f.clearImmediate,g=f.MessageChannel,S=f.Dispatch,R=0,N={},k=function(){var L=+this;if(N.hasOwnProperty(L)){var U=N[L];delete N[L],U()}},H=function(L){k.call(L.data)};C&&h||(C=function(L){for(var U=[],G=1;arguments.length>G;)U.push(arguments[G++]);return N[++R]=function(){m("function"==typeof L?L:Function(L),U)},O(R),R},h=function(L){delete N[L]},"process"==d(25)(b)?O=function(L){b.nextTick(v(k,L,1))}:S&&S.now?O=function(L){S.now(v(k,L,1))}:g?(T=(E=new g).port2,E.port1.onmessage=H,O=v(T.postMessage,T,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(O=function(L){f.postMessage(L+"","*")},f.addEventListener("message",H,!1)):O="onreadystatechange"in p("script")?function(L){_.appendChild(p("script")).onreadystatechange=function(){_.removeChild(this),k.call(L)}}:function(L){setTimeout(v(k,L,1),0)}),B.exports={set:C,clear:h}},function(B,P,d){d(11)&&"g"!=/./g.flags&&d(10).f(RegExp.prototype,"flags",{configurable:!0,get:d(77)})},function(B,P){B.exports=function(d,O){return{value:O,done:!!d}}},function(B,P,d){"use strict";var O=d(52),E=d(127),T=d(53),v=d(21);B.exports=d(84)(Array,"Array",function(m,_){this._t=v(m),this._i=0,this._k=_},function(){var m=this._t,_=this._k,p=this._i++;return!m||p>=m.length?(this._t=void 0,E(1)):E(0,"keys"==_?p:"values"==_?m[p]:[p,m[p]])},"values"),T.Arguments=T.Array,O("keys"),O("values"),O("entries")},function(B,P,d){"use strict";var O=d(14),E=d(34),T=d(12);B.exports=[].copyWithin||function(v,m){var _=O(this),p=T(_.length),f=E(v,p),b=E(m,p),C=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===C?p:E(C,p))-b,p-f),g=1;for(b<f&&f<b+h&&(g=-1,b+=h-1,f+=h-1);h-- >0;)b in _?_[f]=_[b]:delete _[f],f+=g,b+=g;return _}},function(B,P,d){var O=d(26),E=d(14),T=d(54),v=d(12);B.exports=function(m,_,p,f,b){O(_);var C=E(m),h=T(C),g=v(C.length),S=b?g-1:0,R=b?-1:1;if(p<2)for(;;){if(S in h){f=h[S],S+=R;break}if(S+=R,b?S<0:g<=S)throw TypeError("Reduce of empty array with no initial value")}for(;b?S>=0:g>S;S+=R)S in h&&(f=_(f,h[S],S,C));return f}},function(B,P,d){"use strict";var O=d(10),E=d(36);B.exports=function(T,v,m){v in T?O.f(T,v,E(0,m)):T[v]=m}},function(B,P,d){var O=d(5);B.exports=function(E,T,v,m){try{return m?T(O(v)[0],v[1]):T(v)}catch(p){var _=E.return;throw void 0!==_&&O(_.call(E)),p}}},function(B,P,d){"use strict";var O=d(33),E=d(36),T=d(45),v={};d(18)(v,d(7)("iterator"),function(){return this}),B.exports=function(m,_,p){m.prototype=O(v,{next:E(1,p)}),T(m,_+" Iterator")}},function(B,P,d){var O=d(24),E=d(28);B.exports=function(T){return function(v,m){var _,p,f=String(E(v)),b=O(m),C=f.length;return b<0||b>=C?T?"":void 0:(_=f.charCodeAt(b))<55296||_>56319||b+1===C||(p=f.charCodeAt(b+1))<56320||p>57343?T?f.charAt(b):_:T?f.slice(b,b+2):p-56320+(_-55296<<10)+65536}}},function(B,P){B.exports=Math.log1p||function(d){return(d=+d)>-1e-8&&d<1e-8?d-d*d/2:Math.log(1+d)}},function(B,P,d){var O=d(4),E=Math.floor;B.exports=function(T){return!O(T)&&isFinite(T)&&E(T)===T}},function(B,P,d){"use strict";var O=d(24),E=d(28);B.exports=function(T){var v=String(E(this)),m="",_=O(T);if(_<0||_==1/0)throw RangeError("Count can't be negative");for(;_>0;(_>>>=1)&&(v+=v))1&_&&(m+=v);return m}},function(B,P,d){var O=d(25);B.exports=function(E,T){if("number"!=typeof E&&"Number"!=O(E))throw TypeError(T);return+E}},function(B,P,d){var O=d(6).parseFloat,E=d(65).trim;B.exports=1/O(d(88)+"-0")!=-1/0?function(T){var v=E(String(T),3),m=O(v);return 0===m&&"-"==v.charAt(0)?-0:m}:O},function(B,P,d){var O=d(6).parseInt,E=d(65).trim,T=d(88),v=/^[-+]?0[xX]/;B.exports=8!==O(T+"08")||22!==O(T+"0x16")?function(m,_){var p=E(String(m),3);return O(p,_>>>0||(v.test(p)?16:10))}:O},function(B,P){B.exports=function(d,O,E){var T=void 0===E;switch(O.length){case 0:return T?d():d.call(E);case 1:return T?d(O[0]):d.call(E,O[0]);case 2:return T?d(O[0],O[1]):d.call(E,O[0],O[1]);case 3:return T?d(O[0],O[1],O[2]):d.call(E,O[0],O[1],O[2]);case 4:return T?d(O[0],O[1],O[2],O[3]):d.call(E,O[0],O[1],O[2],O[3])}return d.apply(E,O)}},function(B,P,d){"use strict";var O=d(26),E=d(4),T=d(141),v=[].slice,m={};B.exports=Function.bind||function(_){var p=O(this),f=v.call(arguments,1),b=function(){var C=f.concat(v.call(arguments));return this instanceof b?function(h,g,S){if(!(g in m)){for(var R=[],N=0;N<g;N++)R[N]="a["+N+"]";m[g]=Function("F,a","return new F("+R.join(",")+")")}return m[g](h,S)}(p,C.length,C):T(p,C,_)};return E(p.prototype)&&(b.prototype=p.prototype),b}},function(B,P,d){"use strict";var O=d(55),E=d(68),T=d(67),v=d(14),m=d(54),_=Object.assign;B.exports=!_||d(3)(function(){var p={},f={},b=Symbol(),C="abcdefghijklmnopqrst";return p[b]=7,C.split("").forEach(function(h){f[h]=h}),7!=_({},p)[b]||Object.keys(_({},f)).join("")!=C})?function(p,f){for(var b=v(p),C=arguments.length,h=1,g=E.f,S=T.f;C>h;)for(var R,N=m(arguments[h++]),k=g?O(N).concat(g(N)):O(N),H=k.length,L=0;H>L;)S.call(N,R=k[L++])&&(b[R]=N[R]);return b}:_},function(B,P,d){var O=d(21),E=d(32).f,T={}.toString,v="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];B.exports.f=function(m){return v&&"[object Window]"==T.call(m)?function(_){try{return E(_)}catch(p){return v.slice()}}(m):E(O(m))}},function(B,P,d){var O=d(10),E=d(5),T=d(55);B.exports=d(11)?Object.defineProperties:function(v,m){E(v);for(var _,p=T(m),f=p.length,b=0;f>b;)O.f(v,_=p[b++],m[_]);return v}},function(B,P,d){var O=d(16),E=d(21),T=d(94)(!1),v=d(93)("IE_PROTO");B.exports=function(m,_){var p,f=E(m),b=0,C=[];for(p in f)p!=v&&O(f,p)&&C.push(p);for(;_.length>b;)O(f,p=_[b++])&&(~T(C,p)||C.push(p));return C}},function(B,P,d){P.f=d(7)},function(B,P,d){B.exports=!d(11)&&!d(3)(function(){return 7!=Object.defineProperty(d(96)("div"),"a",{get:function(){return 7}}).a})},function(B,P,d){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(O){return"number"==typeof O&&isFinite(O)&&Math.floor(O)===O},Number.isSafeInteger=Number.isSafeInteger||function(O){return Number.isInteger(O)&&Math.abs(O)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(O){return"number"==typeof O&&isFinite(O)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(O){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof O)throw new TypeError("predicate must be a function");for(var E=Object(this),T=E.length>>>0,v=arguments[1],m=0;m!==T;m++)if(O.call(v,this[m],m,E))return this[m]}})},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BuddyMessageRequest=void 0;var O=d(70),E=d(1),T=d(58),v=function(m){function _(p,f){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(null!=f&&!(f instanceof T.SFSBuddy))throw new E.SFSError("Target buddy must be an instance of SFSBuddy class");return C._type=O.GenericMessageType.BUDDY_MSG,C._message=p,C._recipient=null!=f?f.id:-1,C._params=b,Object.seal(C),C}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,O.GenericMessageRequest),_}();P.BuddyMessageRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.QuickJoinGameRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(9),m=d(38),_=function(p){function f(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,f);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.QuickJoinGame));return g._matchExpression=b,g._whereToSearch=C,g._roomToLeave=h,Object.seal(g),g}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpression||this._matchExpression instanceof m.MatchExpression||C.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?C.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>f.MAX_ROOMS&&C.push("Too many Rooms specified in list where to search the game to join; client limit is: "+f.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof v.SFSRoom||C.push("Room to leave must be an instance of SFSRoom class"),C.length>0)throw new T.SFSValidationError("QuickJoinGameRequest Error",C)}},{key:"execute",value:function(b){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(f.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof v.SFSRoom))throw new T.SFSError("Invalid type in whereToSearch parameter");var C=[],h=!0,g=!1,S=void 0;try{for(var R,N=this._whereToSearch[Symbol.iterator]();!(h=(R=N.next()).done);h=!0){var k=R.value;k instanceof v.SFSRoom&&C.push(k.id)}}catch(H){g=!0,S=H}finally{try{!h&&N.return&&N.return()}finally{if(g)throw S}}this._reqObj.putIntArray(f.KEY_ROOM_LIST,C)}null!=this._roomToLeave&&this._reqObj.putInt(f.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(f.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),f}();P.QuickJoinGameRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.JoinRoomInvitationRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(9),m=d(8),_=function(p){function f(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,g=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,S=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}(this,f);var R=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.JoinRoomInvite));return R._targetRoom=b,R._invitedUserNames=C,R._params=h,R._expirySeconds=g,R._asSpectator=S,Object.seal(R),R}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null==this._targetRoom&&C.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof v.SFSRoom||C.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?C.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&C.push("No invitees provided"):C.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof m.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new T.SFSValidationError("JoinRoomInvitationRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(f.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(f.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(f.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(f.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(f.KEY_OPTIONAL_PARAMS,this._params)}}]),f}();P.JoinRoomInvitationRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.InvitationReplyRequest=void 0;var O=function(){function p(f,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(f,h.key,h)}}return function(f,b,C){return b&&p(f.prototype,b),C&&p(f,C),f}}(),E=d(2),T=d(1),v=d(8),m=d(72),_=function(p){function f(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,f);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,E.Requests.InvitationReply));return g._invitation=b,g._reply=C,g._params=h,Object.seal(g),g}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(f,E.BaseRequest),O(f,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),O(f,[{key:"validate",value:function(b){var C=[];if(null==this._invitation?C.push("Missing invitation object"):this._invitation instanceof m.SFSInvitation||C.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof v.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new T.SFSValidationError("InvitationReplyRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(f.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(f.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(f.KEY_INVITATION_PARAMS,this._params)}}]),f}();P.InvitationReplyRequest=_},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.CreateSFSGameRequest=void 0;var O=function(){function g(S,R){for(var N=0;N<R.length;N++){var k=R[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,R,N){return R&&g(S.prototype,R),N&&g(S,N),S}}(),E=d(2),T=d(1),v=d(56),m=d(57),_=d(69),p=d(47),f=d(58),b=d(8),C=d(38),h=function(g){function S(R){!function(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}(this,S);var N=function(k,H){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?k:H}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,E.Requests.CreateSFSGame));return N._settings=R,N._createRoomRequest=new m.CreateRoomRequest(R,!1,null),Object.seal(N),N}return function(R,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);R.prototype=Object.create(N&&N.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(R,N):R.__proto__=N)}(S,E.BaseRequest),O(S,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),O(S,[{key:"validate",value:function(R){if(!(this._settings instanceof v.SFSGameSettings))throw new T.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var N=[];try{this._createRoomRequest.validate(R)}catch(k){N=k.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&N.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<_.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>_.InviteUsersRequest.MAX_EXPIRY_TIME)&&N.push("Invitation expiration time value is out of range (min: "+_.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+_.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>_.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&N.push("Can't invite more than "+_.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(k){return k instanceof p.SFSUser||k instanceof f.SFSBuddy})||N.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):N.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof C.MatchExpression||N.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof C.MatchExpression||N.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof b.SFSObject||N.push("Custom invitation parameters must be set in a SFSObject class instance"),N.length>0)throw new T.SFSValidationError("CreateSFSGameRequest Error",N)}},{key:"execute",value:function(R){if(this._createRoomRequest.execute(R),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(S.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(S.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(S.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(S.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(S.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(S.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(S.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var N=[],k=!0,H=!1,L=void 0;try{for(var U,G=this._settings.invitedPlayers[Symbol.iterator]();!(k=(U=G.next()).done);k=!0)N.push(U.value.id)}catch(te){H=!0,L=te}finally{try{!k&&G.return&&G.return()}finally{if(H)throw L}}this._reqObj.putIntArray(S.KEY_INVITED_PLAYERS,N)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(S.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(S.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),S}();P.CreateSFSGameRequest=h},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.BanUserRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}(this,_);var g=function(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?S:R}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.BanUser));return g._userId=p,g._message=f,g._banMode=b,g._delay=C,g._durationHours=h,Object.seal(g),g}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(f.length>0)throw new T.SFSValidationError("BanUserRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putInt(_.KEY_USER_ID,this._userId),this._reqObj.putInt(_.KEY_DELAY,this._delay),this._reqObj.putInt(_.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(_.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(_.KEY_MESSAGE,this._message)}}]),_}();P.BanUserRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.KickUserRequest=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(2),T=d(1),v=function(m){function _(p){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,_);var C=function(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?h:g}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E.Requests.KickUser));return b<0&&(b=0),C._userId=p,C._message=f,C._delay=b,Object.seal(C),C}return function(p,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(_,E.BaseRequest),O(_,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),O(_,[{key:"validate",value:function(p){var f=[];if(f.length>0)throw new T.SFSValidationError("KickUserRequest Error",f)}},{key:"execute",value:function(p){this._reqObj.putInt(_.KEY_USER_ID,this._userId),this._reqObj.putInt(_.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(_.KEY_MESSAGE,this._message)}}]),_}();P.KickUserRequest=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LeaveRoomRequest=void 0;var O=function(){function _(p,f){for(var b=0;b<f.length;b++){var C=f[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,f,b){return f&&_(p.prototype,f),b&&_(p,b),p}}(),E=d(2),T=d(1),v=d(9),m=function(_){function p(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E.Requests.LeaveRoom));return b._room=f,Object.seal(b),b}return function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);f.prototype=Object.create(b&&b.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(f,b):f.__proto__=b)}(p,E.BaseRequest),O(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),O(p,[{key:"validate",value:function(f){var b=[];if(f.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof v.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new T.SFSValidationError("LeaveRoomRequest Error",b)}},{key:"execute",value:function(f){null!=this._room&&this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();P.LeaveRoomRequest=m},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.QuickJoinOrCreateRoomRequest=void 0;var O=function(){function f(b,C){for(var h=0;h<C.length;h++){var g=C[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(b,g.key,g)}}return function(b,C,h){return C&&f(b.prototype,C),h&&f(b,h),b}}(),E=d(2),T=d(57),v=d(1),m=d(9),_=d(38),p=function(f){function b(C,h,g){var S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(N,k){if(!(N instanceof k))throw new TypeError("Cannot call a class as a function")}(this,b);var R=function(N,k){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?N:k}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E.Requests.QuickJoinOrCreateRoom));return R._matchExpression=C,R._groupList=h,R._settings=g,R._roomToLeave=S,R._createRoomRequest=new T.CreateRoomRequest(g,!1,null),Object.seal(R),R}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,E.BaseRequest),O(b,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),O(b,[{key:"validate",value:function(C){if(!(this._matchExpression instanceof _.MatchExpression))throw new v.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var h=[];(null==this._groupList||this._groupList.length<1)&&h.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof m.SFSRoom||h.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(C)}catch(g){h=h.concat(g.errors)}if(h.length>0)throw new v.SFSValidationError("QuickJoinOrCreateRoomRequest Error",h)}},{key:"execute",value:function(C){this._createRoomRequest.execute(C);var h=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(b.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(b.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(b.KEY_ROOM_SETTINGS,h),null!=this._roomToLeave&&this._reqObj.putInt(b.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),b}();P.QuickJoinOrCreateRoomRequest=p},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.PasswordUtil=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(71),T=function(){function v(){throw function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,v),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return O(v,null,[{key:"md5Password",value:function(m){return(new E.MD5).hex_md5(m)}}]),v}();P.PasswordUtil=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),E=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});P.RoomProperties=O,P.UserProperties=E},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function b(C,h){for(var g=0;g<h.length;g++){var S=h[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,h,g){return h&&b(C.prototype,h),g&&b(C,g),C}}();function E(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}function T(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}function v(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var m=function(){function b(C,h){v(this,b),this._type=C,this._symbol=h,Object.freeze(this)}return O(b,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),b}(),_=function(b){function C(h){v(this,C);var g=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,0,h));return Object.freeze(g),g}return T(C,m),O(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}}]),C}(),p=function(b){function C(h){v(this,C);var g=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,1,h));return Object.freeze(g),g}return T(C,m),O(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"GREATER_THAN",get:function(){return new C(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new C(">=")}},{key:"LESS_THAN",get:function(){return new C("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new C("<=")}}]),C}(),f=function(b){function C(h){v(this,C);var g=E(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,2,h));return Object.freeze(g),g}return T(C,m),O(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"CONTAINS",get:function(){return new C("contains")}},{key:"STARTS_WITH",get:function(){return new C("startsWith")}},{key:"ENDS_WITH",get:function(){return new C("endsWith")}}]),C}();P.BoolMatch=_,P.NumberMatch=p,P.StringMatch=f},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.PingPongRequest=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(2),T=function(v){function m(){!function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m);var _=function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?p:f}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E.Requests.PingPong));return Object.seal(_),_}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(m,E.BaseRequest),O(m,[{key:"validate",value:function(_){}},{key:"execute",value:function(_){}}]),m}();P.PingPongRequest=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.LagMonitor=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(162),T=function(){function v(m){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(f,b){if(!(f instanceof b))throw new TypeError("Cannot call a class as a function")})(this,v),this._sfs=m,this._valueQueue=[],this._interval=_,this._queueSize=p,this._thread=null,this._lastReqTime=-1}return O(v,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(m){m._lastReqTime=(new Date).getTime(),m._sfs.send(new E.PingPongRequest)}},{key:"_onPingPong",value:function(){var m=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(m),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var m=0,_=0;_<this._valueQueue.length;_++)m+=this._valueQueue[_];return m/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),v}();P.LagMonitor=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.HandshakeRequest=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(2),T=function(v){function m(_,p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,m);var f=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E.Requests.Handshake));return f._apiVersion=_,f._clientDetails=p,Object.seal(f),f}return function(_,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}(m,E.BaseRequest),O(m,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),O(m,[{key:"validate",value:function(_){}},{key:"execute",value:function(_){this._reqObj.putUtfString(m.KEY_API,this._apiVersion),this._reqObj.putUtfString(m.KEY_CLIENT_TYPE,this._clientDetails)}}]),m}();P.HandshakeRequest=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSBuddyManager=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(46),T=function(){function v(m){(function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")})(this,v),this._sfs=m,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return O(v,[{key:"containsBuddy",value:function(m){return this._buddiesByName.has(m)}},{key:"getBuddyById",value:function(m){return this.getBuddyList().find(function(_){return _.id===m})}},{key:"getBuddyByName",value:function(m){return this._buddiesByName.get(m)}},{key:"getBuddyByNickName",value:function(m){return this.getBuddyList().find(function(_){return _.nickName===m})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(m){return!m.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(m){return m.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(m){return this._myVariables.get(m)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var m=this.getMyVariable(E.ReservedBuddyVariables.BV_ONLINE);return null==m||m.value}},{key:"getMyNickName",value:function(){var m=this.getMyVariable(E.ReservedBuddyVariables.BV_NICKNAME);return null!=m?m.value:null}},{key:"getMyState",value:function(){var m=this.getMyVariable(E.ReservedBuddyVariables.BV_STATE);return null!=m?m.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(m){this._buddiesByName.set(m.name,m)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(m){var _=this.getBuddyById(m);return null!=_&&this._buddiesByName.delete(_.name),_}},{key:"_removeBuddyByName",value:function(m){var _=this.getBuddyByName(m);return null!=_&&this._buddiesByName.delete(m),_}},{key:"_setMyVariables",value:function(m){var _=!0,p=!1,f=void 0;try{for(var b,C=m[Symbol.iterator]();!(_=(b=C.next()).done);_=!0)this._setMyVariable(b.value)}catch(g){p=!0,f=g}finally{try{!_&&C.return&&C.return()}finally{if(p)throw f}}}},{key:"_setMyVariable",value:function(m){m.isNull?this._myVariables.delete(m.name):this._myVariables.set(m.name,m)}},{key:"_setMyOnlineState",value:function(m){this._setMyVariable(new E.SFSBuddyVariable(E.ReservedBuddyVariables.BV_ONLINE,m))}},{key:"_setMyNickName",value:function(m){this._setMyVariable(new E.SFSBuddyVariable(E.ReservedBuddyVariables.BV_NICKNAME,m))}},{key:"_setMyState",value:function(m){this._setMyVariable(new E.SFSBuddyVariable(E.ReservedBuddyVariables.BV_STATE,m))}},{key:"_setBuddyStates",value:function(m){this._buddyStates=new Set(m)}},{key:"isInited",get:function(){return this._inited}}]),v}();P.SFSBuddyManager=T},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSRoomManager=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(9),T=function(){function v(m){(function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")})(this,v),this._sfs=m,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return O(v,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(m){return this._groups.has(m)}},{key:"containsRoom",value:function(m){return"number"==typeof m?this._roomsById.has(m):this._roomsByName.has(m)}},{key:"containsRoomInGroup",value:function(m,_){return this.getRoomListFromGroup(_).some("number"==typeof m?function(f){return f.id===m}:function(f){return f.name===m})}},{key:"getRoomById",value:function(m){return this._roomsById.get(m)}},{key:"getRoomByName",value:function(m){return this._roomsByName.get(m)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(m){return this.getRoomList().filter(function(_){return _.groupId===m})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(m){return m.isJoined})}},{key:"getUserRooms",value:function(m){return this.getRoomList().filter(function(_){return _.containsUser(m)})}},{key:"_addRoom",value:function(m){var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(m.id,m),this._roomsByName.set(m.name,m),m._setRoomManager(this),_?this._addGroup(m.groupId):m._isManaged=!1}},{key:"_replaceRoom",value:function(m){var _=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=this.getRoomById(m.id);return null!=p?(p._merge(m),p):(this._addRoom(m,_),m)}},{key:"_removeRoom",value:function(m){this._roomsById.delete(m.id),this._roomsByName.delete(m.name)}},{key:"_removeRoomById",value:function(m){var _=this.getRoomById(m);null!=_&&this._removeRoom(_)}},{key:"_removeRoomByName",value:function(m){var _=this.getRoomByName(m);null!=_&&this._removeRoom(_)}},{key:"_changeRoomName",value:function(m,_){var p=m.name;m._name=_,this._roomsByName.set(_,m),this._roomsByName.delete(p)}},{key:"_changeRoomPasswordState",value:function(m,_){m._isPasswordProtected=_}},{key:"_changeRoomCapacity",value:function(m,_,p){m._maxUsers=_,m._maxSpectators=p}},{key:"_addGroup",value:function(m){this.containsGroup(m)||this._groups.add(m)}},{key:"_removeGroup",value:function(m){this._groups.delete(m);var _=this.getRoomListFromGroup(m),p=!0,f=!1,b=void 0;try{for(var C,h=_[Symbol.iterator]();!(p=(C=h.next()).done);p=!0){var g=C.value;g.isJoined?g._isManaged=!1:this._removeRoom(g)}}catch(S){f=!0,b=S}finally{try{!p&&h.return&&h.return()}finally{if(f)throw b}}}},{key:"_removeUser",value:function(m){var _=!0,p=!1,f=void 0;try{for(var b,C=this.getUserRooms(m)[Symbol.iterator]();!(_=(b=C.next()).done);_=!0){var h=b.value;h instanceof E.MMORoom||h._removeUser(m)}}catch(g){p=!0,f=g}finally{try{!_&&C.return&&C.return()}finally{if(p)throw f}}}}]),v}();P.SFSRoomManager=T},function(B,P){(function(){"use strict";function d(_e){throw _e}var O=void 0,E=!0,T=this;function v(_e,de){var Se,Me=_e.split("."),ye=T;for((!(Me[0]in ye)&&ye.execScript&&ye.execScript("var "+Me[0]));Me.length&&(Se=Me.shift());)Me.length||de===O?ye=ye[Se]?ye[Se]:ye[Se]={}:ye[Se]=de}var m="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function _(_e,de){this.index="number"==typeof de?de:0,this.i=0,this.buffer=_e instanceof(m?Uint8Array:Array)?_e:new(m?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&d(Error("invalid index")),this.buffer.length<=this.index&&this.f()}_.prototype.f=function(){var _e,de=this.buffer,Se=de.length,Me=new(m?Uint8Array:Array)(Se<<1);if(m)Me.set(de);else for(_e=0;_e<Se;++_e)Me[_e]=de[_e];return this.buffer=Me},_.prototype.d=function(_e,de,Se){var Me,ye=this.buffer,Ae=this.index,nt=this.i,ct=ye[Ae];if(Se&&1<de&&(_e=8<de?(g[255&_e]<<24|g[_e>>>8&255]<<16|g[_e>>>16&255]<<8|g[_e>>>24&255])>>32-de:g[_e]>>8-de),8>de+nt)ct=ct<<de|_e,nt+=de;else for(Me=0;Me<de;++Me)ct=ct<<1|_e>>de-Me-1&1,8==++nt&&(nt=0,ye[Ae++]=g[ct],ct=0,Ae===ye.length&&(ye=this.f()));ye[Ae]=ct,this.buffer=ye,this.i=nt,this.index=Ae},_.prototype.finish=function(){var _e,de=this.buffer,Se=this.index;return 0<this.i&&(de[Se]<<=8-this.i,de[Se]=g[de[Se]],Se++),m?_e=de.subarray(0,Se):(de.length=Se,_e=de),_e};var p,f=new(m?Uint8Array:Array)(256);for(p=0;256>p;++p){for(var b=h=p,C=7,h=h>>>1;h;h>>>=1)b<<=1,b|=1&h,--C;f[p]=(b<<C&255)>>>0}var g=f;function S(_e){this.buffer=new(m?Uint16Array:Array)(2*_e),this.length=0}function R(_e){var de,Se,Me,ye,Ae,nt,ct,ft,sn,On,Yn=_e.length,Nt=0,Mn=Number.POSITIVE_INFINITY;for(ft=0;ft<Yn;++ft)_e[ft]>Nt&&(Nt=_e[ft]),_e[ft]<Mn&&(Mn=_e[ft]);for(de=1<<Nt,Se=new(m?Uint32Array:Array)(de),Me=1,ye=0,Ae=2;Me<=Nt;){for(ft=0;ft<Yn;++ft)if(_e[ft]===Me){for(nt=0,ct=ye,sn=0;sn<Me;++sn)nt=nt<<1|1&ct,ct>>=1;for(On=Me<<16|ft,sn=nt;sn<de;sn+=Ae)Se[sn]=On;++ye}++Me,ye<<=1,Ae<<=1}return[Se,Nt,Mn]}function N(_e,de){this.h=H,this.w=0,this.input=m&&_e instanceof Array?new Uint8Array(_e):_e,this.b=0,de&&(de.lazy&&(this.w=de.lazy),"number"==typeof de.compressionType&&(this.h=de.compressionType),de.outputBuffer&&(this.a=m&&de.outputBuffer instanceof Array?new Uint8Array(de.outputBuffer):de.outputBuffer),"number"==typeof de.outputIndex&&(this.b=de.outputIndex)),this.a||(this.a=new(m?Uint8Array:Array)(32768))}S.prototype.getParent=function(_e){return 2*((_e-2)/4|0)},S.prototype.push=function(_e,de){var Se,Me,ye,Ae=this.buffer;for(Se=this.length,Ae[this.length++]=de,Ae[this.length++]=_e;0<Se&&(Me=this.getParent(Se),Ae[Se]>Ae[Me]);)ye=Ae[Se],Ae[Se]=Ae[Me],Ae[Me]=ye,ye=Ae[Se+1],Ae[Se+1]=Ae[Me+1],Ae[Me+1]=ye,Se=Me;return this.length},S.prototype.pop=function(){var _e,de,Se,Me,ye,Ae=this.buffer;for(de=Ae[0],_e=Ae[1],this.length-=2,Ae[0]=Ae[this.length],Ae[1]=Ae[this.length+1],ye=0;!((Me=2*ye+2)>=this.length)&&(Me+2<this.length&&Ae[Me+2]>Ae[Me]&&(Me+=2),Ae[Me]>Ae[ye]);)Se=Ae[ye],Ae[ye]=Ae[Me],Ae[Me]=Se,Se=Ae[ye+1],Ae[ye+1]=Ae[Me+1],Ae[Me+1]=Se,ye=Me;return{index:_e,value:de,length:this.length}};var k,H=2,L={NONE:0,r:1,k:H,O:3},U=[];for(k=0;288>k;k++)switch(E){case 143>=k:U.push([k+48,8]);break;case 255>=k:U.push([k-144+400,9]);break;case 279>=k:U.push([k-256+0,7]);break;case 287>=k:U.push([k-280+192,8]);break;default:d("invalid literal: "+k)}N.prototype.j=function(){var _e,de,Se,Me,ye=this.input;switch(this.h){case 0:for(Se=0,Me=ye.length;Se<Me;){var nt,ct,ft=de=m?ye.subarray(Se,Se+65535):ye.slice(Se,Se+65535),sn=(Se+=de.length)===Me,On=O,Yn=O,Nt=this.a,Mn=this.b;if(m){for(Nt=new Uint8Array(this.a.buffer);Nt.length<=Mn+ft.length+5;)Nt=new Uint8Array(Nt.length<<1);Nt.set(this.a)}if(Nt[Mn++]=0|(sn?1:0),ct=65536+~(nt=ft.length)&65535,Nt[Mn++]=255&nt,Nt[Mn++]=nt>>>8&255,Nt[Mn++]=255&ct,Nt[Mn++]=ct>>>8&255,m)Nt.set(ft,Mn),Nt=Nt.subarray(0,Mn+=ft.length);else{for(On=0,Yn=ft.length;On<Yn;++On)Nt[Mn++]=ft[On];Nt.length=Mn}this.b=Mn,this.a=Nt}break;case 1:var Jt=new _(m?new Uint8Array(this.a.buffer):this.a,this.b);Jt.d(1,1,E),Jt.d(1,2,E);var Ft,En,ei,ti=te(this,ye);for(Ft=0,En=ti.length;Ft<En;Ft++)if(_.prototype.d.apply(Jt,U[ei=ti[Ft]]),256<ei)Jt.d(ti[++Ft],ti[++Ft],E),Jt.d(ti[++Ft],5),Jt.d(ti[++Ft],ti[++Ft],E);else if(256===ei)break;this.a=Jt.finish(),this.b=this.a.length;break;case H:var xn,Xt,hr,Yt,Dr,ni,lt,ri,Di,Ms,Zu,ws,ml,ii,Oo,ji=new _(m?new Uint8Array(this.a.buffer):this.a,this.b),xr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xi=Array(19);for(xn=H,ji.d(1,1,E),ji.d(xn,2,E),Xt=te(this,ye),lt=K(ni=le(this.M,15)),Di=K(ri=le(this.L,7)),hr=286;257<hr&&0===ni[hr-1];hr--);for(Yt=30;1<Yt&&0===ri[Yt-1];Yt--);var qe,bt,kt,or,en,Sr,ts=hr,tn=Yt,Tr=new(m?Uint32Array:Array)(ts+tn),oi=new(m?Uint32Array:Array)(316),lo=new(m?Uint8Array:Array)(19);for(qe=bt=0;qe<ts;qe++)Tr[bt++]=ni[qe];for(qe=0;qe<tn;qe++)Tr[bt++]=ri[qe];if(!m)for(qe=0,or=lo.length;qe<or;++qe)lo[qe]=0;for(qe=en=0,or=Tr.length;qe<or;qe+=bt){for(bt=1;qe+bt<or&&Tr[qe+bt]===Tr[qe];++bt);if(kt=bt,0===Tr[qe])if(3>kt)for(;0<kt--;)oi[en++]=0,lo[0]++;else for(;0<kt;)(Sr=138>kt?kt:138)>kt-3&&Sr<kt&&(Sr=kt-3),10>=Sr?(oi[en++]=17,oi[en++]=Sr-3,lo[17]++):(oi[en++]=18,oi[en++]=Sr-11,lo[18]++),kt-=Sr;else if(oi[en++]=Tr[qe],lo[Tr[qe]]++,3>--kt)for(;0<kt--;)oi[en++]=Tr[qe],lo[Tr[qe]]++;else for(;0<kt;)(Sr=6>kt?kt:6)>kt-3&&Sr<kt&&(Sr=kt-3),oi[en++]=16,oi[en++]=Sr-3,lo[16]++,kt-=Sr}for(_e=m?oi.subarray(0,en):oi.slice(0,en),Ms=le(lo,7),ii=0;19>ii;ii++)xi[ii]=Ms[xr[ii]];for(Dr=19;4<Dr&&0===xi[Dr-1];Dr--);for(Zu=K(Ms),ji.d(hr-257,5,E),ji.d(Yt-1,5,E),ji.d(Dr-4,4,E),ii=0;ii<Dr;ii++)ji.d(xi[ii],3,E);for(ii=0,Oo=_e.length;ii<Oo;ii++)if(ji.d(Zu[ws=_e[ii]],Ms[ws],E),16<=ws){switch(ii++,ws){case 16:ml=2;break;case 17:ml=3;break;case 18:ml=7;break;default:d("invalid code: "+ws)}ji.d(_e[ii],ml,E)}var Hi,di,vl,sa,iu,ec,kn,ur,Kn=[lt,ni],Mo=[Di,ri];for(iu=Kn[0],ec=Kn[1],kn=Mo[0],ur=Mo[1],Hi=0,di=Xt.length;Hi<di;++Hi)if(ji.d(iu[vl=Xt[Hi]],ec[vl],E),256<vl)ji.d(Xt[++Hi],Xt[++Hi],E),sa=Xt[++Hi],ji.d(kn[sa],ur[sa],E),ji.d(Xt[++Hi],Xt[++Hi],E);else if(256===vl)break;this.a=ji.finish(),this.b=this.a.length;break;default:d("invalid compression type")}return this.a};var G=function(){function _e(ye){switch(E){case 3===ye:return[257,ye-3,0];case 4===ye:return[258,ye-4,0];case 5===ye:return[259,ye-5,0];case 6===ye:return[260,ye-6,0];case 7===ye:return[261,ye-7,0];case 8===ye:return[262,ye-8,0];case 9===ye:return[263,ye-9,0];case 10===ye:return[264,ye-10,0];case 12>=ye:return[265,ye-11,1];case 14>=ye:return[266,ye-13,1];case 16>=ye:return[267,ye-15,1];case 18>=ye:return[268,ye-17,1];case 22>=ye:return[269,ye-19,2];case 26>=ye:return[270,ye-23,2];case 30>=ye:return[271,ye-27,2];case 34>=ye:return[272,ye-31,2];case 42>=ye:return[273,ye-35,3];case 50>=ye:return[274,ye-43,3];case 58>=ye:return[275,ye-51,3];case 66>=ye:return[276,ye-59,3];case 82>=ye:return[277,ye-67,4];case 98>=ye:return[278,ye-83,4];case 114>=ye:return[279,ye-99,4];case 130>=ye:return[280,ye-115,4];case 162>=ye:return[281,ye-131,5];case 194>=ye:return[282,ye-163,5];case 226>=ye:return[283,ye-195,5];case 257>=ye:return[284,ye-227,5];case 258===ye:return[285,ye-258,0];default:d("invalid length: "+ye)}}var de,Se,Me=[];for(de=3;258>=de;de++)Se=_e(de),Me[de]=Se[2]<<24|Se[1]<<16|Se[0];return Me}(),X=m?new Uint32Array(G):G;function te(_e,de){function Se(xn,Xt){var hr,Yt,Dr,ni,lt=xn.H,ri=[],Di=0;switch(ri[Di++]=65535&(hr=X[xn.length]),ri[Di++]=hr>>16&255,ri[Di++]=hr>>24,E){case 1===lt:Yt=[0,lt-1,0];break;case 2===lt:Yt=[1,lt-2,0];break;case 3===lt:Yt=[2,lt-3,0];break;case 4===lt:Yt=[3,lt-4,0];break;case 6>=lt:Yt=[4,lt-5,1];break;case 8>=lt:Yt=[5,lt-7,1];break;case 12>=lt:Yt=[6,lt-9,2];break;case 16>=lt:Yt=[7,lt-13,2];break;case 24>=lt:Yt=[8,lt-17,3];break;case 32>=lt:Yt=[9,lt-25,3];break;case 48>=lt:Yt=[10,lt-33,4];break;case 64>=lt:Yt=[11,lt-49,4];break;case 96>=lt:Yt=[12,lt-65,5];break;case 128>=lt:Yt=[13,lt-97,5];break;case 192>=lt:Yt=[14,lt-129,6];break;case 256>=lt:Yt=[15,lt-193,6];break;case 384>=lt:Yt=[16,lt-257,7];break;case 512>=lt:Yt=[17,lt-385,7];break;case 768>=lt:Yt=[18,lt-513,8];break;case 1024>=lt:Yt=[19,lt-769,8];break;case 1536>=lt:Yt=[20,lt-1025,9];break;case 2048>=lt:Yt=[21,lt-1537,9];break;case 3072>=lt:Yt=[22,lt-2049,10];break;case 4096>=lt:Yt=[23,lt-3073,10];break;case 6144>=lt:Yt=[24,lt-4097,11];break;case 8192>=lt:Yt=[25,lt-6145,11];break;case 12288>=lt:Yt=[26,lt-8193,12];break;case 16384>=lt:Yt=[27,lt-12289,12];break;case 24576>=lt:Yt=[28,lt-16385,13];break;case 32768>=lt:Yt=[29,lt-24577,13];break;default:d("invalid distance")}for(ri[Di++]=(hr=Yt)[0],ri[Di++]=hr[1],ri[Di++]=hr[2],Dr=0,ni=ri.length;Dr<ni;++Dr)Mn[Jt++]=ri[Dr];En[ri[0]]++,ei[ri[3]]++,Ft=xn.length+Xt-1,On=null}var Me,ye,Ae,nt,ct,ft,sn,On,Yn,Nt={},Mn=m?new Uint16Array(2*de.length):[],Jt=0,Ft=0,En=new(m?Uint32Array:Array)(286),ei=new(m?Uint32Array:Array)(30),ti=_e.w;if(!m){for(Ae=0;285>=Ae;)En[Ae++]=0;for(Ae=0;29>=Ae;)ei[Ae++]=0}for(En[256]=1,Me=0,ye=de.length;Me<ye;++Me){for(Ae=ct=0,nt=3;Ae<nt&&Me+Ae!==ye;++Ae)ct=ct<<8|de[Me+Ae];if(Nt[ct]===O&&(Nt[ct]=[]),ft=Nt[ct],!(0<Ft--)){for(;0<ft.length&&32768<Me-ft[0];)ft.shift();if(Me+3>=ye){for(On&&Se(On,-1),Ae=0,nt=ye-Me;Ae<nt;++Ae)Mn[Jt++]=Yn=de[Me+Ae],++En[Yn];break}0<ft.length?(sn=z(de,Me,ft),On?On.length<sn.length?(Mn[Jt++]=Yn=de[Me-1],++En[Yn],Se(sn,0)):Se(On,-1):sn.length<ti?On=sn:Se(sn,0)):On?Se(On,-1):(Mn[Jt++]=Yn=de[Me],++En[Yn])}ft.push(Me)}return Mn[Jt++]=256,En[256]++,_e.M=En,_e.L=ei,m?Mn.subarray(0,Jt):Mn}function z(_e,de,Se){var Me,ye,Ae,nt,ct,ft,sn=0,On=_e.length;nt=0,ft=Se.length;e:for(;nt<ft;nt++){if(Me=Se[ft-nt-1],Ae=3,3<sn){for(ct=sn;3<ct;ct--)if(_e[Me+ct-1]!==_e[de+ct-1])continue e;Ae=sn}for(;258>Ae&&de+Ae<On&&_e[Me+Ae]===_e[de+Ae];)++Ae;if(Ae>sn&&(ye=Me,sn=Ae),258===Ae)break}return new function(Yn,Nt){this.length=Yn,this.H=Nt}(sn,de-ye)}function le(_e,de){var Se,Me,ye,Ae,nt,ct=_e.length,ft=new S(572),sn=new(m?Uint8Array:Array)(ct);if(!m)for(Ae=0;Ae<ct;Ae++)sn[Ae]=0;for(Ae=0;Ae<ct;++Ae)0<_e[Ae]&&ft.push(Ae,_e[Ae]);if(Se=Array(ft.length/2),Me=new(m?Uint32Array:Array)(ft.length/2),1===Se.length)return sn[ft.pop().index]=1,sn;for(Ae=0,nt=ft.length/2;Ae<nt;++Ae)Se[Ae]=ft.pop(),Me[Ae]=Se[Ae].value;for(ye=function(On,Yn,Nt){function Mn(Di){var Ms=Dr[Di][ni[Di]];Ms===Yn?(Mn(Di+1),Mn(Di+1)):--hr[Ms],++ni[Di]}var Jt,Ft,En,ei,ti,xn=new(m?Uint16Array:Array)(Nt),Xt=new(m?Uint8Array:Array)(Nt),hr=new(m?Uint8Array:Array)(Yn),Yt=Array(Nt),Dr=Array(Nt),ni=Array(Nt),lt=(1<<Nt)-Yn,ri=1<<Nt-1;for(xn[Nt-1]=Yn,Ft=0;Ft<Nt;++Ft)lt<ri?Xt[Ft]=0:(Xt[Ft]=1,lt-=ri),lt<<=1,xn[Nt-2-Ft]=(xn[Nt-1-Ft]/2|0)+Yn;for(xn[0]=Xt[0],Yt[0]=Array(xn[0]),Dr[0]=Array(xn[0]),Ft=1;Ft<Nt;++Ft)xn[Ft]>2*xn[Ft-1]+Xt[Ft]&&(xn[Ft]=2*xn[Ft-1]+Xt[Ft]),Yt[Ft]=Array(xn[Ft]),Dr[Ft]=Array(xn[Ft]);for(Jt=0;Jt<Yn;++Jt)hr[Jt]=Nt;for(En=0;En<xn[Nt-1];++En)Yt[Nt-1][En]=On[En],Dr[Nt-1][En]=En;for(Jt=0;Jt<Nt;++Jt)ni[Jt]=0;for(1===Xt[Nt-1]&&(--hr[0],++ni[Nt-1]),Ft=Nt-2;0<=Ft;--Ft){for(ei=Jt=0,ti=ni[Ft+1],En=0;En<xn[Ft];En++)(ei=Yt[Ft+1][ti]+Yt[Ft+1][ti+1])>On[Jt]?(Yt[Ft][En]=ei,Dr[Ft][En]=Yn,ti+=2):(Yt[Ft][En]=On[Jt],Dr[Ft][En]=Jt,++Jt);ni[Ft]=0,1===Xt[Ft]&&Mn(Ft)}return hr}(Me,Me.length,de),Ae=0,nt=Se.length;Ae<nt;++Ae)sn[Se[Ae].index]=ye[Ae];return sn}function K(_e){var de,Se,Me,ye,Ae=new(m?Uint16Array:Array)(_e.length),nt=[],ct=[],ft=0;for(de=0,Se=_e.length;de<Se;de++)nt[_e[de]]=1+(0|nt[_e[de]]);for(de=1,Se=16;de<=Se;de++)ct[de]=ft,ft+=0|nt[de],ft<<=1;for(de=0,Se=_e.length;de<Se;de++)for(ft=ct[_e[de]],ct[_e[de]]+=1,Me=Ae[de]=0,ye=_e[de];Me<ye;Me++)Ae[de]=Ae[de]<<1|1&ft,ft>>>=1;return Ae}function he(_e,de){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=m?new Uint8Array(_e):_e,this.s=!1,this.n=be,this.C=!1,!de&&(de={})||(de.index&&(this.c=de.index),de.bufferSize&&(this.m=de.bufferSize),de.bufferType&&(this.n=de.bufferType),de.resize&&(this.C=de.resize)),this.n){case Te:this.b=32768,this.a=new(m?Uint8Array:Array)(32768+this.m+258);break;case be:this.b=0,this.a=new(m?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:d(Error("invalid inflate mode"))}}var Te=0,be=1,Le={F:Te,D:be};he.prototype.p=function(){for(;!this.s;){var _e=Je(this,3);switch(1&_e&&(this.s=E),_e>>>=1){case 0:var de=this.input,Se=this.c,Me=this.a,ye=this.b,Ae=de.length,nt=O,ct=Me.length,ft=O;switch(this.e=this.g=0,Se+1>=Ae&&d(Error("invalid uncompressed block header: LEN")),nt=de[Se++]|de[Se++]<<8,Se+1>=Ae&&d(Error("invalid uncompressed block header: NLEN")),nt===~(de[Se++]|de[Se++]<<8)&&d(Error("invalid uncompressed block header: length verify")),Se+nt>de.length&&d(Error("input buffer is broken")),this.n){case Te:for(;ye+nt>Me.length;){if(nt-=ft=ct-ye,m)Me.set(de.subarray(Se,Se+ft),ye),ye+=ft,Se+=ft;else for(;ft--;)Me[ye++]=de[Se++];this.b=ye,Me=this.f(),ye=this.b}break;case be:for(;ye+nt>Me.length;)Me=this.f({v:2});break;default:d(Error("invalid inflate mode"))}if(m)Me.set(de.subarray(Se,Se+nt),ye),ye+=nt,Se+=nt;else for(;nt--;)Me[ye++]=de[Se++];this.c=Se,this.b=ye,this.a=Me;break;case 1:this.o(fe,je);break;case 2:Ue(this);break;default:d(Error("unknown BTYPE: "+_e))}}return this.t()};var Y,oe,J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=m?new Uint16Array(J):J,ie=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],se=m?new Uint16Array(ie):ie,ue=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Re=m?new Uint8Array(ue):ue,Xe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],De=m?new Uint16Array(Xe):Xe,Et=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$e=m?new Uint8Array(Et):Et,Ne=new(m?Uint8Array:Array)(288);for(Y=0,oe=Ne.length;Y<oe;++Y)Ne[Y]=143>=Y?8:255>=Y?9:279>=Y?7:8;var ne,ce,fe=R(Ne),Ie=new(m?Uint8Array:Array)(30);for(ne=0,ce=Ie.length;ne<ce;++ne)Ie[ne]=5;var je=R(Ie);function Je(_e,de){for(var Se,Me=_e.g,ye=_e.e,Ae=_e.input,nt=_e.c,ct=Ae.length;ye<de;)nt>=ct&&d(Error("input buffer is broken")),Me|=Ae[nt++]<<ye,ye+=8;return Se=Me&(1<<de)-1,_e.g=Me>>>de,_e.e=ye-de,_e.c=nt,Se}function Ce(_e,de){for(var Se,Me,ye=_e.g,Ae=_e.e,nt=_e.input,ct=_e.c,ft=nt.length,sn=de[0],On=de[1];Ae<On&&!(ct>=ft);)ye|=nt[ct++]<<Ae,Ae+=8;return Me=(Se=sn[ye&(1<<On)-1])>>>16,_e.g=ye>>Me,_e.e=Ae-Me,_e.c=ct,65535&Se}function Ue(_e){function de(On,Yn,Nt){var Mn,Jt,Ft,En=this.z;for(Ft=0;Ft<On;)switch(Mn=Ce(this,Yn),Mn){case 16:for(Jt=3+Je(this,2);Jt--;)Nt[Ft++]=En;break;case 17:for(Jt=3+Je(this,3);Jt--;)Nt[Ft++]=0;En=0;break;case 18:for(Jt=11+Je(this,7);Jt--;)Nt[Ft++]=0;En=0;break;default:En=Nt[Ft++]=Mn}return this.z=En,Nt}var Se,Me,ye,Ae,nt=Je(_e,5)+257,ct=Je(_e,5)+1,ft=Je(_e,4)+4,sn=new(m?Uint8Array:Array)(me.length);for(Ae=0;Ae<ft;++Ae)sn[me[Ae]]=Je(_e,3);if(!m)for(Ae=ft,ft=sn.length;Ae<ft;++Ae)sn[me[Ae]]=0;Se=R(sn),Me=new(m?Uint8Array:Array)(nt),ye=new(m?Uint8Array:Array)(ct),_e.z=0,_e.o(R(de.call(_e,nt,Se,Me)),R(de.call(_e,ct,Se,ye)))}function Ht(_e){if("string"==typeof _e){var de,Se,Me=_e.split("");for(de=0,Se=Me.length;de<Se;de++)Me[de]=(255&Me[de].charCodeAt(0))>>>0;_e=Me}for(var ye,Ae=1,nt=0,ct=_e.length,ft=0;0<ct;){ct-=ye=1024<ct?1024:ct;do{nt+=Ae+=_e[ft++]}while(--ye);Ae%=65521,nt%=65521}return(nt<<16|Ae)>>>0}function Dt(_e,de){var Se,Me;this.input=_e,this.c=0,!de&&(de={})||(de.index&&(this.c=de.index),de.verify&&(this.N=de.verify)),Se=_e[this.c++],Me=_e[this.c++],(15&Se)===$t?this.method=$t:d(Error("unsupported compression method")),((Se<<8)+Me)%31!=0&&d(Error("invalid fcheck flag:"+((Se<<8)+Me)%31)),32&Me&&d(Error("fdict flag is not supported")),this.B=new he(_e,{index:this.c,bufferSize:de.bufferSize,bufferType:de.bufferType,resize:de.resize})}he.prototype.o=function(_e,de){var Se=this.a,Me=this.b;this.u=_e;for(var ye,Ae,nt,ct,ft=Se.length-258;256!==(ye=Ce(this,_e));)if(256>ye)Me>=ft&&(this.b=Me,Se=this.f(),Me=this.b),Se[Me++]=ye;else for(ct=se[Ae=ye-257],0<Re[Ae]&&(ct+=Je(this,Re[Ae])),ye=Ce(this,de),nt=De[ye],0<$e[ye]&&(nt+=Je(this,$e[ye])),Me>=ft&&(this.b=Me,Se=this.f(),Me=this.b);ct--;)Se[Me]=Se[Me++-nt];for(;8<=this.e;)this.e-=8,this.c--;this.b=Me},he.prototype.J=function(_e,de){var Se=this.a,Me=this.b;this.u=_e;for(var ye,Ae,nt,ct,ft=Se.length;256!==(ye=Ce(this,_e));)if(256>ye)Me>=ft&&(ft=(Se=this.f()).length),Se[Me++]=ye;else for(ct=se[Ae=ye-257],0<Re[Ae]&&(ct+=Je(this,Re[Ae])),ye=Ce(this,de),nt=De[ye],0<$e[ye]&&(nt+=Je(this,$e[ye])),Me+ct>ft&&(ft=(Se=this.f()).length);ct--;)Se[Me]=Se[Me++-nt];for(;8<=this.e;)this.e-=8,this.c--;this.b=Me},he.prototype.f=function(){var _e,de,Se=new(m?Uint8Array:Array)(this.b-32768),Me=this.b-32768,ye=this.a;if(m)Se.set(ye.subarray(32768,Se.length));else for(_e=0,de=Se.length;_e<de;++_e)Se[_e]=ye[_e+32768];if(this.l.push(Se),this.q+=Se.length,m)ye.set(ye.subarray(Me,Me+32768));else for(_e=0;32768>_e;++_e)ye[_e]=ye[Me+_e];return this.b=32768,ye},he.prototype.K=function(_e){var de,Se,Me,ye=this.input.length/this.c+1|0,nt=this.a;return _e&&("number"==typeof _e.v&&(ye=_e.v),"number"==typeof _e.G&&(ye+=_e.G)),Se=2>ye?(Me=(this.input.length-this.c)/this.u[2]/2*258|0)<nt.length?nt.length+Me:nt.length<<1:nt.length*ye,m?(de=new Uint8Array(Se)).set(nt):de=nt,this.a=de},he.prototype.t=function(){var _e,de,Se,Me,ye,Ae=0,nt=this.a,ct=this.l,ft=new(m?Uint8Array:Array)(this.q+(this.b-32768));if(0===ct.length)return m?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(de=0,Se=ct.length;de<Se;++de)for(Me=0,ye=(_e=ct[de]).length;Me<ye;++Me)ft[Ae++]=_e[Me];for(de=32768,Se=this.b;de<Se;++de)ft[Ae++]=nt[de];return this.l=[],this.buffer=ft},he.prototype.I=function(){var _e,de=this.b;return m?this.C?(_e=new Uint8Array(de)).set(this.a.subarray(0,de)):_e=this.a.subarray(0,de):(this.a.length>de&&(this.a.length=de),_e=this.a),this.buffer=_e},Dt.prototype.p=function(){var _e,de=this.input;return _e=this.B.p(),this.c=this.B.c,this.N&&(de[this.c++]<<24|de[this.c++]<<16|de[this.c++]<<8|de[this.c++])>>>0!==Ht(_e)&&d(Error("invalid adler-32 checksum")),_e};var $t=8;function Hn(_e,de){this.input=_e,this.a=new(m?Uint8Array:Array)(32768),this.h=Qe.k;var Se,Me={};for(Se in!de&&(de={})||"number"!=typeof de.compressionType||(this.h=de.compressionType),de)Me[Se]=de[Se];Me.outputBuffer=this.a,this.A=new N(this.input,Me)}var Qe=L;function at(_e,de){var Se,Me,ye,Ae;if(Object.keys)Se=Object.keys(de);else for(Me in Se=[],ye=0,de)Se[ye++]=Me;for(ye=0,Ae=Se.length;ye<Ae;++ye)v(_e+"."+(Me=Se[ye]),de[Me])}Hn.prototype.j=function(){var _e,de,Se,Me,ye,Ae,nt,ct=0;if(nt=this.a,(_e=$t)===$t?de=Math.LOG2E*Math.log(32768)-8:d(Error("invalid compression method")),nt[ct++]=Se=de<<4|_e,_e===$t)switch(this.h){case Qe.NONE:ye=0;break;case Qe.r:ye=1;break;case Qe.k:ye=2;break;default:d(Error("unsupported compression type"))}else d(Error("invalid compression method"));return nt[ct++]=(Me=ye<<6|0)|31-(256*Se+Me)%31,Ae=Ht(this.input),this.A.b=ct,ct=(nt=this.A.j()).length,m&&((nt=new Uint8Array(nt.buffer)).length<=ct+4&&(this.a=new Uint8Array(nt.length+4),this.a.set(nt),nt=this.a),nt=nt.subarray(0,ct+4)),nt[ct++]=Ae>>24&255,nt[ct++]=Ae>>16&255,nt[ct++]=Ae>>8&255,nt[ct++]=255&Ae,nt},v("Zlib.Inflate",Dt),v("Zlib.Inflate.prototype.decompress",Dt.prototype.p),at("Zlib.Inflate.BufferType",{ADAPTIVE:Le.D,BLOCK:Le.F}),v("Zlib.Deflate",Hn),v("Zlib.Deflate.compress",function(_e,de){return new Hn(_e,de).j()}),v("Zlib.Deflate.prototype.compress",Hn.prototype.j),at("Zlib.Deflate.CompressionType",{NONE:Qe.NONE,FIXED:Qe.r,DYNAMIC:Qe.k})}).call(this)},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SocketEngine=P.SocketEvent=void 0;var O,E=function(){function k(H,L){for(var U=0;U<L.length;U++){var G=L[U];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(H,G.key,G)}}return function(H,L,U){return L&&k(H.prototype,L),U&&k(H,U),H}}(),v=(O=d(120))&&O.__esModule?O:{default:O},m=d(167),_=d(39),p=d(8),f=d(2),b=d(50),C=d(51),h=d(1);function g(k,H){if(!(k instanceof H))throw new TypeError("Cannot call a class as a function")}var S=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),R=function(k){function H(L){g(this,H);var U=function(G,X){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||"object"!=typeof X&&"function"!=typeof X?G:X}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return U._sfs=L,U._logger=b.Logger.instance,U._isConnected=!1,U._isConnecting=!1,U._socket=null,U._protocolCodec=new N(L),U._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN,Object.seal(U),U}return function(L,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}(H,_.EventDispatcher),E(H,[{key:"connect",value:function(L,U,G){this._isConnecting=!0,this._socket=new WebSocket("ws"+(G?"s":"")+"://"+L+":"+U+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(L){this._disconnectionReason=L,this._socket.close()}},{key:"addController",value:function(L,U){null==this._controllers[L]&&(this._controllers[L]=U)}},{key:"removeController",value:function(L){delete this._controllers[L]}},{key:"send",value:function(L){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+L.dump());var U=this._protocolCodec.onPacketWrite(L);this._socket.send(U)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(S.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(S.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(S.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(L){var U=this._scope._protocolCodec.onPacketRead(L.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+U.dump()),this._scope.dispatchEvent(S.DATA,U)}},{key:"_onSocketError",value:function(L){this._scope.dispatchEvent(S.IOERROR,L.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(L){this._protocolCodec.maxMessageSize=L}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(L){this._protocolCodec.compressionThreshold=L}}]),H}(),N=function(){function k(H){g(this,k),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=H,this._logger=b.Logger.instance,Object.seal(this)}return E(k,[{key:"onPacketRead",value:function(H){if(0!==H.byteLength){var L=new v.default(H,0,v.default.BIG_ENDIAN),U=L.readUint8(),G=(32&U)>0,X=(8&U)>0?L.readUint32():L.readUint16(),te=L.readUint8Array(X);G&&(te=this.decompress(te)),this._sfs.debug&&this._logger.debug(H.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+C.DumpFormatter.hexDump(te));var z=p.SFSObject.newFromBinaryData(te);return new f.Message(z.get(this.ACTION_ID),z.get(this.CONTROLLER_ID),z.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(H){var L=new p.SFSObject;L.put(this.CONTROLLER_ID,H.targetController,p.SFSDataType.BYTE),L.put(this.ACTION_ID,H.id,p.SFSDataType.SHORT),L.put(this.PARAM_ID,H.content,p.SFSDataType.SFS_OBJECT);var U=L.toBinary(),G=U.byteLength,X=new v.default(new ArrayBuffer(0),0,v.default.BIG_ENDIAN),te=128;G>this.compressionThreshold&&(te+=32,G=(U=this.compress(U)).byteLength);var z=G>65335;z&&(te+=8),X.writeUint8(te),z?X.writeUint32(G):X.writeUint16(G),X.writeUint8Array(U);var le=new Uint8Array(X.buffer);if(le.byteLength>this.maxMessageSize)throw new h.SFSError("Message size is too big: "+le.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+C.DumpFormatter.hexDump(le)),le}},{key:"decompress",value:function(H){return new m.Zlib.Inflate(H).decompress()}},{key:"compress",value:function(H){return new m.Zlib.Deflate(H).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(H){this._maxMessageSize=H}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(H){this._compressionThreshold=H}}]),k}();P.SocketEvent=S,P.SocketEngine=R},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.ExtensionController=void 0;var O=function(){function m(_,p){for(var f=0;f<p.length;f++){var b=p[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,p,f){return p&&m(_.prototype,p),f&&m(_,f),_}}(),E=d(39),T=d(97),v=function(){function m(_){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._logger=_.logger,this._id=1,Object.freeze(this)}return O(m,[{key:"handleMessage",value:function(_,p){this._sfs.debug&&this._logger.info("Handling Extension response");var f={};f.cmd=_.get(T.ExtensionRequest.KEY_CMD),f.params=_.get(T.ExtensionRequest.KEY_PARAMS);var b=_.get(T.ExtensionRequest.KEY_ROOM);null!=b&&(f.room=this._sfs.roomManager.getRoomById(b)),this._sfs.dispatchEvent(E.SFSEvent.EXTENSION_RESPONSE,f)}},{key:"id",get:function(){return this._id}}]),m}();P.ExtensionController=v},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var O=function(){function T(v,m){for(var _=0;_<m.length;_++){var p=m[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,m,_){return m&&T(v.prototype,m),_&&T(v,_),v}}(),E=function(){function T(){!function(v,m){if(!(v instanceof m))throw new TypeError("Cannot call a class as a function")}(this,T)}return O(T,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),T}();P.SetMMOItemVariables=E},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MMOItem=void 0;var O=function(){function v(m,_){for(var p=0;p<_.length;p++){var f=_[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(m,f.key,f)}}return function(m,_,p){return _&&v(m.prototype,_),p&&v(m,p),m}}(),E=d(73),T=function(){function v(m){(function(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")})(this,v),this._id=m,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return O(v,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(m){return this._variables.get(m)}},{key:"containsVariable",value:function(m){return this._variables.has(m)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(m){var _=!0,p=!1,f=void 0;try{for(var b,C=m[Symbol.iterator]();!(_=(b=C.next()).done);_=!0)this._setVariable(b.value)}catch(g){p=!0,f=g}finally{try{!_&&C.return&&C.return()}finally{if(p)throw f}}}},{key:"_setVariable",value:function(m){m.isNull?this._variables.delete(m.name):this._variables.set(m.name,m)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(m){var _=new v(m.get(0)),p=m.get(1);if(null!=p)for(var f=0;f<p.size();f++)_._setVariable(E.MMOItemVariable.fromSFSArray(p.get(f)));return _}}]),v}();P.MMOItem=T},function(B,P){!function(d){"use strict";function O(G,X,te){return X<=G&&G<=te}function E(G,X){return Math.floor(G/X)}var T=-1,v=-1;function m(G,X){if(G)throw new Error("EncodingError");return X||65533}function _(G){throw new Error("EncodingError")}function p(G){if(G=String(G).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(b,G))return b[G];throw new Error("EncodingError: Unknown encoding: "+G)}var f={},b={};function C(G,X){return(X||[])[G]||null}function h(G,X){var te=X.indexOf(G);return-1===te?null:te}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(G){G.encodings.forEach(function(X){f[X.name]=X,X.labels.forEach(function(te){b[te]=X})})});var g=d["encoding-indexes"]||{};function S(G,X){var te=X.fatal,z=0,le=0,K=0;this.decode=function(he){var Te,be=he.get();if(be===T&&0===z&&0===le&&0===K)return v;if(be!==T||0===z&&0===le&&0===K||(z=0,le=0,K=0,m(te)),he.offset(1),0!==K)return Te=null,O(be,48,57)&&(Te=function(J){if(J>39419&&J<189e3||J>1237575)return null;var me,ie=0,se=0,ue=g.gb18030;for(me=0;me<ue.length;++me){var Re=ue[me];if(!(Re[0]<=J))break;ie=Re[0],se=Re[1]}return se+J-ie}(10*(126*(10*(z-129)+(le-48))+(K-129))+be-48)),z=0,le=0,K=0,null===Te?(he.offset(-3),m(te)):Te;if(0!==le)return O(be,129,254)?(K=be,null):(he.offset(-2),z=0,le=0,m(te));if(0!==z){if(O(be,48,57)&&G)return le=be,null;var Le=z,Y=null;z=0;var oe=be<127?64:65;return(O(be,64,126)||O(be,128,254))&&(Y=190*(Le-129)+(be-oe)),Te=null===Y?null:C(Y,g.gbk),null===Y&&he.offset(-1),null===Te?m(te):Te}return O(be,0,127)?be:128===be?8364:O(be,129,254)?(z=be,null):m(te)}}function R(G,X){this.encode=function(te,z){var le=z.get();if(le===v)return T;if(z.offset(1),O(le,0,127))return te.emit(le);var K=h(le,g.gbk);if(null!==K){var he=E(K,190)+129,Te=K%190;return te.emit(he,Te+(Te<63?64:65))}if(null===K&&!G)return _();var Le=E(E(E(K=function(me){var ie,se=0,ue=0,Re=g.gb18030;for(ie=0;ie<Re.length;++ie){var Xe=Re[ie];if(!(Xe[1]<=me))break;se=Xe[1],ue=Xe[0]}return ue+me-se}(le),10),126),10),Y=E(E(K-=10*Le*126*10,10),126),oe=E(K-=10*Y*126,10);return te.emit(Le+129,Y+48,oe+129,K-10*oe+48)}}function N(G,X){var te=X.fatal,z=null,le=null;this.decode=function(K){var he,Te=K.get();if(Te===T&&null===z&&null===le)return v;if(Te===T&&(null!==z||null!==le))return m(te);if(K.offset(1),null===z)return z=Te,null;if(he=G?(z<<8)+Te:(Te<<8)+z,z=null,null!==le){var be=le;return le=null,O(he,56320,57343)?65536+1024*(be-55296)+(he-56320):(K.offset(-2),m(te))}return O(he,55296,56319)?(le=he,null):O(he,56320,57343)?m(te):he}}function k(G,X){this.encode=function(te,z){function le(Te){var be=Te>>8,Le=255&Te;return G?te.emit(be,Le):te.emit(Le,be)}var K=z.get();if(K===v)return T;if(z.offset(1),O(K,55296,57343)&&_(),K<=65535)return le(K);var he=(K-65536)%1024+56320;return le(E(K-65536,1024)+55296),le(he)}}f["utf-8"].getEncoder=function(G){return new function(X){this.encode=function(te,z){var le,K,he=z.get();if(he===v)return T;if(z.offset(1),O(he,55296,57343))return _();if(O(he,0,127))return te.emit(he);O(he,128,2047)?(le=1,K=192):O(he,2048,65535)?(le=2,K=224):O(he,65536,1114111)&&(le=3,K=240);for(var Te=te.emit(E(he,Math.pow(64,le))+K);le>0;){var be=E(he,Math.pow(64,le-1));Te=te.emit(128+be%64),le-=1}return Te}}(G)},f["utf-8"].getDecoder=function(G){return new function(X){var te=X.fatal,z=0,le=0,K=0,he=0;this.decode=function(Te){var be=Te.get();if(be===T)return 0!==le?m(te):v;if(Te.offset(1),0===le){if(O(be,0,127))return be;if(O(be,194,223))le=1,he=128,z=be-192;else if(O(be,224,239))le=2,he=2048,z=be-224;else{if(!O(be,240,244))return m(te);le=3,he=65536,z=be-240}return z*=Math.pow(64,le),null}if(!O(be,128,191))return z=0,le=0,K=0,he=0,Te.offset(-1),m(te);if(K+=1,z+=(be-128)*Math.pow(64,le-K),K!==le)return null;var Le=z,Y=he;return z=0,le=0,K=0,he=0,O(Le,Y,1114111)&&!O(Le,55296,57343)?Le:m(te)}}(G)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(G){var X=f[G],te=g[G];X.getDecoder=function(z){return new function(le,K){var he=K.fatal;this.decode=function(Te){var be=Te.get();if(be===T)return v;if(Te.offset(1),O(be,0,127))return be;var Le=le[be-128];return null===Le?m(he):Le}}(te,z)},X.getEncoder=function(z){return new function(le,K){this.encode=function(he,Te){var be=Te.get();if(be===v)return T;if(Te.offset(1),O(be,0,127))return he.emit(be);var Le=h(be,le);return null===Le&&_(),he.emit(Le+128)}}(te,z)}}),f.gbk.getEncoder=function(G){return new R(!1,G)},f.gbk.getDecoder=function(G){return new S(!1,G)},f.gb18030.getEncoder=function(G){return new R(!0,G)},f.gb18030.getDecoder=function(G){return new S(!0,G)},f["hz-gb-2312"].getEncoder=function(G){return new function(X){var te=!1;this.encode=function(z,le){var K=le.get();if(K===v)return T;if(le.offset(1),O(K,0,127)&&te)return le.offset(-1),te=!1,z.emit(126,125);if(126===K)return z.emit(126,126);if(O(K,0,127))return z.emit(K);if(!te)return le.offset(-1),te=!0,z.emit(126,123);var he=h(K,g.gbk);if(null===he)return _();var Te=E(he,190)+1,be=he%190-63;return O(Te,33,126)&&O(be,33,126)?z.emit(Te,be):_()}}(G)},f["hz-gb-2312"].getDecoder=function(G){return new function(X){var te=X.fatal,z=!1,le=0;this.decode=function(K){var he=K.get();if(he===T&&0===le)return v;if(he===T&&0!==le)return le=0,m(te);if(K.offset(1),126===le)return le=0,123===he?(z=!0,null):125===he?(z=!1,null):126===he?126:10===he?null:(K.offset(-1),m(te));if(0!==le){var Te=le;le=0;var be=null;return O(he,33,126)&&(be=C(190*(Te-1)+(he+63),g.gbk)),10===he&&(z=!1),null===be?m(te):be}return 126===he?(le=126,null):z?O(he,32,127)?(le=he,null):(10===he&&(z=!1),m(te)):O(he,0,127)?he:m(te)}}(G)},f.big5.getEncoder=function(G){return new function(X){this.encode=function(te,z){var le=z.get();if(le===v)return T;if(z.offset(1),O(le,0,127))return te.emit(le);var K=h(le,g.big5);if(null===K)return _();var he=E(K,157)+129,Te=K%157;return te.emit(he,Te+(Te<63?64:98))}}(G)},f.big5.getDecoder=function(G){return new function(X){var te=X.fatal,z=0,le=null;this.decode=function(K){if(null!==le){var he=le;return le=null,he}var Te=K.get();if(Te===T&&0===z)return v;if(Te===T&&0!==z)return z=0,m(te);if(K.offset(1),0!==z){var be=z,Le=null;z=0;var Y=Te<127?64:98;if((O(Te,64,126)||O(Te,161,254))&&(Le=157*(be-129)+(Te-Y)),1133===Le)return le=772,202;if(1135===Le)return le=780,202;if(1164===Le)return le=772,234;if(1166===Le)return le=780,234;var oe=null===Le?null:C(Le,g.big5);return null===Le&&K.offset(-1),null===oe?m(te):oe}return O(Te,0,127)?Te:O(Te,129,254)?(z=Te,null):m(te)}}(G)},f["euc-jp"].getEncoder=function(G){return new function(X){this.encode=function(te,z){var le=z.get();if(le===v)return T;if(z.offset(1),O(le,0,127))return te.emit(le);if(165===le)return te.emit(92);if(8254===le)return te.emit(126);if(O(le,65377,65439))return te.emit(142,le-65377+161);var K=h(le,g.jis0208);if(null===K)return _();var he=E(K,94)+161;return te.emit(he,K%94+161)}}(G)},f["euc-jp"].getDecoder=function(G){return new function(X){var te=X.fatal,z=0,le=0;this.decode=function(K){var he,Te,be=K.get();return be===T?0===z&&0===le?v:(z=0,le=0,m(te)):(K.offset(1),0!==le?(he=le,le=0,Te=null,O(he,161,254)&&O(be,161,254)&&(Te=C(94*(he-161)+be-161,g.jis0212)),O(be,161,254)||K.offset(-1),null===Te?m(te):Te):142===z&&O(be,161,223)?(z=0,65377+be-161):143===z&&O(be,161,254)?(z=0,le=be,null):0!==z?(he=z,z=0,Te=null,O(he,161,254)&&O(be,161,254)&&(Te=C(94*(he-161)+be-161,g.jis0208)),O(be,161,254)||K.offset(-1),null===Te?m(te):Te):O(be,0,127)?be:142===be||143===be||O(be,161,254)?(z=be,null):m(te))}}(G)},f["iso-2022-jp"].getEncoder=function(G){return new function(X){var K=0;this.encode=function(he,Te){var be=Te.get();if(be===v)return T;if(Te.offset(1),(O(be,0,127)||165===be||8254===be)&&0!==K)return Te.offset(-1),K=0,he.emit(27,40,66);if(O(be,0,127))return he.emit(be);if(165===be)return he.emit(92);if(8254===be)return he.emit(126);if(O(be,65377,65439)&&2!==K)return Te.offset(-1),K=2,he.emit(27,40,73);if(O(be,65377,65439))return he.emit(be-65377-33);if(1!==K)return Te.offset(-1),K=1,he.emit(27,36,66);var Le=h(be,g.jis0208);if(null===Le)return _();var Y=E(Le,94)+33;return he.emit(Y,Le%94+33)}}(G)},f["iso-2022-jp"].getDecoder=function(G){return new function(X){var te=X.fatal,Y=0,oe=!1,J=0;this.decode=function(me){var ie=me.get();switch(ie!==T&&me.offset(1),Y){default:case 0:return 27===ie?(Y=1,null):O(ie,0,127)?ie:ie===T?v:m(te);case 1:return 36===ie||40===ie?(J=ie,Y=2,null):(ie!==T&&me.offset(-1),Y=0,m(te));case 2:var se=J;return J=0,36!==se||64!==ie&&66!==ie?36===se&&40===ie?(Y=3,null):40!==se||66!==ie&&74!==ie?40===se&&73===ie?(Y=6,null):(me.offset(ie===T?-1:-2),Y=0,m(te)):(Y=0,null):(oe=!1,Y=4,null);case 3:return 68===ie?(oe=!0,Y=4,null):(me.offset(ie===T?-2:-3),Y=0,m(te));case 4:return 10===ie?(Y=0,m(te,10)):27===ie?(Y=1,null):ie===T?v:(J=ie,Y=5,null);case 5:if(Y=4,ie===T)return m(te);var ue=null,Re=94*(J-33)+ie-33;return O(J,33,126)&&O(ie,33,126)&&(ue=C(Re,!1===oe?g.jis0208:g.jis0212)),null===ue?m(te):ue;case 6:return 27===ie?(Y=1,null):O(ie,33,95)?65377+ie-33:ie===T?v:m(te)}}}(G)},f.shift_jis.getEncoder=function(G){return new function(X){this.encode=function(te,z){var le=z.get();if(le===v)return T;if(z.offset(1),O(le,0,128))return te.emit(le);if(165===le)return te.emit(92);if(8254===le)return te.emit(126);if(O(le,65377,65439))return te.emit(le-65377+161);var K=h(le,g.jis0208);if(null===K)return _();var he=E(K,188),be=K%188;return te.emit(he+(he<31?129:193),be+(be<63?64:65))}}(G)},f.shift_jis.getDecoder=function(G){return new function(X){var te=X.fatal,z=0;this.decode=function(le){var K=le.get();if(K===T&&0===z)return v;if(K===T&&0!==z)return z=0,m(te);if(le.offset(1),0!==z){var he=z;if(z=0,O(K,64,126)||O(K,128,252)){var Te=C(188*(he-(he<160?129:193))+K-(K<127?64:65),g.jis0208);return null===Te?m(te):Te}return le.offset(-1),m(te)}return O(K,0,128)?K:O(K,161,223)?65377+K-161:O(K,129,159)||O(K,224,252)?(z=K,null):m(te)}}(G)},f["euc-kr"].getEncoder=function(G){return new function(X){this.encode=function(te,z){var le=z.get();if(le===v)return T;if(z.offset(1),O(le,0,127))return te.emit(le);var K,he,Te=h(le,g["euc-kr"]);if(null===Te)return _();if(Te<12460){K=E(Te,178)+129;var be=(he=Te%178)<26?65:he<52?71:77;return te.emit(K,he+be)}return K=E(Te-=12460,94)+199,te.emit(K,he=Te%94+161)}}(G)},f["euc-kr"].getDecoder=function(G){return new function(X){var te=X.fatal,z=0;this.decode=function(le){var K=le.get();if(K===T&&0===z)return v;if(K===T&&0!==z)return z=0,m(te);if(le.offset(1),0!==z){var he=z,Te=null;if(z=0,O(he,129,198)){var be=178*(he-129);O(K,65,90)?Te=be+K-65:O(K,97,122)?Te=be+26+K-97:O(K,129,254)&&(Te=be+26+26+K-129)}O(he,199,253)&&O(K,161,254)&&(Te=12460+94*(he-199)+(K-161));var Le=null===Te?null:C(Te,g["euc-kr"]);return null===Te&&le.offset(-1),null===Le?m(te):Le}return O(K,0,127)?K:O(K,129,253)?(z=K,null):m(te)}}(G)},f["iso-2022-kr"].getEncoder=function(G){return new function(X){var le=!1,K=0;this.encode=function(he,Te){var be=Te.get();if(be===v)return T;if(le||(le=!0,he.emit(27,36,41,67)),Te.offset(1),O(be,0,127)&&0!==K)return Te.offset(-1),K=0,he.emit(15);if(O(be,0,127))return he.emit(be);if(1!==K)return Te.offset(-1),K=1,he.emit(14);var Le,Y,oe=h(be,g["euc-kr"]);return null===oe?_():oe<12460?(Y=oe%178-26-26+1,O(Le=E(oe,178)+1,33,70)&&O(Y,33,126)?he.emit(Le,Y):_()):(Y=(oe-=12460)%94+33,O(Le=E(oe,94)+71,71,126)&&O(Y,33,126)?he.emit(Le,Y):_())}}(G)},f["iso-2022-kr"].getDecoder=function(G){return new function(X){var te=X.fatal,Le=0,Y=0;this.decode=function(oe){var J=oe.get();switch(J!==T&&oe.offset(1),Le){default:case 0:return 14===J?(Le=4,null):15===J?null:27===J?(Le=1,null):O(J,0,127)?J:J===T?v:m(te);case 1:return 36===J?(Le=2,null):(J!==T&&oe.offset(-1),Le=0,m(te));case 2:return 41===J?(Le=3,null):(oe.offset(J===T?-1:-2),Le=0,m(te));case 3:return 67===J?(Le=0,null):(oe.offset(J===T?-2:-3),Le=0,m(te));case 4:return 10===J?(Le=0,m(te,10)):14===J?null:15===J?(Le=0,null):J===T?v:(Y=J,Le=5,null);case 5:if(Le=4,J===T)return m(te);var me=null;return O(Y,33,70)&&O(J,33,126)?me=C(178*(Y-1)+26+26+J-1,g["euc-kr"]):O(Y,71,126)&&O(J,33,126)&&(me=C(12460+94*(Y-71)+(J-33),g["euc-kr"])),null!==me?me:m(te)}}}(G)},f["utf-16"].getEncoder=function(G){return new k(!1,G)},f["utf-16"].getDecoder=function(G){return new N(!1,G)},f["utf-16be"].getEncoder=function(G){return new k(!0,G)},f["utf-16be"].getDecoder=function(G){return new N(!0,G)};var H="utf-8";function L(G,X){return this&&this!==d?(G=G?String(G):H,X=Object(X),this._encoding=p(G),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(X.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new L(G,X)}function U(G,X){return this&&this!==d?(G=G?String(G):H,X=Object(X),this._encoding=p(G),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(X.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new U(G,X)}L.prototype={encode:function(G,X){G=G?String(G):"",X=Object(X),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(X.stream);for(var te=[],z=new function(he){var Te=0;this.emit=function(be){var Le,Y=T;for(Le=0;Le<arguments.length;++Le)Y=Number(arguments[Le]),he[Te++]=Y;return Y}}(te),le=new function(he){var Te=0,be=function(){for(var Le=[],Y=0,oe=he.length;Y<he.length;){var J=he.charCodeAt(Y);if(O(J,55296,57343))if(O(J,56320,57343))Le.push(65533);else if(Y===oe-1)Le.push(65533);else{var me=he.charCodeAt(Y+1);O(me,56320,57343)?(Y+=1,Le.push(65536+((1023&J)<<10)+(1023&me))):Le.push(65533)}else Le.push(J);Y+=1}return Le}();this.offset=function(Le){if((Te+=Le)<0)throw new Error("Seeking past start of the buffer");if(Te>be.length)throw new Error("Seeking past EOF")},this.get=function(){return Te>=be.length?v:be[Te]}}(G);le.get()!==v;)this._encoder.encode(z,le);if(!this._streaming){var K;do{K=this._encoder.encode(z,le)}while(K!==T);this._encoder=null}return new Uint8Array(te)}},U.prototype={decode:function(G,X){if(G&&!("buffer"in G&&"byteOffset"in G&&"byteLength"in G))throw new TypeError("Expected ArrayBufferView");G||(G=new Uint8Array(0)),X=Object(X),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(X.stream);var K,he,te=new function(K){var he=0;this.get=function(){return he>=K.length?T:Number(K[he])},this.offset=function(Te){if((he+=Te)<0)throw new Error("Seeking past start of the buffer");if(he>K.length)throw new Error("Seeking past EOF")},this.match=function(Te){if(Te.length>he+K.length)return!1;var be;for(be=0;be<Te.length;be+=1)if(Number(K[he+be])!==Te[be])return!1;return!0}}(new Uint8Array(G.buffer,G.byteOffset,G.byteLength));if(p((K=this._encoding.name,(he=te).match([255,254])?(he.offset(2),"utf-16"):he.match([254,255])?(he.offset(2),"utf-16be"):he.match([239,187,191])?(he.offset(3),"utf-8"):K))!==this._encoding)throw new Error("BOM mismatch");for(var z,le=new function(){var K="";this.string=function(){return K},this.emit=function(he){he<=65535?K+=String.fromCharCode(he):(he-=65536,K+=String.fromCharCode(55296+(he>>10&1023)),K+=String.fromCharCode(56320+(1023&he)))}};te.get()!==T;)null!==(z=this._decoder.decode(te))&&z!==v&&le.emit(z);if(!this._streaming){do{null!==(z=this._decoder.decode(te))&&z!==v&&le.emit(z)}while(z!==v);this._decoder=null}return le.string()}},d.TextEncoder=d.TextEncoder||L,d.TextDecoder=d.TextDecoder||U}(this)},function(B,P){B.exports=function(d){return d.webpackPolyfill||(d.deprecate=function(){},d.paths=[],d.children||(d.children=[]),Object.defineProperty(d,"loaded",{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,"id",{enumerable:!0,get:function(){return d.i}}),d.webpackPolyfill=1),d}},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SFSDataSerializer=void 0;var O,E=function(){function C(h,g){for(var S=0;S<g.length;S++){var R=g[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(h,R.key,R)}}return function(h,g,S){return g&&C(h.prototype,g),S&&C(h,S),h}}(),v=(O=d(120))&&O.__esModule?O:{default:O},m=d(172),_=d(8),p=Symbol(),f=Symbol(),b=function(){function C(h){if(function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,C),h!==f)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return E(C,[{key:"object2binary",value:function(h){var g=new v.default(new ArrayBuffer(0),0,v.default.BIG_ENDIAN);return g.writeInt8(_.SFSDataType.SFS_OBJECT),g.writeInt16(h.size()),this.obj2bin(h,g),new Uint8Array(g.buffer)}},{key:"obj2bin",value:function(h,g){var S=!0,R=!1,N=void 0;try{for(var k,H=h.keys()[Symbol.iterator]();!(S=(k=H.next()).done);S=!0){var L=k.value,U=h.getWrappedItem(L);this.encodeSFSObjectKey(g,L),this.encodeObject(g,U)}}catch(G){R=!0,N=G}finally{try{!S&&H.return&&H.return()}finally{if(R)throw N}}}},{key:"array2binary",value:function(h){var g=new v.default(new ArrayBuffer(0),0,v.default.BIG_ENDIAN);return g.writeInt8(_.SFSDataType.SFS_ARRAY),g.writeInt16(h.size()),this.arr2bin(h,g),new Uint8Array(g.buffer)}},{key:"arr2bin",value:function(h,g){for(var S=0;S<h.size();S++){var R=h.getWrappedItem(S);this.encodeObject(g,R)}}},{key:"encodeSFSObjectKey",value:function(h,g){h.writeInt16(g.length),h.writeUint8Array(new m.TextEncoder("utf-8").encode(g))}},{key:"encodeObject",value:function(h,g){var S=g.type;if(S===_.SFSDataType.NULL)this.binEncode_NULL(h,g);else if(S===_.SFSDataType.BOOL)this.binEncode_BOOL(h,g);else if(S===_.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(h,g);else if(S===_.SFSDataType.BYTE)this.binEncode_BYTE(h,g);else if(S===_.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(h,g);else if(S===_.SFSDataType.SHORT)this.binEncode_SHORT(h,g);else if(S===_.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(h,g);else if(S===_.SFSDataType.INT)this.binEncode_INT(h,g);else if(S===_.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(h,g);else if(S===_.SFSDataType.LONG)this.binEncode_LONG(h,g);else if(S===_.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(h,g);else if(S===_.SFSDataType.FLOAT)this.binEncode_FLOAT(h,g);else if(S===_.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(h,g);else if(S===_.SFSDataType.DOUBLE)this.binEncode_DOUBLE(h,g);else if(S===_.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(h,g);else if(S===_.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(h,g);else if(S===_.SFSDataType.TEXT)this.binEncode_TEXT(h,g);else if(S===_.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(h,g);else if(S===_.SFSDataType.SFS_ARRAY)h.writeUint8Array(this.array2binary(g.value));else{if(S!==_.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+S;h.writeUint8Array(this.object2binary(g.value))}return h}},{key:"binEncode_NULL",value:function(h,g){h.writeUint8(g.type)}},{key:"binEncode_BOOL",value:function(h,g){h.writeUint8(g.type),h.writeUint8(g.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++)h.writeUint8(S[R]?1:0)}},{key:"binEncode_BYTE",value:function(h,g){h.writeUint8(g.type),h.writeUint8(g.value)}},{key:"binEncode_BYTE_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint32(S.length),h.writeUint8Array(S)}},{key:"binEncode_SHORT",value:function(h,g){h.writeUint8(g.type),h.writeUint16(g.value)}},{key:"binEncode_SHORT_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++)h.writeUint16(S[R])}},{key:"binEncode_INT",value:function(h,g){h.writeUint8(g.type),h.writeUint32(g.value)}},{key:"binEncode_INT_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++)h.writeUint32(S[R])}},{key:"binEncode_LONG",value:function(h,g){var S=g.value,R=Math.floor(S/Math.pow(2,32)),N=S%Math.pow(2,32);h.writeUint8(g.type),h.writeInt32(R),h.writeInt32(N)}},{key:"binEncode_LONG_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++){var N=S[R],k=Math.floor(N/Math.pow(2,32)),H=N%Math.pow(2,32);h.writeInt32(k),h.writeInt32(H)}}},{key:"binEncode_FLOAT",value:function(h,g){h.writeUint8(g.type),h.writeFloat32(g.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++)h.writeFloat32(S[R])}},{key:"binEncode_DOUBLE",value:function(h,g){h.writeUint8(g.type),h.writeFloat64(g.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++)h.writeFloat64(S[R])}},{key:"binEncode_UTF_STRING",value:function(h,g){var S=new m.TextEncoder("utf-8").encode(g.value);h.writeUint8(g.type),h.writeUint16(S.length),h.writeUint8Array(S)}},{key:"binEncode_TEXT",value:function(h,g){var S=new m.TextEncoder("utf-8").encode(g.value);h.writeUint8(g.type),h.writeUint32(S.length),h.writeUint8Array(S)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(h,g){var S=g.value;h.writeUint8(g.type),h.writeUint16(S.length);for(var R=0;R<S.length;R++){var N=new m.TextEncoder("utf-8").encode(S[R]);h.writeUint16(N.byteLength),h.writeUint8Array(N)}}},{key:"binary2object",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSObject(new v.default(h,0,v.default.BIG_ENDIAN))}},{key:"binary2array",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSArray(new v.default(h,0,v.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(h){var g=new _.SFSObject,S=h.readUint8();if(S!==_.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+_.SFSDataType.SFS_OBJECT+", found: "+S;var R=h.readUint16();if(R<0)throw"Can't decode SFSObject. Size is negative: "+R;try{for(var N=0;N<R;N++){var k=h.readUint16();if(k<0||k>255)throw"Invalid SFSObject key length. Found: "+k;var H=h.readUint8Array(k),L=String.fromCharCode.apply(String,H),U=this.decodeObject(h);if(null==U)throw"Could not decode value for key: "+L;g.put(L,U.value,U.type,!0)}}catch(G){throw G}return g}},{key:"decodeSFSArray",value:function(h){var g=new _.SFSArray,S=h.readUint8();if(S!==_.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+_.SFSDataType.SFS_ARRAY+", found: "+S;var R=h.readInt16();if(R<0)throw"Can't decode SFSArray. Size is negative: "+R;try{for(var N=0;N<R;N++){var k=this.decodeObject(h);if(null==k)throw"Could not decode value for index: "+N;g.add(k.value,k.type,!0)}}catch(H){throw H}return g}},{key:"decodeObject",value:function(h){var g=null,S=h.readUint8();if(S===_.SFSDataType.NULL)g=this.binDecode_NULL(h);else if(S===_.SFSDataType.BOOL)g=this.binDecode_BOOL(h);else if(S===_.SFSDataType.BOOL_ARRAY)g=this.binDecode_BOOL_ARRAY(h);else if(S===_.SFSDataType.BYTE)g=this.binDecode_BYTE(h);else if(S===_.SFSDataType.BYTE_ARRAY)g=this.binDecode_BYTE_ARRAY(h);else if(S===_.SFSDataType.SHORT)g=this.binDecode_SHORT(h);else if(S===_.SFSDataType.SHORT_ARRAY)g=this.binDecode_SHORT_ARRAY(h);else if(S===_.SFSDataType.INT)g=this.binDecode_INT(h);else if(S===_.SFSDataType.INT_ARRAY)g=this.binDecode_INT_ARRAY(h);else if(S===_.SFSDataType.LONG)g=this.binDecode_LONG(h);else if(S===_.SFSDataType.LONG_ARRAY)g=this.binDecode_LONG_ARRAY(h);else if(S===_.SFSDataType.FLOAT)g=this.binDecode_FLOAT(h);else if(S===_.SFSDataType.FLOAT_ARRAY)g=this.binDecode_FLOAT_ARRAY(h);else if(S===_.SFSDataType.DOUBLE)g=this.binDecode_DOUBLE(h);else if(S===_.SFSDataType.DOUBLE_ARRAY)g=this.binDecode_DOUBLE_ARRAY(h);else if(S===_.SFSDataType.UTF_STRING)g=this.binDecode_UTF_STRING(h);else if(S===_.SFSDataType.TEXT)g=this.binDecode_TEXT(h);else if(S===_.SFSDataType.UTF_STRING_ARRAY)g=this.binDecode_UTF_STRING_ARRAY(h);else if(S===_.SFSDataType.SFS_ARRAY){h.seek(h.position-1);var R=this.decodeSFSArray(h);g=new _.SFSDataWrapper(S,R)}else{if(S!==_.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+S;h.seek(h.position-1);var N=this.decodeSFSObject(h);g=new _.SFSDataWrapper(S,N)}return g}},{key:"binDecode_NULL",value:function(h){return new _.SFSDataWrapper(_.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(h){var g=h.readUint8(),S=null;if(0===g)S=!1;else{if(1!==g)throw"Error decoding Bool type. Illegal value: "+g;S=!0}return new _.SFSDataWrapper(_.SFSDataType.BOOL,S)}},{key:"binDecode_BOOL_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++){var N=h.readUint8(),k=null;if(0===N)k=!1;else{if(1!==N)throw"Error decoding Bool type. Illegal value: "+N;k=!0}S.push(k)}return new _.SFSDataWrapper(_.SFSDataType.BOOL_ARRAY,S)}},{key:"binDecode_BYTE",value:function(h){var g=h.readUint8();return new _.SFSDataWrapper(_.SFSDataType.BYTE,g)}},{key:"binDecode_BYTE_ARRAY",value:function(h){var g=h.readInt32();if(g<0)throw"Error decoding typed array size. Negative size: "+g;for(var S=new Uint8Array(g),R=0;R<g;R++)S[R]=h.readUint8();return new _.SFSDataWrapper(_.SFSDataType.BYTE_ARRAY,S)}},{key:"binDecode_SHORT",value:function(h){var g=h.readInt16();return new _.SFSDataWrapper(_.SFSDataType.SHORT,g)}},{key:"binDecode_SHORT_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++)S.push(h.readInt16());return new _.SFSDataWrapper(_.SFSDataType.SHORT_ARRAY,S)}},{key:"binDecode_INT",value:function(h){var g=h.readInt32();return new _.SFSDataWrapper(_.SFSDataType.INT,g)}},{key:"binDecode_INT_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++)S.push(h.readInt32());return new _.SFSDataWrapper(_.SFSDataType.INT_ARRAY,S)}},{key:"binDecode_LONG",value:function(h){var g=h.readInt32(),S=h.readUint32(),R=g*Math.pow(2,32)+S;return new _.SFSDataWrapper(_.SFSDataType.LONG,R)}},{key:"binDecode_LONG_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++){var N=h.readInt32(),k=h.readUint32(),H=N*Math.pow(2,32)+k;S.push(H)}return new _.SFSDataWrapper(_.SFSDataType.LONG_ARRAY,S)}},{key:"binDecode_FLOAT",value:function(h){var g=h.readFloat32();return new _.SFSDataWrapper(_.SFSDataType.FLOAT,g)}},{key:"binDecode_FLOAT_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++)S.push(h.readFloat32());return new _.SFSDataWrapper(_.SFSDataType.FLOAT_ARRAY,S)}},{key:"binDecode_DOUBLE",value:function(h){var g=h.readFloat64();return new _.SFSDataWrapper(_.SFSDataType.DOUBLE,g)}},{key:"binDecode_DOUBLE_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++)S.push(h.readFloat64());return new _.SFSDataWrapper(_.SFSDataType.DOUBLE_ARRAY,S)}},{key:"binDecode_UTF_STRING",value:function(h){var g=h.readInt16();if(g<0)throw"Error decoding UTF_STRING. Negative size: "+g;var S=h.readUint8Array(g),R=new m.TextDecoder("utf-8").decode(S);return new _.SFSDataWrapper(_.SFSDataType.UTF_STRING,R)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(h){for(var g=this.getTypedArraySize(h),S=[],R=0;R<g;R++){var N=h.readInt16();if(N<0)throw"Error decoding UTF_STRING. Negative size: "+N;var k=h.readUint8Array(N),H=new m.TextDecoder("utf-8").decode(k);S.push(H)}return new _.SFSDataWrapper(_.SFSDataType.UTF_STRING_ARRAY,S)}},{key:"binDecode_TEXT",value:function(h){var g=h.readInt32();if(g<0)throw"Error decoding TEXT. Negative size: "+g;var S=h.readUint8Array(g),R=new m.TextDecoder("utf-8").decode(S);return new _.SFSDataWrapper(_.SFSDataType.TEXT,R)}},{key:"getTypedArraySize",value:function(h){var g=h.readUint16();if(g<0)throw"Error decoding typed array size. Negative size: "+g;return g}}],[{key:"instance",get:function(){return this[p]||(this[p]=new C(f)),Object.seal(this[p])}}]),C}();P.SFSDataSerializer=b},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SystemController=void 0;var O=function(){function Ne(ne,ce){for(var fe=0;fe<ce.length;fe++){var Ie=ce[fe];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(ne,Ie.key,Ie)}}return function(ne,ce,fe){return ce&&Ne(ne.prototype,ce),fe&&Ne(ne,fe),ne}}(),E=d(2),T=d(39),v=d(74),m=d(8),_=d(9),p=d(47),f=d(171),b=d(58),C=d(72),h=d(59),g=d(49),S=d(73),R=d(46),N=d(51),k=d(118),H=d(117),L=d(116),U=d(57),G=d(115),X=d(114),te=d(113),z=d(70),le=d(112),K=d(111),he=d(110),Te=d(109),be=d(108),Le=d(107),Y=d(106),oe=d(105),J=d(69),me=d(170),ie=d(104),se=d(103),ue=d(102),Re=d(101),Xe=d(100),De=d(99),Et=d(98),$e=function(){function Ne(ne){(function(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,Ne),this._sfs=ne,this._logger=ne.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return O(Ne,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),O(Ne,[{key:"handleMessage",value:function(ne,ce){var fe=this._messageHandlers.get(ce);null!=fe?(this._sfs.debug&&this._logger.info("Handling server event: "+fe.name+" ("+ce+")"),fe.handler.call(this,ne)):this._logger.warn("Unknown server event received; id: "+ce)}},{key:"_initMessageHandlers",value:function(){this._setHandler(E.Requests.Handshake,this._fnHandshake),this._setHandler(E.Requests.Login,this._fnLogin),this._setHandler(E.Requests.Logout,this._fnLogout),this._setHandler(E.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(E.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(E.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(E.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(E.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(E.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(E.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(E.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(E.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(E.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(E.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(E.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(E.Requests.FindRooms,this._fnFindRooms),this._setHandler(E.Requests.FindUsers,this._fnFindUsers),this._setHandler(E.Requests.PingPong,this._fnPingPong),this._setHandler(E.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(E.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(E.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(E.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(E.Requests.GoOnline,this._fnGoOnline),this._setHandler(E.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(E.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(E.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(E.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(E.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(ne,ce){var fe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==fe&&(fe=E.Requests.getNameFromId(ne)),this._messageHandlers.set(ne,{name:fe,handler:ce})}},{key:"_fnHandshake",value:function(ne){this._sfs._handleHandShake(ne)}},{key:"_fnLogin",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){this._populateRoomList(ne.get(k.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new p.SFSUser(ne.get(k.LoginRequest.KEY_ID),ne.get(k.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ne.get(k.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var ce={};ce.zone=ne.get(k.LoginRequest.KEY_ZONE_NAME),ce.user=this._sfs.mySelf,ce.data=ne.get(k.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.LOGIN,ce)}else this._dispatchError(T.SFSEvent.LOGIN_ERROR,ne)}},{key:"_fnLogout",value:function(ne){this._sfs._handleLogout();var ce={};ce.zone=ne.get(H.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(T.SFSEvent.LOGOUT,ce)}},{key:"_fnJoinRoom",value:function(ne){if(this._sfs._isJoining=!1,null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(L.JoinRoomRequest.KEY_ROOM),fe=ne.get(L.JoinRoomRequest.KEY_USER_LIST),Ie=this._sfs.roomManager,je=_.SFSRoom.fromSFSArray(ce);je=Ie._replaceRoom(je,Ie.containsGroup(je.groupId));for(var Je=0;Je<fe.size();Je++){var Ce=fe.get(Je),Ue=this._getOrCreateUser(Ce,!0,je);je._addUser(Ue)}je._isJoined=!0,this._sfs._lastJoinedRoom=je;var Ht={};Ht.room=je,this._sfs.dispatchEvent(T.SFSEvent.ROOM_JOIN,Ht)}else this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,ne)}},{key:"_fnCreateRoom",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=_.SFSRoom.fromSFSArray(ne.get(U.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(ce);var fe={};fe.room=ce,this._sfs.dispatchEvent(T.SFSEvent.ROOM_ADD,fe)}else this._dispatchError(T.SFSEvent.ROOM_CREATION_ERROR,ne)}},{key:"_fnChangeRoomName",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(G.ChangeRoomNameRequest.KEY_ROOM),fe=this._sfs.roomManager.getRoomById(ce);if(null!=fe){var Ie=fe.name;this._sfs.roomManager._changeRoomName(fe,ne.get(G.ChangeRoomNameRequest.KEY_NAME));var je={};je.oldName=Ie,je.room=fe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_NAME_CHANGE,je)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+ce)}else this._dispatchError(T.SFSEvent.ROOM_NAME_CHANGE_ERROR,ne)}},{key:"_fnChangeRoomPassword",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(X.ChangeRoomPasswordStateRequest.KEY_ROOM),fe=this._sfs.roomManager.getRoomById(ce);if(null!=fe){this._sfs.roomManager._changeRoomPasswordState(fe,ne.get(X.ChangeRoomPasswordStateRequest.KEY_PASS));var Ie={};Ie.room=fe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,Ie)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+ce)}else this._dispatchError(T.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,ne)}},{key:"_fnChangeRoomCapacity",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(te.ChangeRoomCapacityRequest.KEY_ROOM),fe=this._sfs.roomManager.getRoomById(ce);if(null!=fe){this._sfs.roomManager._changeRoomCapacity(fe,ne.get(te.ChangeRoomCapacityRequest.KEY_USER_SIZE),ne.get(te.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var Ie={};Ie.room=fe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_CAPACITY_CHANGE,Ie)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+ce)}else this._dispatchError(T.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,ne)}},{key:"_fnGenericMessage",value:function(ne){switch(ne.get(z.GenericMessageRequest.KEY_MESSAGE_TYPE)){case z.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(ne);break;case z.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(ne);break;case z.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(ne);break;case z.GenericMessageType.MODERATOR_MSG:this._handleModMessage(ne);break;case z.GenericMessageType.ADMING_MSG:this._handleAdminMessage(ne);break;case z.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(ne)}}},{key:"_handlePublicMessage",value:function(ne){var ce=ne.get(z.GenericMessageRequest.KEY_ROOM_ID),fe=this._sfs.roomManager.getRoomById(ce);if(null!=fe){var Ie={};Ie.room=fe,Ie.sender=this._sfs.userManager.getUserById(ne.get(z.GenericMessageRequest.KEY_USER_ID)),Ie.message=ne.get(z.GenericMessageRequest.KEY_MESSAGE),Ie.data=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PUBLIC_MESSAGE,Ie)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+ce)}},{key:"_handlePrivateMessage",value:function(ne){var ce=ne.get(z.GenericMessageRequest.KEY_USER_ID),fe=this._sfs.userManager.getUserById(ce);if(null==fe){if(null==ne.get(z.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");fe=p.SFSUser.fromSFSArray(ne.get(z.GenericMessageRequest.KEY_SENDER_DATA))}var Ie={};Ie.sender=fe,Ie.message=ne.get(z.GenericMessageRequest.KEY_MESSAGE),Ie.data=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.PRIVATE_MESSAGE,Ie)}},{key:"_handleBuddyMessage",value:function(ne){var ce=ne.get(z.GenericMessageRequest.KEY_USER_ID),fe=this._sfs.buddyManager.getBuddyById(ce),Ie={};Ie.isItMe=this._sfs.mySelf.id===ce,Ie.buddy=fe,Ie.message=ne.get(z.GenericMessageRequest.KEY_MESSAGE),Ie.data=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_MESSAGE,Ie)}},{key:"_handleObjectMessage",value:function(ne){var ce={};ce.sender=this._sfs.userManager.getUserById(ne.get(z.GenericMessageRequest.KEY_USER_ID)),ce.message=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.OBJECT_MESSAGE,ce)}},{key:"_handleModMessage",value:function(ne){var ce={};ce.sender=p.SFSUser.fromSFSArray(ne.get(z.GenericMessageRequest.KEY_SENDER_DATA)),ce.message=ne.get(z.GenericMessageRequest.KEY_MESSAGE),ce.data=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.MODERATOR_MESSAGE,ce)}},{key:"_handleAdminMessage",value:function(ne){var ce={};ce.sender=p.SFSUser.fromSFSArray(ne.get(z.GenericMessageRequest.KEY_SENDER_DATA)),ce.message=ne.get(z.GenericMessageRequest.KEY_MESSAGE),ce.data=ne.get(z.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(T.SFSEvent.ADMIN_MESSAGE,ce)}},{key:"_fnSetRoomVariables",value:function(ne){var ce=ne.get(le.SetRoomVariablesRequest.KEY_VAR_ROOM),fe=ne.get(le.SetRoomVariablesRequest.KEY_VAR_LIST),Ie=this._sfs.roomManager.getRoomById(ce),je=new Set;if(null!=Ie){for(var Je=0;Je<fe.size();Je++){var Ce=g.SFSRoomVariable.fromSFSArray(fe.get(Je));Ie._setVariable(Ce),je.add(Ce.name)}var Ue={};Ue.changedVars=Array.from(je),Ue.room=Ie,this._sfs.dispatchEvent(T.SFSEvent.ROOM_VARIABLES_UPDATE,Ue)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+ce)}},{key:"_fnSetUserVariables",value:function(ne){var ce=ne.get(K.SetUserVariablesRequest.KEY_USER),fe=ne.get(K.SetUserVariablesRequest.KEY_VAR_LIST),Ie=this._sfs.userManager.getUserById(ce),je=new Set;if(null!=Ie){for(var Je=0;Je<fe.size();Je++){var Ce=h.SFSUserVariable.fromSFSArray(fe.get(Je));Ie._setVariable(Ce),je.add(Ce.name)}var Ue={};Ue.changedVars=Array.from(je),Ue.user=Ie,this._sfs.dispatchEvent(T.SFSEvent.USER_VARIABLES_UPDATE,Ue)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+ce)}},{key:"_fnSubscribeRoomGroup",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(he.SubscribeRoomGroupRequest.KEY_GROUP_ID),fe=ne.get(he.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(ce)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+ce),this._sfs.roomManager._addGroup(ce),this._populateRoomList(fe);var Ie={};Ie.groupId=ce,Ie.newRooms=this._sfs.roomManager.getRoomListFromGroup(ce),this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_SUBSCRIBE,Ie)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,ne)}},{key:"_fnUnsubscribeRoomGroup",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(Te.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(ce)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+ce+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(ce);var fe={};fe.groupId=ce,this._sfs.dispatchEvent(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,fe)}else this._dispatchError(T.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,ne)}},{key:"_fnSpectatorToPlayer",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(be.SpectatorToPlayerRequest.KEY_ROOM_ID),fe=ne.get(be.SpectatorToPlayerRequest.KEY_USER_ID),Ie=ne.get(be.SpectatorToPlayerRequest.KEY_PLAYER_ID),je=this._sfs.userManager.getUserById(fe),Je=this._sfs.roomManager.getRoomById(ce);if(null!=Je)if(null!=je)if(je.isJoinedInRoom(Je)){je._setPlayerId(Ie,Je);var Ce={};Ce.room=Je,Ce.user=je,Ce.playerId=Ie,this._sfs.dispatchEvent(T.SFSEvent.SPECTATOR_TO_PLAYER,Ce)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+je+" not in Room "+Je);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+fe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+ce)}else this._dispatchError(T.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,ne)}},{key:"_fnPlayerToSpectator",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(Le.PlayerToSpectatorRequest.KEY_ROOM_ID),fe=ne.get(Le.PlayerToSpectatorRequest.KEY_USER_ID),Ie=this._sfs.userManager.getUserById(fe),je=this._sfs.roomManager.getRoomById(ce);if(null!=je)if(null!=Ie)if(Ie.isJoinedInRoom(je)){Ie._setPlayerId(-1,je);var Je={};Je.room=je,Je.user=Ie,this._sfs.dispatchEvent(T.SFSEvent.PLAYER_TO_SPECTATOR,Je)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+Ie+" not in Room "+je);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+fe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+ce)}else this._dispatchError(T.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,ne)}},{key:"_fnPingPong",value:function(ne){var ce={};ce.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(T.SFSEvent.PING_PONG,ce)}},{key:"_fnFindRooms",value:function(ne){for(var ce=ne.get(Y.FindRoomsRequest.KEY_FILTERED_ROOMS),fe=[],Ie=0;Ie<ce.size();Ie++){var je=ce.get(Ie),Je=_.SFSRoom.fromSFSArray(je),Ce=this._sfs.roomManager.getRoomById(Je.id);null!=Ce&&(Je._isJoined=Ce._isJoined),fe.push(Je)}var Ue={};Ue.rooms=fe,this._sfs.dispatchEvent(T.SFSEvent.ROOM_FIND_RESULT,Ue)}},{key:"_fnFindUsers",value:function(ne){for(var ce=ne.get(oe.FindUsersRequest.KEY_FILTERED_USERS),fe=[],Ie=this._sfs.mySelf,je=0;je<ce.size();je++){var Je=ce.get(je),Ce=p.SFSUser.fromSFSArray(Je);Ce.id===Ie.id&&(Ce=Ie),fe.push(Ce)}var Ue={};Ue.users=fe,this._sfs.dispatchEvent(T.SFSEvent.USER_FIND_RESULT,Ue)}},{key:"_fnQuickJoinGame",value:function(ne){null!=ne.get(Ne.KEY_ERROR_CODE)&&this._dispatchError(T.SFSEvent.ROOM_JOIN_ERROR,ne)}},{key:"_fnInviteUsers",value:function(ne){var ce;ce=null!=ne.get(J.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ne.get(J.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ne.get(J.InviteUsersRequest.KEY_USER));var fe=ne.get(J.InviteUsersRequest.KEY_TIME),Ie=ne.get(J.InviteUsersRequest.KEY_INVITATION_ID),je=ne.get(J.InviteUsersRequest.KEY_PARAMS),Je=new C.SFSInvitation(ce,this._sfs.mySelf,fe,je);Je._id=Ie;var Ce={};Ce.invitation=Je,this._sfs.dispatchEvent(T.SFSEvent.INVITATION,Ce)}},{key:"_fnInvitationReply",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce;ce=null!=ne.get(J.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ne.get(J.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ne.get(J.InviteUsersRequest.KEY_USER));var fe=ne.get(J.InviteUsersRequest.KEY_REPLY_ID),Ie=ne.get(J.InviteUsersRequest.KEY_PARAMS),je={};je.invitee=ce,je.reply=fe,je.data=Ie,this._sfs.dispatchEvent(T.SFSEvent.INVITATION_REPLY,je)}else this._dispatchError(T.SFSEvent.INVITATION_REPLY_ERROR,ne)}},{key:"_fnSetUserPosition",value:function(ne){var ce=ne.get(ie.SetUserPositionRequest.KEY_ROOM),fe=this._sfs.roomManager.getRoomById(ce),Ie=ne.get(ie.SetUserPositionRequest.KEY_MINUS_USER_LIST),je=ne.get(ie.SetUserPositionRequest.KEY_PLUS_USER_LIST),Je=ne.get(ie.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),Ce=ne.get(ie.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),Ue=[],Ht=[],Dt=[],$t=[];if(null!=Ie){var Hn=!0,Qe=!1,at=void 0;try{for(var _e,de=Ie[Symbol.iterator]();!(Hn=(_e=de.next()).done);Hn=!0){var Me=fe.getUserById(_e.value);null!=Me&&(fe._removeUser(Me),Ht.push(Me))}}catch(Xt){Qe=!0,at=Xt}finally{try{!Hn&&de.return&&de.return()}finally{if(Qe)throw at}}}if(null!=je)for(var ye=0;ye<je.size();ye++){var Ae=je.get(ye),nt=this._getOrCreateUser(Ae,!0,fe);Ue.push(nt),fe._addUser(nt);var ct=Ae.get(5);null!=ct&&(nt._aoiEntryPoint=m.Vec3D.fromArray(ct))}if(null!=Je){var ft=!0,sn=!1,On=void 0;try{for(var Yn,Nt=Je[Symbol.iterator]();!(ft=(Yn=Nt.next()).done);ft=!0){var Jt=fe.getMMOItem(Yn.value);null!=Jt&&(fe._removeItem(Jt.id),$t.push(Jt))}}catch(Xt){sn=!0,On=Xt}finally{try{!ft&&Nt.return&&Nt.return()}finally{if(sn)throw On}}}if(null!=Ce)for(var Ft=0;Ft<Ce.size();Ft++){var En=Ce.get(Ft),ei=f.MMOItem.fromSFSArray(En);Dt.push(ei),fe._addMMOItem(ei);var ti=En.get(2);null!=ti&&(ei._aoiEntryPoint=m.Vec3D.fromArray(ti))}var xn={};xn.addedItems=Dt,xn.removedItems=$t,xn.removedUsers=Ht,xn.addedUsers=Ue,xn.room=fe,this._sfs.dispatchEvent(T.SFSEvent.PROXIMITY_LIST_UPDATE,xn)}},{key:"_fnInitBuddyList",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(se.InitBuddyListRequest.KEY_BLIST),fe=ne.get(se.InitBuddyListRequest.KEY_MY_VARS),Ie=ne.get(se.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var je=0;je<ce.size();je++){var Je=b.SFSBuddy.fromSFSArray(ce.get(je));this._sfs.buddyManager._addBuddy(Je)}null!=Ie&&this._sfs.buddyManager._setBuddyStates(Ie);for(var Ce=[],Ue=0;Ue<fe.size();Ue++){var Ht=R.SFSBuddyVariable.fromSFSArray(fe.get(Ue));Ce.push(Ht)}this._sfs.buddyManager._setMyVariables(Ce),this._sfs.buddyManager._setInited();var Dt={};Dt.buddyList=this._sfs.buddyManager.getBuddyList(),Dt.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_LIST_INIT,Dt)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnAddBuddy",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=b.SFSBuddy.fromSFSArray(ne.get(ue.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(ce);var fe={};fe.buddy=ce,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ADD,fe)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnRemoveBuddy",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(Re.RemoveBuddyRequest.KEY_BUDDY_NAME),fe=this._sfs.buddyManager._removeBuddyByName(ce);if(null!=fe){var Ie={};Ie.buddy=fe,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_REMOVE,Ie)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+ce+" in local buddy list")}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnBlockBuddy",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(Xe.BlockBuddyRequest.KEY_BUDDY_NAME),fe=this._sfs.buddyManager.getBuddyByName(ce);null!=ne.get(Xe.BlockBuddyRequest.KEY_BUDDY)?(fe=b.SFSBuddy.fromSFSArray(ne.get(Xe.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(fe)):null!=fe?fe._isBlocked=ne.get(Xe.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+ce+" in local buddy list");var Ie={};Ie.buddy=fe,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_BLOCK,Ie)}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnGoOnline",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){var ce=ne.get(De.GoOnlineRequest.KEY_BUDDY_NAME),fe=this._sfs.buddyManager.getBuddyByName(ce),Ie=ce===this._sfs.mySelf.name,je=ne.get(De.GoOnlineRequest.KEY_ONLINE),Je=je===b.BuddyOnlineState.ONLINE,Ce=!0;if(Ie)this._sfs.buddyManager.getMyOnlineState()!=Je&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+Je),this._sfs.buddyManager._setMyOnlineState(Je));else{if(null==fe)return void this._logger.warn("Unexpected GoOnline event error; can't find "+ce+" in local buddy list");fe._id=ne.get(De.GoOnlineRequest.KEY_BUDDY_ID),fe._setVariable(new R.SFSBuddyVariable(R.ReservedBuddyVariables.BV_ONLINE,Je)),je===b.BuddyOnlineState.LEFT_THE_SERVER&&fe._clearVolatileVariables(),Ce=this._sfs.buddyManager.getMyOnlineState()}if(Ce){var Ue={};Ue.buddy=fe,Ue.isItMe=Ie,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,Ue)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnSetBuddyVariables",value:function(ne){if(null==ne.get(Ne.KEY_ERROR_CODE)){for(var ce=ne.get(Et.SetBuddyVariablesRequest.KEY_BUDDY_NAME),fe=ne.get(Et.SetBuddyVariablesRequest.KEY_BUDDY_VARS),Ie=this._sfs.buddyManager.getBuddyByName(ce),je=ce===this._sfs.mySelf.name,Je=[],Ce=[],Ue=!0,Ht=0;Ht<fe.size();Ht++){var Dt=R.SFSBuddyVariable.fromSFSArray(fe.get(Ht));Ce.push(Dt),Je.push(Dt.name)}if(je)this._sfs.buddyManager._setMyVariables(Ce);else{if(null==Ie)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+ce+" in local buddy list");Ie._setVariables(Ce),Ue=this._sfs.buddyManager.getMyOnlineState()}if(Ue){var $t={};$t.buddy=Ie,$t.isItMe=je,$t.changedVars=Je,this._sfs.dispatchEvent(T.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,$t)}}else this._dispatchError(T.SFSBuddyEvent.BUDDY_ERROR,ne)}},{key:"_fnUserEnterRoom",value:function(ne){var ce=this._sfs.roomManager.getRoomById(ne.get(Ne.ROOM_PARAM));if(null!=ce){var fe=ne.get(Ne.USER_PARAM),Ie=this._getOrCreateUser(fe,!0,ce);ce._addUser(Ie);var je={};je.user=Ie,je.room=ce,this._sfs.dispatchEvent(T.SFSEvent.USER_ENTER_ROOM,je)}}},{key:"_fnUserCountChange",value:function(ne){var ce=this._sfs.roomManager.getRoomById(ne.get(Ne.ROOM_PARAM));if(null!=ce){var fe=ne.get(Ne.USER_COUNT_PARAM),Ie=null!=ne.get(Ne.SPECT_COUNT_PARAM)?ne.get(Ne.SPECT_COUNT_PARAM):0;ce._userCount=fe,ce._specCount=Ie;var je={};je.room=ce,je.uCount=fe,je.sCount=Ie,this._sfs.dispatchEvent(T.SFSEvent.USER_COUNT_CHANGE,je)}}},{key:"_fnUserLost",value:function(ne){var ce=this._sfs.userManager.getUserById(ne.get(Ne.USER_PARAM));if(null!=ce){var fe=this._sfs.roomManager.getUserRooms(ce);this._sfs.roomManager._removeUser(ce),this._sfs.userManager._removeUserReference(ce,!0);var Ie=!0,je=!1,Je=void 0;try{for(var Ce,Ue=fe[Symbol.iterator]();!(Ie=(Ce=Ue.next()).done);Ie=!0){var Ht=Ce.value,Dt={};Dt.user=ce,Dt.room=Ht,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,Dt)}}catch($t){je=!0,Je=$t}finally{try{!Ie&&Ue.return&&Ue.return()}finally{if(je)throw Je}}}}},{key:"_fnRoomLost",value:function(ne){var ce=this._sfs.roomManager.getRoomById(ne.get(Ne.ROOM_PARAM));if(null!=ce){this._sfs.roomManager._removeRoom(ce);var fe=!0,Ie=!1,je=void 0;try{for(var Je,Ce=ce.getUserList()[Symbol.iterator]();!(fe=(Je=Ce.next()).done);fe=!0)this._sfs.userManager._removeUser(Je.value)}catch(Dt){Ie=!0,je=Dt}finally{try{!fe&&Ce.return&&Ce.return()}finally{if(Ie)throw je}}var Ht={};Ht.room=ce,this._sfs.dispatchEvent(T.SFSEvent.ROOM_REMOVE,Ht)}}},{key:"_fnUserExitRoom",value:function(ne){var ce=this._sfs.roomManager.getRoomById(ne.get(Ne.ROOM_PARAM)),fe=this._sfs.userManager.getUserById(ne.get(Ne.USER_PARAM));if(null!=ce&&null!=fe){ce._removeUser(fe),this._sfs.userManager._removeUser(fe),fe.isItMe&&ce.isJoined&&(ce._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==ce||(this._sfs._lastJoinedRoom=null),ce._isManaged||this._sfs.roomManager._removeRoom(ce));var Ie={};Ie.user=fe,Ie.room=ce,this._sfs.dispatchEvent(T.SFSEvent.USER_EXIT_ROOM,Ie)}else this._logger.debug("Failed to handle UserExit event; Room: "+ce+", User: "+fe)}},{key:"_fnClientDisconnection",value:function(ne){var ce=ne.get(Ne.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(N.ClientDisconnectionReason.getReason(ce))}},{key:"_fnSetMMOItemVariables",value:function(ne){var ce=ne.get(me.SetMMOItemVariables.KEY_ROOM_ID),fe=ne.get(me.SetMMOItemVariables.KEY_ITEM_ID),Ie=ne.get(me.SetMMOItemVariables.KEY_VAR_LIST),je=this._sfs.roomManager.getRoomById(ce),Je=new Set;if(null!=je){var Ce=je.getMMOItem(fe);if(null!=Ce){for(var Ue=0;Ue<Ie.size();Ue++){var Ht=S.MMOItemVariable.fromSFSArray(Ie.get(Ue));Ce._setVariable(Ht),Je.add(Ht.name)}var Dt={};Dt.changedVars=Array.from(Je),Dt.mmoItem=Ce,Dt.room=je,this._sfs.dispatchEvent(T.SFSEvent.MMOITEM_VARIABLES_UPDATE,Dt)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+fe)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+ce)}},{key:"_dispatchError",value:function(ne,ce){var fe={};fe.errorCode=ce.get(Ne.KEY_ERROR_CODE),fe.errorMessage=v.SFSErrorCodes.getErrorMessage(fe.errorCode,ce.get(Ne.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ne,fe)}},{key:"_populateRoomList",value:function(ne){for(var ce=0;ce<ne.size();ce++){var fe=_.SFSRoom.fromSFSArray(ne.get(ce));this._sfs.roomManager._replaceRoom(fe)}}},{key:"_getOrCreateUser",value:function(ne,ce,fe){var Ie=ne.get(0),je=this._sfs.userManager.getUserById(Ie);if(null==je)(je=p.SFSUser.fromSFSArray(ne,fe))._setUserManager(this._sfs.userManager);else{je._setPlayerId(ne.get(3),fe);var Je=ne.get(4);if(null!=Je)for(var Ce=0;Ce<Je.size();Ce++)je._setVariable(h.SFSUserVariable.fromSFSArray(Je.get(Ce)))}return ce&&this._sfs.userManager._addUser(je),je}},{key:"id",get:function(){return this._id}}]),Ne}();P.SystemController=$e},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.SmartFox=void 0;var O=function(){function H(L,U){for(var G=0;G<U.length;G++){var X=U[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(L,X.key,X)}}return function(L,U,G){return U&&H(L.prototype,U),G&&H(L,G),L}}(),E=d(175),T=d(169),v=d(39),m=d(1),_=d(168),p=d(119),f=d(166),b=d(165),C=d(2),h=d(164),g=d(74),S=d(50),R=d(163),N=d(51),k=function(H){function L(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(X,te){if(!(X instanceof te))throw new TypeError("Cannot call a class as a function")}(this,L);var G=function(X,te){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!te||"object"!=typeof te&&"function"!=typeof te?X:te}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this));return G._majVersion=1,G._minVersion=7,G._subVersion=19,G._configData=U,G._logger=S.Logger.instance,G._sessionToken=null,G._socketEngine=new _.SocketEngine(G),G._socketEngine.addEventListener(_.SocketEvent.CONNECT,G._onSocketConnect,G),G._socketEngine.addEventListener(_.SocketEvent.DISCONNECT,G._onSocketDisconnect,G),G._socketEngine.addEventListener(_.SocketEvent.DATA,G._onSocketData,G),G._socketEngine.addEventListener(_.SocketEvent.IOERROR,G._onSocketIOError,G),G._controllers={},G._controllers[0]=new E.SystemController(G),G._controllers[1]=new T.ExtensionController(G),G._reset(),G._clientDetails="JavaScript",G.debug=null!=G.config&&G.config.debug,G.debug&&(G._logger.info("SmartFox instance ready"),G._logger.info("SFS2X JavaScript API v"+G.version)),Object.seal(G),G}return function(U,G){if("function"!=typeof G&&null!==G)throw new TypeError("Super expression must either be null or a function, not "+typeof G);U.prototype=Object.create(G&&G.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(U,G):U.__proto__=G)}(L,v.EventDispatcher),O(L,[{key:"setClientDetails",value:function(U,G){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(U=null!=U?U.replace(":"," "):"",G=null!=G?G.replace(":"," "):"",this._clientDetails=U+":"+G)}},{key:"connect",value:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var te=null!=this.config&&null!=this.config.host?this.config.host:null,z=null!=this.config&&null!=this.config.port?this.config.port:null,le=null!=this.config&&this.config.useSSL;null!=U&&(te=U),G>-1&&(z=G),null!=X&&(le=X),null!=te&&"string"==typeof te&&0!==te.length?"number"!=typeof z||z<0||z>65535?this._logger.error("Invalid TCP connection port: "+z):("boolean"!=typeof le&&(le=!1),this._socketEngine.connect(te,z,le)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(N.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(U){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,X=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),U&&(this._lagMonitor=new R.LagMonitor(this,G,X),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(U){if(this.isConnected){if(null!=U.validate&&null!=U.execute){this.debug&&this._logger.info("Sending request '"+C.Requests.getNameFromId(U.id)+"' to server");try{U.validate(this),U.execute(this)}catch(te){if(!(te instanceof m.SFSValidationError&&null!=te.message))throw te;var G=te.message;if(null!=te.errors){G+=":";for(var X=0;X<te.errors.length;X++)te.errors.length>1&&(G+=" "+(X+1)+")"),G+=" "+te.errors[X]}return this._logger.error("Request failed | "+G),!1}return this._socketEngine.send(U.getMessage()),!0}this._logger.error("An invalid request was passed: "+U)}else this._logger.error("You are not connected. Request cannot be sent: "+C.Requests.getNameFromId(U.id))}},{key:"getRoomById",value:function(U){return this.roomManager.getRoomById(U)}},{key:"getRoomByName",value:function(U){return this.roomManager.getRoomByName(U)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(U){return this.roomManager.getRoomListFromGroup(U)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var U=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new p.GlobalUserManager(this),this._roomManager=new f.SFSRoomManager(this),this._buddyManager=new b.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,U&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(U){U.success?this.send(new h.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(v.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(U){this.dispatchEvent(v.SFSEvent.CONNECTION_LOST,{reason:U.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(U){var G=U.targetController,X=U.id;null!=G?null!=X?this._controllers[G].handleMessage(U.content,X):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(U){this.dispatchEvent(v.SFSEvent.SOCKET_ERROR,{message:U})}},{key:"_handleHandShake",value:function(U){var G=U.get(C.BaseRequest.KEY_ERROR_CODE);if(null==G)this._sessionToken=U.get(h.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=U.get(h.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=U.get(h.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(v.SFSEvent.CONNECTION,{success:!0});else{var X={success:!1,errorMessage:g.SFSErrorCodes.getErrorMessage(G,U.get(C.BaseRequest.KEY_ERROR_PARAMS)),errorCode:G};this.dispatchEvent(v.SFSEvent.CONNECTION,X)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(U){this.isConnected&&this._socketEngine.disconnect(U)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),L}();P.SmartFox=k},function(B,P,d){var O=d(0),E=d(89);E&&O(O.S,"Reflect",{setPrototypeOf:function(T,v){E.check(T,v);try{return E.set(T,v),!0}catch(m){return!1}}})},function(B,P,d){var O=d(10),E=d(23),T=d(31),v=d(16),m=d(0),_=d(36),p=d(5),f=d(4);m(m.S,"Reflect",{set:function b(C,h,g){var S,R,N=arguments.length<4?C:arguments[3],k=E.f(p(C),h);if(!k){if(f(R=T(C)))return b(R,h,g,N);k=_(0)}return v(k,"value")?!(!1===k.writable||!f(N)||((S=E.f(N,h)||_(0)).value=g,O.f(N,h,S),0)):void 0!==k.set&&(k.set.call(N,g),!0)}})},function(B,P,d){var O=d(0),E=d(5),T=Object.preventExtensions;O(O.S,"Reflect",{preventExtensions:function(v){E(v);try{return T&&T(v),!0}catch(m){return!1}}})},function(B,P,d){var O=d(32),E=d(68),T=d(5),v=d(6).Reflect;B.exports=v&&v.ownKeys||function(m){var _=O.f(T(m)),p=E.f;return p?_.concat(p(m)):_}},function(B,P,d){var O=d(0);O(O.S,"Reflect",{ownKeys:d(180)})},function(B,P,d){var O=d(0),E=d(5),T=Object.isExtensible;O(O.S,"Reflect",{isExtensible:function(v){return E(v),!T||T(v)}})},function(B,P,d){var O=d(0);O(O.S,"Reflect",{has:function(E,T){return T in E}})},function(B,P,d){var O=d(0),E=d(31),T=d(5);O(O.S,"Reflect",{getPrototypeOf:function(v){return E(T(v))}})},function(B,P,d){var O=d(23),E=d(0),T=d(5);E(E.S,"Reflect",{getOwnPropertyDescriptor:function(v,m){return O.f(T(v),m)}})},function(B,P,d){var O=d(23),E=d(31),T=d(16),v=d(0),m=d(4),_=d(5);v(v.S,"Reflect",{get:function p(f,b){var C,h,g=arguments.length<3?f:arguments[2];return _(f)===g?f[b]:(C=O.f(f,b))?T(C,"value")?C.value:void 0!==C.get?C.get.call(g):void 0:m(h=E(f))?p(h,b,g):void 0}})},function(B,P,d){"use strict";var O=d(0),E=d(5),T=function(v){this._t=E(v),this._i=0;var m,_=this._k=[];for(m in v)_.push(m)};d(133)(T,"Object",function(){var v,m=this._k;do{if(this._i>=m.length)return{value:void 0,done:!0}}while(!((v=m[this._i++])in this._t));return{value:v,done:!1}}),O(O.S,"Reflect",{enumerate:function(v){return new T(v)}})},function(B,P,d){var O=d(0),E=d(23).f,T=d(5);O(O.S,"Reflect",{deleteProperty:function(v,m){var _=E(T(v),m);return!(_&&!_.configurable)&&delete v[m]}})},function(B,P,d){var O=d(10),E=d(0),T=d(5),v=d(30);E(E.S+E.F*d(3)(function(){Reflect.defineProperty(O.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(m,_,p){T(m),_=v(_,!0),T(p);try{return O.f(m,_,p),!0}catch(f){return!1}}})},function(B,P,d){var O=d(0),E=d(33),T=d(26),v=d(5),m=d(4),_=d(3),p=d(142),f=(d(6).Reflect||{}).construct,b=_(function(){function h(){}return!(f(function(){},[],h)instanceof h)}),C=!_(function(){f(function(){})});O(O.S+O.F*(b||C),"Reflect",{construct:function(h,g){T(h),v(g);var S=arguments.length<3?h:T(arguments[2]);if(C&&!b)return f(h,g,S);if(h==S){switch(g.length){case 0:return new h;case 1:return new h(g[0]);case 2:return new h(g[0],g[1]);case 3:return new h(g[0],g[1],g[2]);case 4:return new h(g[0],g[1],g[2],g[3])}var R=[null];return R.push.apply(R,g),new(p.apply(h,R))}var N=S.prototype,k=E(m(N)?N:Object.prototype),H=Function.apply.call(h,k,g);return m(H)?H:k}})},function(B,P,d){var O=d(0),E=d(26),T=d(5),v=(d(6).Reflect||{}).apply,m=Function.apply;O(O.S+O.F*!d(3)(function(){v(function(){})}),"Reflect",{apply:function(_,p,f){var b=E(_),C=T(f);return v?v(b,p,C):m.call(b,p,C)}})},function(B,P,d){d(22)("Float64",8,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Float32",4,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Uint32",4,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Int32",4,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Uint16",2,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Int16",2,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Uint8",1,function(O){return function(E,T,v){return O(this,E,T,v)}},!0)},function(B,P,d){d(22)("Uint8",1,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){d(22)("Int8",1,function(O){return function(E,T,v){return O(this,E,T,v)}})},function(B,P,d){var O=d(0);O(O.G+O.W+O.F*!d(60).ABV,{DataView:d(75).DataView})},function(B,P,d){"use strict";var O=d(0),E=d(60),T=d(75),v=d(5),m=d(34),_=d(12),p=d(4),f=d(6).ArrayBuffer,b=d(76),C=T.ArrayBuffer,h=T.DataView,g=E.ABV&&f.isView,S=C.prototype.slice,R=E.VIEW;O(O.G+O.W+O.F*(f!==C),{ArrayBuffer:C}),O(O.S+O.F*!E.CONSTR,"ArrayBuffer",{isView:function(N){return g&&g(N)||p(N)&&R in N}}),O(O.P+O.U+O.F*d(3)(function(){return!new C(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(N,k){if(void 0!==S&&void 0===k)return S.call(v(this),N);for(var H=v(this).byteLength,L=m(N,H),U=m(void 0===k?H:k,H),G=new(b(this,C))(_(U-L)),X=new h(this),te=new h(G),z=0;L<U;)te.setUint8(z++,X.getUint8(L++));return G}}),d(43)("ArrayBuffer")},function(B,P,d){"use strict";var O=d(122),E=d(40);d(61)("WeakSet",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return O.def(E(this,"WeakSet"),T,!0)}},O,!1,!0)},function(B,P,d){"use strict";var O,E=d(19)(0),T=d(15),v=d(29),m=d(143),_=d(122),p=d(4),f=d(3),b=d(40),C=v.getWeak,h=Object.isExtensible,g=_.ufstore,S={},R=function(H){return function(){return H(this,arguments.length>0?arguments[0]:void 0)}},N={get:function(H){if(p(H)){var L=C(H);return!0===L?g(b(this,"WeakMap")).get(H):L?L[this._i]:void 0}},set:function(H,L){return _.def(b(this,"WeakMap"),H,L)}},k=B.exports=d(61)("WeakMap",R,N,_,!0,!0);f(function(){return 7!=(new k).set((Object.freeze||Object)(S),7).get(S)})&&(m((O=_.getConstructor(R,"WeakMap")).prototype,N),v.NEED=!0,E(["delete","has","get","set"],function(H){var L=k.prototype,U=L[H];T(L,H,function(G,X){if(p(G)&&!h(G)){this._f||(this._f=new O);var te=this._f[H](G,X);return"set"==H?this:te}return U.call(this,G,X)})}))},function(B,P,d){"use strict";var O=d(123),E=d(40);B.exports=d(61)("Set",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{add:function(T){return O.def(E(this,"Set"),T=0===T?0:T,T)}},O)},function(B,P,d){"use strict";var O=d(123),E=d(40);B.exports=d(61)("Map",function(T){return function(){return T(this,arguments.length>0?arguments[0]:void 0)}},{get:function(T){var v=O.getEntry(E(this,"Map"),T);return v&&v.v},set:function(T,v){return O.def(E(this,"Map"),0===T?0:T,v)}},O,!0)},function(B,P,d){var O=d(5),E=d(4),T=d(124);B.exports=function(v,m){if(O(v),E(m)&&m.constructor===v)return m;var _=T.f(v);return(0,_.resolve)(m),_.promise}},function(B,P){B.exports=function(d){try{return{e:!1,v:d()}}catch(O){return{e:!0,v:O}}}},function(B,P,d){var O=d(6),E=d(125).set,T=O.MutationObserver||O.WebKitMutationObserver,v=O.process,m=O.Promise,_="process"==d(25)(v);B.exports=function(){var p,f,b,C=function(){var R,N;for(_&&(R=v.domain)&&R.exit();p;){N=p.fn,p=p.next;try{N()}catch(k){throw p?b():f=void 0,k}}f=void 0,R&&R.enter()};if(_)b=function(){v.nextTick(C)};else if(!T||O.navigator&&O.navigator.standalone)if(m&&m.resolve){var h=m.resolve();b=function(){h.then(C)}}else b=function(){E.call(O,C)};else{var g=!0,S=document.createTextNode("");new T(C).observe(S,{characterData:!0}),b=function(){S.data=g=!g}}return function(R){var N={fn:R,next:void 0};f&&(f.next=N),p||(p=N,b()),f=N}}},function(B,P,d){"use strict";var O,E,T,v,m=d(44),_=d(6),p=d(27),f=d(66),b=d(0),C=d(4),h=d(26),g=d(42),S=d(62),R=d(76),N=d(125).set,k=d(209)(),H=d(124),L=d(208),U=d(207),G=_.TypeError,X=_.process,te=_.Promise,z="process"==f(X),le=function(){},K=E=H.f,he=!!function(){try{var ie=te.resolve(1),se=(ie.constructor={})[d(7)("species")]=function(ue){ue(le,le)};return(z||"function"==typeof PromiseRejectionEvent)&&ie.then(le)instanceof se}catch(ue){}}(),Te=function(ie){var se;return!(!C(ie)||"function"!=typeof(se=ie.then))&&se},be=function(ie,se){if(!ie._n){ie._n=!0;var ue=ie._c;k(function(){for(var Re=ie._v,Xe=1==ie._s,De=0,Et=function($e){var Ne,ne,ce,fe=Xe?$e.ok:$e.fail,Ie=$e.resolve,je=$e.reject,Je=$e.domain;try{fe?(Xe||(2==ie._h&&oe(ie),ie._h=1),!0===fe?Ne=Re:(Je&&Je.enter(),Ne=fe(Re),Je&&(Je.exit(),ce=!0)),Ne===$e.promise?je(G("Promise-chain cycle")):(ne=Te(Ne))?ne.call(Ne,Ie,je):Ie(Ne)):je(Re)}catch(Ce){Je&&!ce&&Je.exit(),je(Ce)}};ue.length>De;)Et(ue[De++]);ie._c=[],ie._n=!1,se&&!ie._h&&Le(ie)})}},Le=function(ie){N.call(_,function(){var se,ue,Re,Xe=ie._v,De=Y(ie);if(De&&(se=L(function(){z?X.emit("unhandledRejection",Xe,ie):(ue=_.onunhandledrejection)?ue({promise:ie,reason:Xe}):(Re=_.console)&&Re.error&&Re.error("Unhandled promise rejection",Xe)}),ie._h=z||Y(ie)?2:1),ie._a=void 0,De&&se.e)throw se.v})},Y=function(ie){return 1!==ie._h&&0===(ie._a||ie._c).length},oe=function(ie){N.call(_,function(){var se;z?X.emit("rejectionHandled",ie):(se=_.onrejectionhandled)&&se({promise:ie,reason:ie._v})})},J=function(ie){var se=this;se._d||(se._d=!0,(se=se._w||se)._v=ie,se._s=2,se._a||(se._a=se._c.slice()),be(se,!0))},me=function(ie){var se,ue=this;if(!ue._d){ue._d=!0,ue=ue._w||ue;try{if(ue===ie)throw G("Promise can't be resolved itself");(se=Te(ie))?k(function(){var Re={_w:ue,_d:!1};try{se.call(ie,p(me,Re,1),p(J,Re,1))}catch(Xe){J.call(Re,Xe)}}):(ue._v=ie,ue._s=1,be(ue,!1))}catch(Re){J.call({_w:ue,_d:!1},Re)}}};he||(te=function(ie){g(this,te,"Promise","_h"),h(ie),O.call(this);try{ie(p(me,this,1),p(J,this,1))}catch(se){J.call(this,se)}},(O=function(ie){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=d(41)(te.prototype,{then:function(ie,se){var ue=K(R(this,te));return ue.ok="function"!=typeof ie||ie,ue.fail="function"==typeof se&&se,ue.domain=z?X.domain:void 0,this._c.push(ue),this._a&&this._a.push(ue),this._s&&be(this,!1),ue.promise},catch:function(ie){return this.then(void 0,ie)}}),T=function(){var ie=new O;this.promise=ie,this.resolve=p(me,ie,1),this.reject=p(J,ie,1)},H.f=K=function(ie){return ie===te||ie===v?new T(ie):E(ie)}),b(b.G+b.W+b.F*!he,{Promise:te}),d(45)(te,"Promise"),d(43)("Promise"),v=d(37).Promise,b(b.S+b.F*!he,"Promise",{reject:function(ie){var se=K(this);return(0,se.reject)(ie),se.promise}}),b(b.S+b.F*(m||!he),"Promise",{resolve:function(ie){return U(m&&this===v?te:this,ie)}}),b(b.S+b.F*!(he&&d(64)(function(ie){te.all(ie).catch(le)})),"Promise",{all:function(ie){var se=this,ue=K(se),Re=ue.resolve,Xe=ue.reject,De=L(function(){var Et=[],$e=0,Ne=1;S(ie,!1,function(ne){var ce=$e++,fe=!1;Et.push(void 0),Ne++,se.resolve(ne).then(function(Ie){fe||(fe=!0,Et[ce]=Ie,--Ne||Re(Et))},Xe)}),--Ne||Re(Et)});return De.e&&Xe(De.v),ue.promise},race:function(ie){var se=this,ue=K(se),Re=ue.reject,Xe=L(function(){S(ie,!1,function(De){se.resolve(De).then(ue.resolve,Re)})});return Xe.e&&Re(Xe.v),ue.promise}})},function(B,P,d){d(63)("split",2,function(O,E,T){"use strict";var v=d(82),m=T,_=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var p=void 0===/()??/.exec("")[1];T=function(f,b){var C=String(this);if(void 0===f&&0===b)return[];if(!v(f))return m.call(C,f,b);var h,g,S,R,N,k=[],H=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(f.sticky?"y":""),L=0,U=void 0===b?4294967295:b>>>0,G=new RegExp(f.source,H+"g");for(p||(h=new RegExp("^"+G.source+"$(?!\\s)",H));(g=G.exec(C))&&!((S=g.index+g[0].length)>L&&(k.push(C.slice(L,g.index)),!p&&g.length>1&&g[0].replace(h,function(){for(N=1;N<arguments.length-2;N++)void 0===arguments[N]&&(g[N]=void 0)}),g.length>1&&g.index<C.length&&_.apply(k,g.slice(1)),R=g[0].length,L=S,k.length>=U));)G.lastIndex===g.index&&G.lastIndex++;return L===C.length?!R&&G.test("")||k.push(""):k.push(C.slice(L)),k.length>U?k.slice(0,U):k}}else"0".split(void 0,0).length&&(T=function(f,b){return void 0===f&&0===b?[]:m.call(this,f,b)});return[function(f,b){var C=O(this),h=null==f?void 0:f[E];return void 0!==h?h.call(f,C,b):T.call(String(C),f,b)},T]})},function(B,P,d){d(63)("search",1,function(O,E,T){return[function(v){"use strict";var m=O(this),_=null==v?void 0:v[E];return void 0!==_?_.call(v,m):new RegExp(v)[E](String(m))},T]})},function(B,P,d){d(63)("replace",2,function(O,E,T){return[function(v,m){"use strict";var _=O(this),p=null==v?void 0:v[E];return void 0!==p?p.call(v,_,m):T.call(String(_),v,m)},T]})},function(B,P,d){d(63)("match",1,function(O,E,T){return[function(v){"use strict";var m=O(this),_=null==v?void 0:v[E];return void 0!==_?_.call(v,m):new RegExp(v)[E](String(m))},T]})},function(B,P,d){"use strict";d(126);var O=d(5),E=d(77),T=d(11),v=/./.toString,m=function(_){d(15)(RegExp.prototype,"toString",_,!0)};d(3)(function(){return"/a/b"!=v.call({source:"a",flags:"b"})})?m(function(){var _=O(this);return"/".concat(_.source,"/","flags"in _?_.flags:!T&&_ instanceof RegExp?E.call(_):void 0)}):"toString"!=v.name&&m(function(){return v.call(this)})},function(B,P,d){var O=d(6),E=d(87),T=d(10).f,v=d(32).f,m=d(82),_=d(77),p=O.RegExp,f=p,b=p.prototype,C=/a/g,h=/a/g,g=new p(C)!==C;if(d(11)&&(!g||d(3)(function(){return h[d(7)("match")]=!1,p(C)!=C||p(h)==h||"/a/i"!=p(C,"i")}))){p=function(k,H){var L=this instanceof p,U=m(k),G=void 0===H;return!L&&U&&k.constructor===p&&G?k:E(g?new f(U&&!G?k.source:k,H):f((U=k instanceof p)?k.source:k,U&&G?_.call(k):H),L?this:b,p)};for(var S=function(k){k in p||T(p,k,{configurable:!0,get:function(){return f[k]},set:function(H){f[k]=H}})},R=v(f),N=0;R.length>N;)S(R[N++]);b.constructor=p,p.prototype=b,d(15)(O,"RegExp",p)}d(43)("RegExp")},function(B,P,d){d(43)("Array")},function(B,P,d){"use strict";var O=d(0),E=d(19)(6),T="findIndex",v=!0;T in[]&&Array(1)[T](function(){v=!1}),O(O.P+O.F*v,"Array",{findIndex:function(m){return E(this,m,arguments.length>1?arguments[1]:void 0)}}),d(52)(T)},function(B,P,d){"use strict";var O=d(0),E=d(19)(5),T=!0;"find"in[]&&Array(1).find(function(){T=!1}),O(O.P+O.F*T,"Array",{find:function(v){return E(this,v,arguments.length>1?arguments[1]:void 0)}}),d(52)("find")},function(B,P,d){var O=d(0);O(O.P,"Array",{fill:d(78)}),d(52)("fill")},function(B,P,d){var O=d(0);O(O.P,"Array",{copyWithin:d(129)}),d(52)("copyWithin")},function(B,P,d){"use strict";var O=d(0),E=d(21),T=d(24),v=d(12),m=[].lastIndexOf,_=!!m&&1/[1].lastIndexOf(1,-0)<0;O(O.P+O.F*(_||!d(17)(m)),"Array",{lastIndexOf:function(p){if(_)return m.apply(this,arguments)||0;var f=E(this),b=v(f.length),C=b-1;for(arguments.length>1&&(C=Math.min(C,T(arguments[1]))),C<0&&(C=b+C);C>=0;C--)if(C in f&&f[C]===p)return C||0;return-1}})},function(B,P,d){"use strict";var O=d(0),E=d(94)(!1),T=[].indexOf,v=!!T&&1/[1].indexOf(1,-0)<0;O(O.P+O.F*(v||!d(17)(T)),"Array",{indexOf:function(m){return v?T.apply(this,arguments)||0:E(this,m,arguments[1])}})},function(B,P,d){"use strict";var O=d(0),E=d(130);O(O.P+O.F*!d(17)([].reduceRight,!0),"Array",{reduceRight:function(T){return E(this,T,arguments.length,arguments[1],!0)}})},function(B,P,d){"use strict";var O=d(0),E=d(130);O(O.P+O.F*!d(17)([].reduce,!0),"Array",{reduce:function(T){return E(this,T,arguments.length,arguments[1],!1)}})},function(B,P,d){"use strict";var O=d(0),E=d(19)(4);O(O.P+O.F*!d(17)([].every,!0),"Array",{every:function(T){return E(this,T,arguments[1])}})},function(B,P,d){"use strict";var O=d(0),E=d(19)(3);O(O.P+O.F*!d(17)([].some,!0),"Array",{some:function(T){return E(this,T,arguments[1])}})},function(B,P,d){"use strict";var O=d(0),E=d(19)(2);O(O.P+O.F*!d(17)([].filter,!0),"Array",{filter:function(T){return E(this,T,arguments[1])}})},function(B,P,d){"use strict";var O=d(0),E=d(19)(1);O(O.P+O.F*!d(17)([].map,!0),"Array",{map:function(T){return E(this,T,arguments[1])}})},function(B,P,d){var O=d(4),E=d(91),T=d(7)("species");B.exports=function(v){var m;return E(v)&&("function"!=typeof(m=v.constructor)||m!==Array&&!E(m.prototype)||(m=void 0),O(m)&&null===(m=m[T])&&(m=void 0)),void 0===m?Array:m}},function(B,P,d){var O=d(230);B.exports=function(E,T){return new(O(E))(T)}},function(B,P,d){"use strict";var O=d(0),E=d(19)(0),T=d(17)([].forEach,!0);O(O.P+O.F*!T,"Array",{forEach:function(v){return E(this,v,arguments[1])}})},function(B,P,d){"use strict";var O=d(0),E=d(26),T=d(14),v=d(3),m=[].sort,_=[1,2,3];O(O.P+O.F*(v(function(){_.sort(void 0)})||!v(function(){_.sort(null)})||!d(17)(m)),"Array",{sort:function(p){return void 0===p?m.call(T(this)):m.call(T(this),E(p))}})},function(B,P,d){"use strict";var O=d(0),E=d(90),T=d(25),v=d(34),m=d(12),_=[].slice;O(O.P+O.F*d(3)(function(){E&&_.call(E)}),"Array",{slice:function(p,f){var b=m(this.length),C=T(this);if(f=void 0===f?b:f,"Array"==C)return _.call(this,p,f);for(var h=v(p,b),g=v(f,b),S=m(g-h),R=new Array(S),N=0;N<S;N++)R[N]="String"==C?this.charAt(h+N):this[h+N];return R}})},function(B,P,d){"use strict";var O=d(0),E=d(21),T=[].join;O(O.P+O.F*(d(54)!=Object||!d(17)(T)),"Array",{join:function(v){return T.call(E(this),void 0===v?",":v)}})},function(B,P,d){"use strict";var O=d(0),E=d(131);O(O.S+O.F*d(3)(function(){function T(){}return!(Array.of.call(T)instanceof T)}),"Array",{of:function(){for(var T=0,v=arguments.length,m=new("function"==typeof this?this:Array)(v);v>T;)E(m,T,arguments[T++]);return m.length=v,m}})},function(B,P,d){"use strict";var O=d(27),E=d(0),T=d(14),v=d(132),m=d(80),_=d(12),p=d(131),f=d(79);E(E.S+E.F*!d(64)(function(b){Array.from(b)}),"Array",{from:function(b){var C,h,g,S,R=T(b),N="function"==typeof this?this:Array,k=arguments.length,H=k>1?arguments[1]:void 0,L=void 0!==H,U=0,G=f(R);if(L&&(H=O(H,k>2?arguments[2]:void 0,2)),null==G||N==Array&&m(G))for(h=new N(C=_(R.length));C>U;U++)p(h,U,L?H(R[U],U):R[U]);else for(S=G.call(R),h=new N;!(g=S.next()).done;U++)p(h,U,L?v(S,H,[g.value,U],!0):g.value);return h.length=U,h}})},function(B,P,d){var O=d(0);O(O.S,"Array",{isArray:d(91)})},function(B,P,d){"use strict";var O=d(5),E=d(30);B.exports=function(T){if("string"!==T&&"number"!==T&&"default"!==T)throw TypeError("Incorrect hint");return E(O(this),"number"!=T)}},function(B,P,d){var O=d(7)("toPrimitive"),E=Date.prototype;O in E||d(18)(E,O,d(239))},function(B,P,d){var O=Date.prototype,E=O.toString,T=O.getTime;new Date(NaN)+""!="Invalid Date"&&d(15)(O,"toString",function(){var v=T.call(this);return v==v?E.call(this):"Invalid Date"})},function(B,P,d){"use strict";var O=d(3),E=Date.prototype.getTime,T=Date.prototype.toISOString,v=function(m){return m>9?m:"0"+m};B.exports=O(function(){return"0385-07-25T07:06:39.999Z"!=T.call(new Date(-50000000000001))})||!O(function(){T.call(new Date(NaN))})?function(){if(!isFinite(E.call(this)))throw RangeError("Invalid time value");var m=this,_=m.getUTCFullYear(),p=m.getUTCMilliseconds(),f=_<0?"-":_>9999?"+":"";return f+("00000"+Math.abs(_)).slice(f?-6:-4)+"-"+v(m.getUTCMonth()+1)+"-"+v(m.getUTCDate())+"T"+v(m.getUTCHours())+":"+v(m.getUTCMinutes())+":"+v(m.getUTCSeconds())+"."+(p>99?p:"0"+v(p))+"Z"}:T},function(B,P,d){var O=d(0),E=d(242);O(O.P+O.F*(Date.prototype.toISOString!==E),"Date",{toISOString:E})},function(B,P,d){"use strict";var O=d(0),E=d(14),T=d(30);O(O.P+O.F*d(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(v){var m=E(this),_=T(m);return"number"!=typeof _||isFinite(_)?m.toISOString():null}})},function(B,P,d){var O=d(0);O(O.S,"Date",{now:function(){return(new Date).getTime()}})},function(B,P,d){"use strict";d(13)("sup",function(O){return function(){return O(this,"sup","","")}})},function(B,P,d){"use strict";d(13)("sub",function(O){return function(){return O(this,"sub","","")}})},function(B,P,d){"use strict";d(13)("strike",function(O){return function(){return O(this,"strike","","")}})},function(B,P,d){"use strict";d(13)("small",function(O){return function(){return O(this,"small","","")}})},function(B,P,d){"use strict";d(13)("link",function(O){return function(E){return O(this,"a","href",E)}})},function(B,P,d){"use strict";d(13)("italics",function(O){return function(){return O(this,"i","","")}})},function(B,P,d){"use strict";d(13)("fontsize",function(O){return function(E){return O(this,"font","size",E)}})},function(B,P,d){"use strict";d(13)("fontcolor",function(O){return function(E){return O(this,"font","color",E)}})},function(B,P,d){"use strict";d(13)("fixed",function(O){return function(){return O(this,"tt","","")}})},function(B,P,d){"use strict";d(13)("bold",function(O){return function(){return O(this,"b","","")}})},function(B,P,d){"use strict";d(13)("blink",function(O){return function(){return O(this,"blink","","")}})},function(B,P,d){"use strict";d(13)("big",function(O){return function(){return O(this,"big","","")}})},function(B,P,d){"use strict";d(13)("anchor",function(O){return function(E){return O(this,"a","name",E)}})},function(B,P,d){"use strict";var O=d(0),E=d(12),T=d(83),v="".startsWith;O(O.P+O.F*d(81)("startsWith"),"String",{startsWith:function(m){var _=T(this,m,"startsWith"),p=E(Math.min(arguments.length>1?arguments[1]:void 0,_.length)),f=String(m);return v?v.call(_,f,p):_.slice(p,p+f.length)===f}})},function(B,P,d){var O=d(0);O(O.P,"String",{repeat:d(137)})},function(B,P,d){"use strict";var O=d(0),E=d(83);O(O.P+O.F*d(81)("includes"),"String",{includes:function(T){return!!~E(this,T,"includes").indexOf(T,arguments.length>1?arguments[1]:void 0)}})},function(B,P,d){"use strict";var O=d(0),E=d(12),T=d(83),v="".endsWith;O(O.P+O.F*d(81)("endsWith"),"String",{endsWith:function(m){var _=T(this,m,"endsWith"),p=arguments.length>1?arguments[1]:void 0,f=E(_.length),b=void 0===p?f:Math.min(E(p),f),C=String(m);return v?v.call(_,C,b):_.slice(b-C.length,b)===C}})},function(B,P,d){"use strict";var O=d(0),E=d(134)(!1);O(O.P,"String",{codePointAt:function(T){return E(this,T)}})},function(B,P,d){"use strict";var O=d(134)(!0);d(84)(String,"String",function(E){this._t=String(E),this._i=0},function(){var E,T=this._t,v=this._i;return v>=T.length?{value:void 0,done:!0}:(E=O(T,v),this._i+=E.length,{value:E,done:!1})})},function(B,P,d){"use strict";d(65)("trim",function(O){return function(){return O(this,3)}})},function(B,P,d){var O=d(0),E=d(21),T=d(12);O(O.S,"String",{raw:function(v){for(var m=E(v.raw),_=T(m.length),p=arguments.length,f=[],b=0;_>b;)f.push(String(m[b++])),b<p&&f.push(String(arguments[b]));return f.join("")}})},function(B,P,d){var O=d(0),E=d(34),T=String.fromCharCode,v=String.fromCodePoint;O(O.S+O.F*(!!v&&1!=v.length),"String",{fromCodePoint:function(m){for(var _,p=[],f=arguments.length,b=0;f>b;){if(_=+arguments[b++],E(_,1114111)!==_)throw RangeError(_+" is not a valid code point");p.push(_<65536?T(_):T(55296+((_-=65536)>>10),_%1024+56320))}return p.join("")}})},function(B,P,d){var O=d(0);O(O.S,"Math",{trunc:function(E){return(E>0?Math.floor:Math.ceil)(E)}})},function(B,P,d){var O=d(0),E=d(85),T=Math.exp;O(O.S,"Math",{tanh:function(v){var m=E(v=+v),_=E(-v);return m==1/0?1:_==1/0?-1:(m-_)/(T(v)+T(-v))}})},function(B,P,d){var O=d(0),E=d(85),T=Math.exp;O(O.S+O.F*d(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(v){return Math.abs(v=+v)<1?(E(v)-E(-v))/2:(T(v-1)-T(-v-1))*(Math.E/2)}})},function(B,P,d){var O=d(0);O(O.S,"Math",{sign:d(86)})},function(B,P,d){var O=d(0);O(O.S,"Math",{log2:function(E){return Math.log(E)/Math.LN2}})},function(B,P,d){var O=d(0);O(O.S,"Math",{log1p:d(135)})},function(B,P,d){var O=d(0);O(O.S,"Math",{log10:function(E){return Math.log(E)*Math.LOG10E}})},function(B,P,d){var O=d(0),E=Math.imul;O(O.S+O.F*d(3)(function(){return-5!=E(4294967295,5)||2!=E.length}),"Math",{imul:function(T,v){var m=+T,_=+v,p=65535&m,f=65535&_;return 0|p*f+((65535&m>>>16)*f+p*(65535&_>>>16)<<16>>>0)}})},function(B,P,d){var O=d(0),E=Math.abs;O(O.S,"Math",{hypot:function(T,v){for(var m,_,p=0,f=0,b=arguments.length,C=0;f<b;)C<(m=E(arguments[f++]))?(p=p*(_=C/m)*_+1,C=m):p+=m>0?(_=m/C)*_:m;return C===1/0?1/0:C*Math.sqrt(p)}})},function(B,P,d){var O=d(86),E=Math.pow,T=E(2,-52),v=E(2,-23),m=E(2,127)*(2-v),_=E(2,-126);B.exports=Math.fround||function(p){var f,b,C=Math.abs(p),h=O(p);return C<_?h*(C/_/v+1/T-1/T)*_*v:(b=(f=(1+v/T)*C)-(f-C))>m||b!=b?h*(1/0):h*b}},function(B,P,d){var O=d(0);O(O.S,"Math",{fround:d(277)})},function(B,P,d){var O=d(0),E=d(85);O(O.S+O.F*(E!=Math.expm1),"Math",{expm1:E})},function(B,P,d){var O=d(0),E=Math.exp;O(O.S,"Math",{cosh:function(T){return(E(T=+T)+E(-T))/2}})},function(B,P,d){var O=d(0);O(O.S,"Math",{clz32:function(E){return(E>>>=0)?31-Math.floor(Math.log(E+.5)*Math.LOG2E):32}})},function(B,P,d){var O=d(0),E=d(86);O(O.S,"Math",{cbrt:function(T){return E(T=+T)*Math.pow(Math.abs(T),1/3)}})},function(B,P,d){var O=d(0),E=Math.atanh;O(O.S+O.F*!(E&&1/E(-0)<0),"Math",{atanh:function(T){return 0==(T=+T)?T:Math.log((1+T)/(1-T))/2}})},function(B,P,d){var O=d(0),E=Math.asinh;O(O.S+O.F*!(E&&1/E(0)>0),"Math",{asinh:function T(v){return isFinite(v=+v)&&0!=v?v<0?-T(-v):Math.log(v+Math.sqrt(v*v+1)):v}})},function(B,P,d){var O=d(0),E=d(135),T=Math.sqrt,v=Math.acosh;O(O.S+O.F*!(v&&710==Math.floor(v(Number.MAX_VALUE))&&v(1/0)==1/0),"Math",{acosh:function(m){return(m=+m)<1?NaN:m>94906265.62425156?Math.log(m)+Math.LN2:E(m-1+T(m-1)*T(m+1))}})},function(B,P,d){var O=d(0),E=d(140);O(O.S+O.F*(Number.parseInt!=E),"Number",{parseInt:E})},function(B,P,d){var O=d(0),E=d(139);O(O.S+O.F*(Number.parseFloat!=E),"Number",{parseFloat:E})},function(B,P,d){var O=d(0);O(O.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(B,P,d){var O=d(0);O(O.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(B,P,d){var O=d(0),E=d(136),T=Math.abs;O(O.S,"Number",{isSafeInteger:function(v){return E(v)&&T(v)<=9007199254740991}})},function(B,P,d){var O=d(0);O(O.S,"Number",{isNaN:function(E){return E!=E}})},function(B,P,d){var O=d(0);O(O.S,"Number",{isInteger:d(136)})},function(B,P,d){var O=d(0),E=d(6).isFinite;O(O.S,"Number",{isFinite:function(T){return"number"==typeof T&&E(T)}})},function(B,P,d){var O=d(0);O(O.S,"Number",{EPSILON:Math.pow(2,-52)})},function(B,P,d){"use strict";var O=d(0),E=d(3),T=d(138),v=1..toPrecision;O(O.P+O.F*(E(function(){return"1"!==v.call(1,void 0)})||!E(function(){v.call({})})),"Number",{toPrecision:function(m){var _=T(this,"Number#toPrecision: incorrect invocation!");return void 0===m?v.call(_):v.call(_,m)}})},function(B,P,d){"use strict";var O=d(0),E=d(24),T=d(138),v=d(137),m=1..toFixed,_=Math.floor,p=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",b=function(S,R){for(var N=-1,k=R;++N<6;)p[N]=(k+=S*p[N])%1e7,k=_(k/1e7)},C=function(S){for(var R=6,N=0;--R>=0;)p[R]=_((N+=p[R])/S),N=N%S*1e7},h=function(){for(var S=6,R="";--S>=0;)if(""!==R||0===S||0!==p[S]){var N=String(p[S]);R=""===R?N:R+v.call("0",7-N.length)+N}return R},g=function(S,R,N){return 0===R?N:R%2==1?g(S,R-1,N*S):g(S*S,R/2,N)};O(O.P+O.F*(!!m&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d(3)(function(){m.call({})})),"Number",{toFixed:function(S){var R,N,k,H,L=T(this,f),U=E(S),G="",X="0";if(U<0||U>20)throw RangeError(f);if(L!=L)return"NaN";if(L<=-1e21||L>=1e21)return String(L);if(L<0&&(G="-",L=-L),L>1e-21)if(N=(R=function(te){for(var z=0,le=te;le>=4096;)z+=12,le/=4096;for(;le>=2;)z+=1,le/=2;return z}(L*g(2,69,1))-69)<0?L*g(2,-R,1):L/g(2,R,1),N*=4503599627370496,(R=52-R)>0){for(b(0,N),k=U;k>=7;)b(1e7,0),k-=7;for(b(g(10,k,1),0),k=R-1;k>=23;)C(1<<23),k-=23;C(1<<k),b(1,1),C(2),X=h()}else b(0,N),b(1<<-R,0),X=h()+v.call("0",U);return U>0?G+((H=X.length)<=U?"0."+v.call("0",U-H)+X:X.slice(0,H-U)+"."+X.slice(H-U)):G+X}})},function(B,P,d){"use strict";var O=d(6),E=d(16),T=d(25),v=d(87),m=d(30),_=d(3),p=d(32).f,f=d(23).f,b=d(10).f,C=d(65).trim,h=O.Number,g=h,S=h.prototype,R="Number"==T(d(33)(S)),N="trim"in String.prototype,k=function(G){var X=m(G,!1);if("string"==typeof X&&X.length>2){var te,z,le,K=(X=N?X.trim():C(X,3)).charCodeAt(0);if(43===K||45===K){if(88===(te=X.charCodeAt(2))||120===te)return NaN}else if(48===K){switch(X.charCodeAt(1)){case 66:case 98:z=2,le=49;break;case 79:case 111:z=8,le=55;break;default:return+X}for(var he,Te=X.slice(2),be=0,Le=Te.length;be<Le;be++)if((he=Te.charCodeAt(be))<48||he>le)return NaN;return parseInt(Te,z)}}return+X};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(G){var X=arguments.length<1?0:G,te=this;return te instanceof h&&(R?_(function(){S.valueOf.call(te)}):"Number"!=T(te))?v(new g(k(X)),te,h):k(X)};for(var H,L=d(11)?p(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;L.length>U;U++)E(g,H=L[U])&&!E(h,H)&&b(h,H,f(g,H));h.prototype=S,S.constructor=h,d(15)(O,"Number",h)}},function(B,P,d){var O=d(0),E=d(139);O(O.G+O.F*(parseFloat!=E),{parseFloat:E})},function(B,P,d){var O=d(0),E=d(140);O(O.G+O.F*(parseInt!=E),{parseInt:E})},function(B,P,d){"use strict";var O=d(4),E=d(31),T=d(7)("hasInstance"),v=Function.prototype;T in v||d(10).f(v,T,{value:function(m){if("function"!=typeof this||!O(m))return!1;if(!O(this.prototype))return m instanceof this;for(;m=E(m);)if(this.prototype===m)return!0;return!1}})},function(B,P,d){var O=d(10).f,E=Function.prototype,T=/^\s*function ([^ (]*)/;"name"in E||d(11)&&O(E,"name",{configurable:!0,get:function(){try{return(""+this).match(T)[1]}catch(v){return""}}})},function(B,P,d){var O=d(0);O(O.P,"Function",{bind:d(142)})},function(B,P,d){"use strict";var O=d(66),E={};E[d(7)("toStringTag")]="z",E+""!="[object z]"&&d(15)(Object.prototype,"toString",function(){return"[object "+O(this)+"]"},!0)},function(B,P,d){var O=d(0);O(O.S,"Object",{setPrototypeOf:d(89).set})},function(B,P){B.exports=Object.is||function(d,O){return d===O?0!==d||1/d==1/O:d!=d&&O!=O}},function(B,P,d){var O=d(0);O(O.S,"Object",{is:d(305)})},function(B,P,d){var O=d(0);O(O.S+O.F,"Object",{assign:d(143)})},function(B,P,d){var O=d(4);d(20)("isExtensible",function(E){return function(T){return!!O(T)&&(!E||E(T))}})},function(B,P,d){var O=d(4);d(20)("isSealed",function(E){return function(T){return!O(T)||!!E&&E(T)}})},function(B,P,d){var O=d(4);d(20)("isFrozen",function(E){return function(T){return!O(T)||!!E&&E(T)}})},function(B,P,d){var O=d(4),E=d(29).onFreeze;d(20)("preventExtensions",function(T){return function(v){return T&&O(v)?T(E(v)):v}})},function(B,P,d){var O=d(4),E=d(29).onFreeze;d(20)("seal",function(T){return function(v){return T&&O(v)?T(E(v)):v}})},function(B,P,d){var O=d(4),E=d(29).onFreeze;d(20)("freeze",function(T){return function(v){return T&&O(v)?T(E(v)):v}})},function(B,P,d){d(20)("getOwnPropertyNames",function(){return d(144).f})},function(B,P,d){var O=d(14),E=d(55);d(20)("keys",function(){return function(T){return E(O(T))}})},function(B,P,d){var O=d(14),E=d(31);d(20)("getPrototypeOf",function(){return function(T){return E(O(T))}})},function(B,P,d){var O=d(21),E=d(23).f;d(20)("getOwnPropertyDescriptor",function(){return function(T,v){return E(O(T),v)}})},function(B,P,d){var O=d(0);O(O.S+O.F*!d(11),"Object",{defineProperties:d(145)})},function(B,P,d){var O=d(0);O(O.S+O.F*!d(11),"Object",{defineProperty:d(10).f})},function(B,P,d){var O=d(0);O(O.S,"Object",{create:d(33)})},function(B,P,d){var O=d(55),E=d(68),T=d(67);B.exports=function(v){var m=O(v),_=E.f;if(_)for(var p,f=_(v),b=T.f,C=0;f.length>C;)b.call(v,p=f[C++])&&m.push(p);return m}},function(B,P,d){var O=d(6),E=d(37),T=d(44),v=d(147),m=d(10).f;B.exports=function(_){var p=E.Symbol||(E.Symbol=T?{}:O.Symbol||{});"_"==_.charAt(0)||_ in p||m(p,_,{value:v.f(_)})}},function(B,P,d){"use strict";var O=d(6),E=d(16),T=d(11),v=d(0),m=d(15),_=d(29).KEY,p=d(3),f=d(95),b=d(45),C=d(35),h=d(7),g=d(147),S=d(322),R=d(321),N=d(91),k=d(5),H=d(4),L=d(21),U=d(30),G=d(36),X=d(33),te=d(144),z=d(23),le=d(10),K=d(55),he=z.f,Te=le.f,be=te.f,Le=O.Symbol,Y=O.JSON,oe=Y&&Y.stringify,J=h("_hidden"),me=h("toPrimitive"),ie={}.propertyIsEnumerable,se=f("symbol-registry"),ue=f("symbols"),Re=f("op-symbols"),Xe=Object.prototype,De="function"==typeof Le,Et=O.QObject,$e=!Et||!Et.prototype||!Et.prototype.findChild,Ne=T&&p(function(){return 7!=X(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a})?function(Qe,at,_e){var de=he(Xe,at);de&&delete Xe[at],Te(Qe,at,_e),de&&Qe!==Xe&&Te(Xe,at,de)}:Te,ne=function(Qe){var at=ue[Qe]=X(Le.prototype);return at._k=Qe,at},ce=De&&"symbol"==typeof Le.iterator?function(Qe){return"symbol"==typeof Qe}:function(Qe){return Qe instanceof Le},fe=function(Qe,at,_e){return Qe===Xe&&fe(Re,at,_e),k(Qe),at=U(at,!0),k(_e),E(ue,at)?(_e.enumerable?(E(Qe,J)&&Qe[J][at]&&(Qe[J][at]=!1),_e=X(_e,{enumerable:G(0,!1)})):(E(Qe,J)||Te(Qe,J,G(1,{})),Qe[J][at]=!0),Ne(Qe,at,_e)):Te(Qe,at,_e)},Ie=function(Qe,at){k(Qe);for(var _e,de=R(at=L(at)),Se=0,Me=de.length;Me>Se;)fe(Qe,_e=de[Se++],at[_e]);return Qe},je=function(Qe){var at=ie.call(this,Qe=U(Qe,!0));return!(this===Xe&&E(ue,Qe)&&!E(Re,Qe))&&(!(at||!E(this,Qe)||!E(ue,Qe)||E(this,J)&&this[J][Qe])||at)},Je=function(Qe,at){if(Qe=L(Qe),at=U(at,!0),Qe!==Xe||!E(ue,at)||E(Re,at)){var _e=he(Qe,at);return!_e||!E(ue,at)||E(Qe,J)&&Qe[J][at]||(_e.enumerable=!0),_e}},Ce=function(Qe){for(var at,_e=be(L(Qe)),de=[],Se=0;_e.length>Se;)E(ue,at=_e[Se++])||at==J||at==_||de.push(at);return de},Ue=function(Qe){for(var at,_e=Qe===Xe,de=be(_e?Re:L(Qe)),Se=[],Me=0;de.length>Me;)!E(ue,at=de[Me++])||_e&&!E(Xe,at)||Se.push(ue[at]);return Se};De||(m((Le=function(){if(this instanceof Le)throw TypeError("Symbol is not a constructor!");var Qe=C(arguments.length>0?arguments[0]:void 0),at=function(_e){this===Xe&&at.call(Re,_e),E(this,J)&&E(this[J],Qe)&&(this[J][Qe]=!1),Ne(this,Qe,G(1,_e))};return T&&$e&&Ne(Xe,Qe,{configurable:!0,set:at}),ne(Qe)}).prototype,"toString",function(){return this._k}),z.f=Je,le.f=fe,d(32).f=te.f=Ce,d(67).f=je,d(68).f=Ue,T&&!d(44)&&m(Xe,"propertyIsEnumerable",je,!0),g.f=function(Qe){return ne(h(Qe))}),v(v.G+v.W+v.F*!De,{Symbol:Le});for(var Ht="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Dt=0;Ht.length>Dt;)h(Ht[Dt++]);for(var $t=K(h.store),Hn=0;$t.length>Hn;)S($t[Hn++]);v(v.S+v.F*!De,"Symbol",{for:function(Qe){return E(se,Qe+="")?se[Qe]:se[Qe]=Le(Qe)},keyFor:function(Qe){if(!ce(Qe))throw TypeError(Qe+" is not a symbol!");for(var at in se)if(se[at]===Qe)return at},useSetter:function(){$e=!0},useSimple:function(){$e=!1}}),v(v.S+v.F*!De,"Object",{create:function(Qe,at){return void 0===at?X(Qe):Ie(X(Qe),at)},defineProperty:fe,defineProperties:Ie,getOwnPropertyDescriptor:Je,getOwnPropertyNames:Ce,getOwnPropertySymbols:Ue}),Y&&v(v.S+v.F*(!De||p(function(){var Qe=Le();return"[null]"!=oe([Qe])||"{}"!=oe({a:Qe})||"{}"!=oe(Object(Qe))})),"JSON",{stringify:function(Qe){for(var at,_e,de=[Qe],Se=1;arguments.length>Se;)de.push(arguments[Se++]);if(_e=at=de[1],(H(at)||void 0!==Qe)&&!ce(Qe))return N(at)||(at=function(Me,ye){if("function"==typeof _e&&(ye=_e.call(this,Me,ye)),!ce(ye))return ye}),de[1]=at,oe.apply(Y,de)}}),Le.prototype[me]||d(18)(Le.prototype,me,Le.prototype.valueOf),b(Le,"Symbol"),b(Math,"Math",!0),b(O.JSON,"JSON",!0)},function(B,P,d){d(323),d(320),d(319),d(318),d(317),d(316),d(315),d(314),d(313),d(312),d(311),d(310),d(309),d(308),d(307),d(306),d(304),d(303),d(302),d(301),d(300),d(299),d(298),d(297),d(296),d(295),d(294),d(293),d(292),d(291),d(290),d(289),d(288),d(287),d(286),d(285),d(284),d(283),d(282),d(281),d(280),d(279),d(278),d(276),d(275),d(274),d(273),d(272),d(271),d(270),d(269),d(268),d(267),d(266),d(265),d(264),d(263),d(262),d(261),d(260),d(259),d(258),d(257),d(256),d(255),d(254),d(253),d(252),d(251),d(250),d(249),d(248),d(247),d(246),d(245),d(244),d(243),d(241),d(240),d(238),d(237),d(236),d(235),d(234),d(233),d(232),d(229),d(228),d(227),d(226),d(225),d(224),d(223),d(222),d(221),d(220),d(219),d(218),d(217),d(128),d(216),d(215),d(126),d(214),d(213),d(212),d(211),d(210),d(206),d(205),d(204),d(203),d(202),d(201),d(200),d(199),d(198),d(197),d(196),d(195),d(194),d(193),d(192),d(191),d(190),d(189),d(188),d(187),d(186),d(185),d(184),d(183),d(182),d(181),d(179),d(178),d(177),B.exports=d(37)},function(B,P,d){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.MD5=P.SFSRoom=P.SetBuddyVariablesRequest=P.RemoveBuddyRequest=P.InitBuddyListRequest=P.GoOnlineRequest=P.BuddyMessageRequest=P.BlockBuddyRequest=P.AddBuddyRequest=P.SetUserPositionRequest=P.QuickJoinGameRequest=P.JoinRoomInvitationRequest=P.InviteUsersRequest=P.InvitationReplyRequest=P.CreateSFSGameRequest=P.BanUserRequest=P.KickUserRequest=P.ExtensionRequest=P.FindUsersRequest=P.FindRoomsRequest=P.PlayerToSpectatorRequest=P.SpectatorToPlayerRequest=P.UnsubscribeRoomGroupRequest=P.SubscribeRoomGroupRequest=P.SetUserVariablesRequest=P.SetRoomVariablesRequest=P.AdminMessageRequest=P.ModeratorMessageRequest=P.ObjectMessageRequest=P.PrivateMessageRequest=P.PublicMessageRequest=P.ChangeRoomCapacityRequest=P.ChangeRoomPasswordStateRequest=P.ChangeRoomNameRequest=P.LeaveRoomRequest=P.QuickJoinOrCreateRoomRequest=P.CreateRoomRequest=P.JoinRoomRequest=P.LogoutRequest=P.LoginRequest=P.PasswordUtil=P.ClientDisconnectionReason=P.LoggerEvent=P.LogLevel=P.SFSErrorCodes=P.MessageRecipientMode=P.BanMode=P.MapLimits=P.RoomExtension=P.RoomEvents=P.RoomPermissions=P.MMORoomSettings=P.SFSGameSettings=P.RoomSettings=P.UserProperties=P.RoomProperties=P.StringMatch=P.NumberMatch=P.BoolMatch=P.LogicOperator=P.MatchExpression=P.MMOItemVariable=P.ReservedBuddyVariables=P.SFSBuddyVariable=P.ReservedRoomVariables=P.SFSRoomVariable=P.SFSUserVariable=P.VariableType=P.UserPrivileges=P.InvitationReply=P.Vec3D=P.SFSArray=P.SFSObject=P.SFSDataType=P.SFSBuddyEvent=P.SFSEvent=P.SmartFox=void 0;var O=d(324);Object.keys(O).forEach(function(at){"default"!==at&&"__esModule"!==at&&Object.defineProperty(P,at,{enumerable:!0,get:function(){return O[at]}})});var E=d(176);Object.defineProperty(P,"SmartFox",{enumerable:!0,get:function(){return E.SmartFox}});var T=d(39);Object.defineProperty(P,"SFSEvent",{enumerable:!0,get:function(){return T.SFSEvent}}),Object.defineProperty(P,"SFSBuddyEvent",{enumerable:!0,get:function(){return T.SFSBuddyEvent}});var v=d(8);Object.defineProperty(P,"SFSDataType",{enumerable:!0,get:function(){return v.SFSDataType}}),Object.defineProperty(P,"SFSObject",{enumerable:!0,get:function(){return v.SFSObject}}),Object.defineProperty(P,"SFSArray",{enumerable:!0,get:function(){return v.SFSArray}}),Object.defineProperty(P,"Vec3D",{enumerable:!0,get:function(){return v.Vec3D}});var m=d(72);Object.defineProperty(P,"InvitationReply",{enumerable:!0,get:function(){return m.InvitationReply}});var _=d(47);Object.defineProperty(P,"UserPrivileges",{enumerable:!0,get:function(){return _.UserPrivileges}});var p=d(48);Object.defineProperty(P,"VariableType",{enumerable:!0,get:function(){return p.VariableType}});var f=d(59);Object.defineProperty(P,"SFSUserVariable",{enumerable:!0,get:function(){return f.SFSUserVariable}});var b=d(49);Object.defineProperty(P,"SFSRoomVariable",{enumerable:!0,get:function(){return b.SFSRoomVariable}}),Object.defineProperty(P,"ReservedRoomVariables",{enumerable:!0,get:function(){return b.ReservedRoomVariables}});var C=d(46);Object.defineProperty(P,"SFSBuddyVariable",{enumerable:!0,get:function(){return C.SFSBuddyVariable}}),Object.defineProperty(P,"ReservedBuddyVariables",{enumerable:!0,get:function(){return C.ReservedBuddyVariables}});var h=d(73);Object.defineProperty(P,"MMOItemVariable",{enumerable:!0,get:function(){return h.MMOItemVariable}});var g=d(38);Object.defineProperty(P,"MatchExpression",{enumerable:!0,get:function(){return g.MatchExpression}}),Object.defineProperty(P,"LogicOperator",{enumerable:!0,get:function(){return g.LogicOperator}});var S=d(161);Object.defineProperty(P,"BoolMatch",{enumerable:!0,get:function(){return S.BoolMatch}}),Object.defineProperty(P,"NumberMatch",{enumerable:!0,get:function(){return S.NumberMatch}}),Object.defineProperty(P,"StringMatch",{enumerable:!0,get:function(){return S.StringMatch}});var R=d(160);Object.defineProperty(P,"RoomProperties",{enumerable:!0,get:function(){return R.RoomProperties}}),Object.defineProperty(P,"UserProperties",{enumerable:!0,get:function(){return R.UserProperties}});var N=d(56);Object.defineProperty(P,"RoomSettings",{enumerable:!0,get:function(){return N.RoomSettings}}),Object.defineProperty(P,"SFSGameSettings",{enumerable:!0,get:function(){return N.SFSGameSettings}}),Object.defineProperty(P,"MMORoomSettings",{enumerable:!0,get:function(){return N.MMORoomSettings}}),Object.defineProperty(P,"RoomPermissions",{enumerable:!0,get:function(){return N.RoomPermissions}}),Object.defineProperty(P,"RoomEvents",{enumerable:!0,get:function(){return N.RoomEvents}}),Object.defineProperty(P,"RoomExtension",{enumerable:!0,get:function(){return N.RoomExtension}}),Object.defineProperty(P,"MapLimits",{enumerable:!0,get:function(){return N.MapLimits}}),Object.defineProperty(P,"BanMode",{enumerable:!0,get:function(){return N.BanMode}}),Object.defineProperty(P,"MessageRecipientMode",{enumerable:!0,get:function(){return N.MessageRecipientMode}});var k=d(74);Object.defineProperty(P,"SFSErrorCodes",{enumerable:!0,get:function(){return k.SFSErrorCodes}});var H=d(50);Object.defineProperty(P,"LogLevel",{enumerable:!0,get:function(){return H.LogLevel}}),Object.defineProperty(P,"LoggerEvent",{enumerable:!0,get:function(){return H.LoggerEvent}});var L=d(51);Object.defineProperty(P,"ClientDisconnectionReason",{enumerable:!0,get:function(){return L.ClientDisconnectionReason}});var U=d(159);Object.defineProperty(P,"PasswordUtil",{enumerable:!0,get:function(){return U.PasswordUtil}});var G=d(118);Object.defineProperty(P,"LoginRequest",{enumerable:!0,get:function(){return G.LoginRequest}});var X=d(117);Object.defineProperty(P,"LogoutRequest",{enumerable:!0,get:function(){return X.LogoutRequest}});var te=d(116);Object.defineProperty(P,"JoinRoomRequest",{enumerable:!0,get:function(){return te.JoinRoomRequest}});var z=d(57);Object.defineProperty(P,"CreateRoomRequest",{enumerable:!0,get:function(){return z.CreateRoomRequest}});var le=d(158);Object.defineProperty(P,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return le.QuickJoinOrCreateRoomRequest}});var K=d(157);Object.defineProperty(P,"LeaveRoomRequest",{enumerable:!0,get:function(){return K.LeaveRoomRequest}});var he=d(115);Object.defineProperty(P,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return he.ChangeRoomNameRequest}});var Te=d(114);Object.defineProperty(P,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Te.ChangeRoomPasswordStateRequest}});var be=d(113);Object.defineProperty(P,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return be.ChangeRoomCapacityRequest}});var Le=d(70);Object.defineProperty(P,"PublicMessageRequest",{enumerable:!0,get:function(){return Le.PublicMessageRequest}}),Object.defineProperty(P,"PrivateMessageRequest",{enumerable:!0,get:function(){return Le.PrivateMessageRequest}}),Object.defineProperty(P,"ObjectMessageRequest",{enumerable:!0,get:function(){return Le.ObjectMessageRequest}}),Object.defineProperty(P,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Le.ModeratorMessageRequest}}),Object.defineProperty(P,"AdminMessageRequest",{enumerable:!0,get:function(){return Le.AdminMessageRequest}});var Y=d(112);Object.defineProperty(P,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return Y.SetRoomVariablesRequest}});var oe=d(111);Object.defineProperty(P,"SetUserVariablesRequest",{enumerable:!0,get:function(){return oe.SetUserVariablesRequest}});var J=d(110);Object.defineProperty(P,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return J.SubscribeRoomGroupRequest}});var me=d(109);Object.defineProperty(P,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return me.UnsubscribeRoomGroupRequest}});var ie=d(108);Object.defineProperty(P,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return ie.SpectatorToPlayerRequest}});var se=d(107);Object.defineProperty(P,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return se.PlayerToSpectatorRequest}});var ue=d(106);Object.defineProperty(P,"FindRoomsRequest",{enumerable:!0,get:function(){return ue.FindRoomsRequest}});var Re=d(105);Object.defineProperty(P,"FindUsersRequest",{enumerable:!0,get:function(){return Re.FindUsersRequest}});var Xe=d(97);Object.defineProperty(P,"ExtensionRequest",{enumerable:!0,get:function(){return Xe.ExtensionRequest}});var De=d(156);Object.defineProperty(P,"KickUserRequest",{enumerable:!0,get:function(){return De.KickUserRequest}});var Et=d(155);Object.defineProperty(P,"BanUserRequest",{enumerable:!0,get:function(){return Et.BanUserRequest}});var $e=d(154);Object.defineProperty(P,"CreateSFSGameRequest",{enumerable:!0,get:function(){return $e.CreateSFSGameRequest}});var Ne=d(153);Object.defineProperty(P,"InvitationReplyRequest",{enumerable:!0,get:function(){return Ne.InvitationReplyRequest}});var ne=d(69);Object.defineProperty(P,"InviteUsersRequest",{enumerable:!0,get:function(){return ne.InviteUsersRequest}});var ce=d(152);Object.defineProperty(P,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return ce.JoinRoomInvitationRequest}});var fe=d(151);Object.defineProperty(P,"QuickJoinGameRequest",{enumerable:!0,get:function(){return fe.QuickJoinGameRequest}});var Ie=d(104);Object.defineProperty(P,"SetUserPositionRequest",{enumerable:!0,get:function(){return Ie.SetUserPositionRequest}});var je=d(102);Object.defineProperty(P,"AddBuddyRequest",{enumerable:!0,get:function(){return je.AddBuddyRequest}});var Je=d(100);Object.defineProperty(P,"BlockBuddyRequest",{enumerable:!0,get:function(){return Je.BlockBuddyRequest}});var Ce=d(150);Object.defineProperty(P,"BuddyMessageRequest",{enumerable:!0,get:function(){return Ce.BuddyMessageRequest}});var Ue=d(99);Object.defineProperty(P,"GoOnlineRequest",{enumerable:!0,get:function(){return Ue.GoOnlineRequest}});var Ht=d(103);Object.defineProperty(P,"InitBuddyListRequest",{enumerable:!0,get:function(){return Ht.InitBuddyListRequest}});var Dt=d(101);Object.defineProperty(P,"RemoveBuddyRequest",{enumerable:!0,get:function(){return Dt.RemoveBuddyRequest}});var $t=d(98);Object.defineProperty(P,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return $t.SetBuddyVariablesRequest}});var Hn=d(9);Object.defineProperty(P,"SFSRoom",{enumerable:!0,get:function(){return Hn.SFSRoom}});var Qe=d(71);Object.defineProperty(P,"MD5",{enumerable:!0,get:function(){return Qe.MD5}}),d(149)}])},1308:function(ht,B,P){var d;ht=P.nmd(ht),function(O){"object"==typeof global&&global;var m,_=2147483647,p=36,N=/^xn--/,k=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=Math.floor,X=String.fromCharCode;function z(se){throw RangeError(L[se])}function le(se,ue){for(var Re=se.length,Xe=[];Re--;)Xe[Re]=ue(se[Re]);return Xe}function K(se,ue){var Re=se.split("@"),Xe="";return Re.length>1&&(Xe=Re[0]+"@",se=Re[1]),Xe+le((se=se.replace(H,".")).split("."),ue).join(".")}function he(se){for(var De,Et,ue=[],Re=0,Xe=se.length;Re<Xe;)(De=se.charCodeAt(Re++))>=55296&&De<=56319&&Re<Xe?56320==(64512&(Et=se.charCodeAt(Re++)))?ue.push(((1023&De)<<10)+(1023&Et)+65536):(ue.push(De),Re--):ue.push(De);return ue}function Te(se){return le(se,function(ue){var Re="";return ue>65535&&(Re+=X((ue-=65536)>>>10&1023|55296),ue=56320|1023&ue),Re+X(ue)}).join("")}function be(se){return se-48<10?se-22:se-65<26?se-65:se-97<26?se-97:p}function Le(se,ue){return se+22+75*(se<26)-((0!=ue)<<5)}function Y(se,ue,Re){var Xe=0;for(se=Re?G(se/700):se>>1,se+=G(se/ue);se>455;Xe+=p)se=G(se/35);return G(Xe+36*se/(se+38))}function oe(se){var Xe,Ne,ne,ce,fe,Ie,je,Je,Ce,Ue,ue=[],Re=se.length,De=0,Et=128,$e=72;for((Ne=se.lastIndexOf("-"))<0&&(Ne=0),ne=0;ne<Ne;++ne)se.charCodeAt(ne)>=128&&z("not-basic"),ue.push(se.charCodeAt(ne));for(ce=Ne>0?Ne+1:0;ce<Re;){for(fe=De,Ie=1,je=p;ce>=Re&&z("invalid-input"),((Je=be(se.charCodeAt(ce++)))>=p||Je>G((_-De)/Ie))&&z("overflow"),De+=Je*Ie,!(Je<(Ce=je<=$e?1:je>=$e+26?26:je-$e));je+=p)Ie>G(_/(Ue=p-Ce))&&z("overflow"),Ie*=Ue;$e=Y(De-fe,Xe=ue.length+1,0==fe),G(De/Xe)>_-Et&&z("overflow"),Et+=G(De/Xe),De%=Xe,ue.splice(De++,0,Et)}return Te(ue)}function J(se){var ue,Re,Xe,De,Et,$e,Ne,ne,ce,fe,Ie,Je,Ce,Ue,Ht,je=[];for(Je=(se=he(se)).length,ue=128,Re=0,Et=72,$e=0;$e<Je;++$e)(Ie=se[$e])<128&&je.push(X(Ie));for(Xe=De=je.length,De&&je.push("-");Xe<Je;){for(Ne=_,$e=0;$e<Je;++$e)(Ie=se[$e])>=ue&&Ie<Ne&&(Ne=Ie);for(Ne-ue>G((_-Re)/(Ce=Xe+1))&&z("overflow"),Re+=(Ne-ue)*Ce,ue=Ne,$e=0;$e<Je;++$e)if((Ie=se[$e])<ue&&++Re>_&&z("overflow"),Ie==ue){for(ne=Re,ce=p;!(ne<(fe=ce<=Et?1:ce>=Et+26?26:ce-Et));ce+=p)je.push(X(Le(fe+(Ht=ne-fe)%(Ue=p-fe),0))),ne=G(Ht/Ue);je.push(X(Le(ne,0))),Et=Y(Re,Ce,Xe==De),Re=0,++Xe}++Re,++ue}return je.join("")}m={version:"1.3.2",ucs2:{decode:he,encode:Te},decode:oe,encode:J,toASCII:function ie(se){return K(se,function(ue){return k.test(ue)?"xn--"+J(ue):ue})},toUnicode:function me(se){return K(se,function(ue){return N.test(ue)?oe(ue.slice(4).toLowerCase()):ue})}},void 0!==(d=function(){return m}.call(B,P,B,ht))&&(ht.exports=d)}()},8762:(ht,B,P)=>{"use strict";var O=P(1308),E=P(796);function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}B.Qc=U,B.DB=function X(z,le){return U(z,!1,!0).resolve(le)},B.WU=function G(z){return E.isString(z)&&(z=U(z)),z instanceof T?z.format():T.prototype.format.call(z)};var v=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,_=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),b=["'"].concat(f),C=["%","/","?",";","#"].concat(b),h=["/","?","#"],S=/^[+a-z0-9A-Z_-]{0,63}$/,R=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=P(7137);function U(z,le,K){if(z&&E.isObject(z)&&z instanceof T)return z;var he=new T;return he.parse(z,le,K),he}T.prototype.parse=function(z,le,K){if(!E.isString(z))throw new TypeError("Parameter 'url' must be a string, not "+typeof z);var he=z.indexOf("?"),Te=-1!==he&&he<z.indexOf("#")?"?":"#",be=z.split(Te);be[0]=be[0].replace(/\\/g,"/");var Y=z=be.join(Te);if(Y=Y.trim(),!K&&1===z.split("#").length){var oe=_.exec(Y);if(oe)return this.path=Y,this.href=Y,this.pathname=oe[1],oe[2]?(this.search=oe[2],this.query=le?L.parse(this.search.substr(1)):this.search.substr(1)):le&&(this.search="",this.query={}),this}var J=v.exec(Y);if(J){var me=(J=J[0]).toLowerCase();this.protocol=me,Y=Y.substr(J.length)}if(K||J||Y.match(/^\/\/[^@\/]+@[^@\/]+/)){var ie="//"===Y.substr(0,2);ie&&(!J||!k[J])&&(Y=Y.substr(2),this.slashes=!0)}if(!k[J]&&(ie||J&&!H[J])){for(var se=-1,ue=0;ue<h.length;ue++)-1!==(Re=Y.indexOf(h[ue]))&&(-1===se||Re<se)&&(se=Re);var Xe,De;for(-1!==(De=-1===se?Y.lastIndexOf("@"):Y.lastIndexOf("@",se))&&(Xe=Y.slice(0,De),Y=Y.slice(De+1),this.auth=decodeURIComponent(Xe)),se=-1,ue=0;ue<C.length;ue++){var Re;-1!==(Re=Y.indexOf(C[ue]))&&(-1===se||Re<se)&&(se=Re)}-1===se&&(se=Y.length),this.host=Y.slice(0,se),Y=Y.slice(se),this.parseHost(),this.hostname=this.hostname||"";var Et="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Et)for(var $e=this.hostname.split(/\./),Ne=(ue=0,$e.length);ue<Ne;ue++){var ne=$e[ue];if(ne&&!ne.match(S)){for(var ce="",fe=0,Ie=ne.length;fe<Ie;fe++)ne.charCodeAt(fe)>127?ce+="x":ce+=ne[fe];if(!ce.match(S)){var je=$e.slice(0,ue),Je=$e.slice(ue+1),Ce=ne.match(R);Ce&&(je.push(Ce[1]),Je.unshift(Ce[2])),Je.length&&(Y="/"+Je.join(".")+Y),this.hostname=je.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Et||(this.hostname=O.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Et&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Y[0]&&(Y="/"+Y))}if(!N[me])for(ue=0,Ne=b.length;ue<Ne;ue++){var Dt=b[ue];if(-1!==Y.indexOf(Dt)){var $t=encodeURIComponent(Dt);$t===Dt&&($t=escape(Dt)),Y=Y.split(Dt).join($t)}}var Hn=Y.indexOf("#");-1!==Hn&&(this.hash=Y.substr(Hn),Y=Y.slice(0,Hn));var Qe=Y.indexOf("?");return-1!==Qe?(this.search=Y.substr(Qe),this.query=Y.substr(Qe+1),le&&(this.query=L.parse(this.query)),Y=Y.slice(0,Qe)):le&&(this.search="",this.query={}),Y&&(this.pathname=Y),H[me]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},T.prototype.format=function(){var z=this.auth||"";z&&(z=(z=encodeURIComponent(z)).replace(/%3A/i,":"),z+="@");var le=this.protocol||"",K=this.pathname||"",he=this.hash||"",Te=!1,be="";this.host?Te=z+this.host:this.hostname&&(Te=z+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Te+=":"+this.port)),this.query&&E.isObject(this.query)&&Object.keys(this.query).length&&(be=L.stringify(this.query));var Le=this.search||be&&"?"+be||"";return le&&":"!==le.substr(-1)&&(le+=":"),this.slashes||(!le||H[le])&&!1!==Te?(Te="//"+(Te||""),K&&"/"!==K.charAt(0)&&(K="/"+K)):Te||(Te=""),he&&"#"!==he.charAt(0)&&(he="#"+he),Le&&"?"!==Le.charAt(0)&&(Le="?"+Le),le+Te+(K=K.replace(/[?#]/g,function(Y){return encodeURIComponent(Y)}))+(Le=Le.replace("#","%23"))+he},T.prototype.resolve=function(z){return this.resolveObject(U(z,!1,!0)).format()},T.prototype.resolveObject=function(z){if(E.isString(z)){var le=new T;le.parse(z,!1,!0),z=le}for(var K=new T,he=Object.keys(this),Te=0;Te<he.length;Te++){var be=he[Te];K[be]=this[be]}if(K.hash=z.hash,""===z.href)return K.href=K.format(),K;if(z.slashes&&!z.protocol){for(var Le=Object.keys(z),Y=0;Y<Le.length;Y++){var oe=Le[Y];"protocol"!==oe&&(K[oe]=z[oe])}return H[K.protocol]&&K.hostname&&!K.pathname&&(K.path=K.pathname="/"),K.href=K.format(),K}if(z.protocol&&z.protocol!==K.protocol){if(!H[z.protocol]){for(var J=Object.keys(z),me=0;me<J.length;me++){var ie=J[me];K[ie]=z[ie]}return K.href=K.format(),K}if(K.protocol=z.protocol,z.host||k[z.protocol])K.pathname=z.pathname;else{for(var Ne=(z.pathname||"").split("/");Ne.length&&!(z.host=Ne.shift()););z.host||(z.host=""),z.hostname||(z.hostname=""),""!==Ne[0]&&Ne.unshift(""),Ne.length<2&&Ne.unshift(""),K.pathname=Ne.join("/")}return K.search=z.search,K.query=z.query,K.host=z.host||"",K.auth=z.auth,K.hostname=z.hostname||z.host,K.port=z.port,(K.pathname||K.search)&&(K.path=(K.pathname||"")+(K.search||"")),K.slashes=K.slashes||z.slashes,K.href=K.format(),K}var Re=K.pathname&&"/"===K.pathname.charAt(0),Xe=z.host||z.pathname&&"/"===z.pathname.charAt(0),De=Xe||Re||K.host&&z.pathname,Et=De,$e=K.pathname&&K.pathname.split("/")||[],ne=(Ne=z.pathname&&z.pathname.split("/")||[],K.protocol&&!H[K.protocol]);if(ne&&(K.hostname="",K.port=null,K.host&&(""===$e[0]?$e[0]=K.host:$e.unshift(K.host)),K.host="",z.protocol&&(z.hostname=null,z.port=null,z.host&&(""===Ne[0]?Ne[0]=z.host:Ne.unshift(z.host)),z.host=null),De=De&&(""===Ne[0]||""===$e[0])),Xe)K.host=z.host||""===z.host?z.host:K.host,K.hostname=z.hostname||""===z.hostname?z.hostname:K.hostname,K.search=z.search,K.query=z.query,$e=Ne;else if(Ne.length)$e||($e=[]),$e.pop(),$e=$e.concat(Ne),K.search=z.search,K.query=z.query;else if(!E.isNullOrUndefined(z.search))return ne&&(K.hostname=K.host=$e.shift(),(ce=!!(K.host&&K.host.indexOf("@")>0)&&K.host.split("@"))&&(K.auth=ce.shift(),K.host=K.hostname=ce.shift())),K.search=z.search,K.query=z.query,(!E.isNull(K.pathname)||!E.isNull(K.search))&&(K.path=(K.pathname?K.pathname:"")+(K.search?K.search:"")),K.href=K.format(),K;if(!$e.length)return K.pathname=null,K.path=K.search?"/"+K.search:null,K.href=K.format(),K;for(var fe=$e.slice(-1)[0],Ie=(K.host||z.host||$e.length>1)&&("."===fe||".."===fe)||""===fe,je=0,Je=$e.length;Je>=0;Je--)"."===(fe=$e[Je])?$e.splice(Je,1):".."===fe?($e.splice(Je,1),je++):je&&($e.splice(Je,1),je--);if(!De&&!Et)for(;je--;je)$e.unshift("..");De&&""!==$e[0]&&(!$e[0]||"/"!==$e[0].charAt(0))&&$e.unshift(""),Ie&&"/"!==$e.join("/").substr(-1)&&$e.push("");var ce,Ce=""===$e[0]||$e[0]&&"/"===$e[0].charAt(0);return ne&&(K.hostname=K.host=Ce?"":$e.length?$e.shift():"",(ce=!!(K.host&&K.host.indexOf("@")>0)&&K.host.split("@"))&&(K.auth=ce.shift(),K.host=K.hostname=ce.shift())),(De=De||K.host&&$e.length)&&!Ce&&$e.unshift(""),$e.length?K.pathname=$e.join("/"):(K.pathname=null,K.path=null),(!E.isNull(K.pathname)||!E.isNull(K.search))&&(K.path=(K.pathname?K.pathname:"")+(K.search?K.search:"")),K.auth=z.auth||K.auth,K.slashes=K.slashes||z.slashes,K.href=K.format(),K},T.prototype.parseHost=function(){var z=this.host,le=m.exec(z);le&&(":"!==(le=le[0])&&(this.port=le.substr(1)),z=z.substr(0,z.length-le.length)),z&&(this.hostname=z)}},796:ht=>{"use strict";ht.exports={isString:function(B){return"string"==typeof B},isObject:function(B){return"object"==typeof B&&null!==B},isNull:function(B){return null===B},isNullOrUndefined:function(B){return null==B}}}},ht=>{ht(ht.s=7818)}]);